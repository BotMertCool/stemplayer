(self.webpackChunkblank_board = self.webpackChunkblank_board || []).push([[179], {
    "88e8bdd04c305099c2c9": (e,t,r)=>{
        "use strict";
        r.d(t, {
            WU: ()=>i
        });
        var a = r("8af190b70a6bc55c6f1b");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const o = ({width: e=17, height: t=19, fill: r="white"})=>a.createElement("svg", {
            width: e,
            height: t,
            viewBox: "0 0 17 19",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }, a.createElement("path", {
            d: "M15.1252 6.67829C17.1252 7.83299 17.1252 10.7197 15.1252 11.8744L5.02222 17.7074C3.02222 18.8621 0.522224 17.4187 0.522224 15.1093L0.522224 3.44337C0.522224 1.13397 3.02222 -0.309397 5.02222 0.845304L15.1252 6.67829Z",
            fill: r
        }))
          , s = ({width: e=25, height: t=25})=>a.createElement("svg", {
            width: "22",
            height: "25",
            viewBox: "0 0 22 25",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }, a.createElement("path", {
            d: "M19.2349 11.634C19.9015 12.0189 19.9015 12.9811 19.2349 13.366L3.38525 22.5168C2.71859 22.9017 1.88525 22.4206 1.88525 21.6508L1.88525 3.34922C1.88525 2.57942 2.71859 2.0983 3.38525 2.4832L19.2349 11.634Z",
            stroke: "currentColor",
            strokeWidth: "3"
        }))
          , n = ({width: e=31, height: t=35})=>a.createElement("svg", {
            width: e,
            height: t,
            viewBox: "0 0 31 35",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }, a.createElement("path", {
            d: "M30.2109 17.5L0.644537 34.5702L0.644539 0.429825L30.2109 17.5Z",
            fill: "white"
        }))
          , i = ({width: e=44, height: t=44, stroke: r="var(--color-main)"})=>a.createElement("svg", {
            width: e,
            height: t,
            viewBox: "0 0 44 44",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }, a.createElement("circle", {
            cx: "22",
            cy: "22",
            r: "20",
            stroke: r,
            strokeWidth: "4"
        }));
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(o, "Play", "/home/vsts/work/1/s/src/assets/icons/Play.tsx"),
            e.register(s, "PlayOutline", "/home/vsts/work/1/s/src/assets/icons/Play.tsx"),
            e.register(n, "PlayDonda2", "/home/vsts/work/1/s/src/assets/icons/Play.tsx"),
            e.register(i, "PlayNew", "/home/vsts/work/1/s/src/assets/icons/Play.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "98207642210e3d58d89a": (e,t,r)=>{
        "use strict";
        r.d(t, {
            _z: ()=>o,
            mE: ()=>s,
            ry: ()=>n
        });
        var a = r("8af190b70a6bc55c6f1b");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const o = ({width: e=74, height: t=33, color: r="var(--color-main)"})=>a.createElement("svg", {
            width: e,
            height: t,
            viewBox: "0 0 74 33",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }, a.createElement("path", {
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M16.28 28.96L57.72 28.96C64.723 28.96 70.4 23.283 70.4 16.28C70.4 9.27703 64.723 3.6 57.72 3.6L16.28 3.6C9.27703 3.6 3.6 9.27703 3.6 16.28C3.6 23.283 9.27703 28.96 16.28 28.96ZM57.72 32.56C66.7112 32.56 74 25.2712 74 16.28C74 7.2888 66.7112 -3.8147e-06 57.72 -3.8147e-06L16.28 -3.8147e-06C7.2888 -3.8147e-06 0 7.2888 0 16.28C0 25.2712 7.2888 32.56 16.28 32.56L57.72 32.56ZM51.7484 16.3636C51.7484 13.4886 54.0791 11.1579 56.9542 11.1579C59.8292 11.1579 62.1599 13.4886 62.1599 16.3636C62.1599 19.2387 59.8292 21.5694 56.9542 21.5694C54.0791 21.5694 51.7484 19.2387 51.7484 16.3636ZM16.6009 11.1579C13.7258 11.1579 11.3951 13.4886 11.3951 16.3636C11.3951 19.2387 13.7258 21.5694 16.6009 21.5694C19.4759 21.5694 21.8066 19.2387 21.8066 16.3636C21.8066 13.4886 19.4759 11.1579 16.6009 11.1579Z",
            fill: "var(--color-main)"
        }))
          , s = ({width: e=74, height: t=33, color: r="var(--color-main)"})=>a.createElement("svg", {
            width: e,
            height: t,
            viewBox: "0 0 74 33",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }, a.createElement("path", {
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M16.28 28.96L57.72 28.96C64.723 28.96 70.4 23.283 70.4 16.28C70.4 9.27703 64.723 3.6 57.72 3.6L16.28 3.6C9.27703 3.6 3.6 9.27703 3.6 16.28C3.6 23.283 9.27703 28.96 16.28 28.96ZM57.72 32.56C66.7112 32.56 74 25.2712 74 16.28C74 7.2888 66.7112 -3.8147e-06 57.72 -3.8147e-06L16.28 -3.8147e-06C7.2888 -3.8147e-06 0 7.2888 0 16.28C0 25.2712 7.2888 32.56 16.28 32.56L57.72 32.56ZM51.7484 16.3636C51.7484 13.4886 54.0791 11.1579 56.9542 11.1579C59.8292 11.1579 62.1599 13.4886 62.1599 16.3636C62.1599 19.2387 59.8292 21.5694 56.9542 21.5694C54.0791 21.5694 51.7484 19.2387 51.7484 16.3636ZM16.6009 11.1579C13.7258 11.1579 11.3951 13.4886 11.3951 16.3636C11.3951 19.2387 13.7258 21.5694 16.6009 21.5694C19.4759 21.5694 21.8066 19.2387 21.8066 16.3636C21.8066 13.4886 19.4759 11.1579 16.6009 11.1579Z",
            fill: "url(#paint0_linear_37_215)"
        }), a.createElement("defs", null, a.createElement("linearGradient", {
            id: "paint0_linear_37_215",
            x1: "2.12071e-07",
            y1: "16.56",
            x2: "74",
            y2: "16.56",
            gradientUnits: "userSpaceOnUse"
        }, a.createElement("stop", {
            stopColor: r
        }), a.createElement("stop", {
            offset: "0.609375",
            stopColor: r,
            stopOpacity: "0.35"
        }))))
          , n = ({width: e=74, height: t=33, color: r="var(--color-main)"})=>a.createElement("svg", {
            width: e,
            height: t,
            viewBox: "0 0 74 33",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }, a.createElement("path", {
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M57.72 3.6H16.28C9.27703 3.6 3.6 9.27703 3.6 16.28C3.6 23.283 9.27703 28.96 16.28 28.96H57.72C64.723 28.96 70.4 23.283 70.4 16.28C70.4 9.27703 64.723 3.6 57.72 3.6ZM16.28 0C7.28881 0 0 7.28881 0 16.28C0 25.2712 7.2888 32.56 16.28 32.56H57.72C66.7112 32.56 74 25.2712 74 16.28C74 7.28881 66.7112 0 57.72 0L16.28 0ZM22.2516 16.1964C22.2516 19.0714 19.9209 21.4021 17.0458 21.4021C14.1708 21.4021 11.8401 19.0714 11.8401 16.1964C11.8401 13.3213 14.1708 10.9906 17.0458 10.9906C19.9209 10.9906 22.2516 13.3213 22.2516 16.1964ZM57.3991 21.4021C60.2742 21.4021 62.6049 19.0714 62.6049 16.1964C62.6049 13.3213 60.2742 10.9906 57.3991 10.9906C54.5241 10.9906 52.1934 13.3213 52.1934 16.1964C52.1934 19.0714 54.5241 21.4021 57.3991 21.4021Z",
            fill: "url(#paint0_linear_37_215)"
        }), a.createElement("defs", null, a.createElement("linearGradient", {
            id: "paint0_linear_37_215",
            x1: "74",
            y1: "16",
            x2: "-2.12071e-07",
            y2: "16",
            gradientUnits: "userSpaceOnUse"
        }, a.createElement("stop", {
            stopColor: r
        }), a.createElement("stop", {
            offset: "0.609375",
            stopColor: r,
            stopOpacity: "0.35"
        }))));
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(o, "PrevNext", "/home/vsts/work/1/s/src/assets/icons/PrevNext.tsx"),
            e.register(s, "NextHighlighted", "/home/vsts/work/1/s/src/assets/icons/PrevNext.tsx"),
            e.register(n, "PrevHighlighted", "/home/vsts/work/1/s/src/assets/icons/PrevNext.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "804fe702b68cd889ff76": (e,t,r)=>{
        "use strict";
        r.r(t),
        r.d(t, {
            Button: ()=>c,
            default: ()=>l
        });
        var a = r("8af190b70a6bc55c6f1b")
          , o = r("9c2db445b2a1a7a1cf6d");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        var s = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const n = (0,
        o.ZP)({
            resolved: {},
            chunkName: ()=>"Loader",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.resolve().then(r.bind(r, "abf12094d6dd744112a4")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "abf12094d6dd744112a4"
            }
        })
          , i = ()=>a.createElement("span", null, a.createElement("span", {
            className: "dots__dot--1"
        }, "."), a.createElement("span", {
            className: "dots__dot--2"
        }, "."), a.createElement("span", {
            className: "dots__dot--3"
        }, "."))
          , c = ({icon: e, text: t=!1, type: r="button", onClick: o, onMouseDown: s, onMouseLeave: c, onMouseUp: _, onTouchMove: l, onTouchStart: d, onTouchEnd: u, disabled: f=!1, loading: m=!1, active: h=!1, hideTextWhenLoading: p=!1, className: b, size: v="", brackets: E=!1, dots: g=!1, id: y})=>a.createElement("button", {
            className: `button\n            ${m ? " button--loading" : ""}\n            ${v ? ` button--${v}` : ""}\n            ${f ? " disabled" : ""}\n            ${h ? " button--active" : ""}\n            ${e ? " button--icon" : ""}\n            ${t ? " button--text" : " button--no-text"}\n            ${b ? ` ${b}` : ""}\n        `,
            id: y && y,
            type: r,
            onClick: o && !m ? o : void 0,
            onMouseDown: s && !m ? s : void 0,
            onMouseLeave: c && !m ? c : void 0,
            onMouseUp: _ && !m ? _ : void 0,
            onTouchMove: l && !m ? l : void 0,
            onTouchStart: d && !m ? d : void 0,
            onTouchEnd: u && !m ? u : void 0,
            disabled: f
        }, m && a.createElement(n, {
            size: "small"
        }), e ? e() : !1 !== t ? a.createElement("span", {
            className: `button__text${p ? " button__text--hide-when-loading" : ""}`
        }, E ? "[ " : "", t, g ? a.createElement(i, null) : "", E ? " ]" : "") : null)
          , _ = c
          , l = _;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(n, "Loader", "/home/vsts/work/1/s/src/components/Button/index.tsx"),
            e.register(i, "Dots", "/home/vsts/work/1/s/src/components/Button/index.tsx"),
            e.register(c, "Button", "/home/vsts/work/1/s/src/components/Button/index.tsx"),
            e.register(_, "default", "/home/vsts/work/1/s/src/components/Button/index.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    b17b0ee5884def929afc: (e,t,r)=>{
        "use strict";
        r.d(t, {
            II: ()=>d,
            L_: ()=>u,
            TC: ()=>b
        });
        var a = r("990057777e9b2b7543e8")
          , o = r("8af190b70a6bc55c6f1b")
          , s = r("2f0f179fdd043e994433")
          , n = r("f60aef9fa88f4e9ce07a")
          , i = r("abf12094d6dd744112a4");
        function c(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var a = Object.getOwnPropertySymbols(e);
                t && (a = a.filter(function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                })),
                r.push.apply(r, a)
            }
            return r
        }
        function _(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = null != arguments[t] ? arguments[t] : {};
                t % 2 ? c(Object(r), !0).forEach(function(t) {
                    (0,
                    a.Z)(e, t, r[t])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : c(Object(r)).forEach(function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                })
            }
            return e
        }
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        var l = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const d = (0,
        o.forwardRef)(({min: e=null, max: t=null, maxLength: r=null, type: a="text", className: s="", invalid: n, placeholder: i="", value: c="", onChange: _, onInput: l, onBlur: d, autoFocus: u, disabled: f=!1, readOnly: m=!1, id: h, style: p, modifier: b, autoComplete: v, size: E, autoCapitalize: g},y)=>o.createElement("input", {
            min: e && e,
            max: t && t,
            maxLength: r && r,
            type: a,
            className: `input${b ? ` input--${b}` : ""}${n ? " input--invalid" : ""} ${s}`,
            placeholder: i,
            value: c,
            onChange: _,
            onBlur: d && d,
            onInput: l,
            disabled: f,
            readOnly: m,
            ref: y,
            id: h && h,
            style: p,
            size: E,
            "data-lpignore": "true",
            autoComplete: v,
            autoFocus: u && u,
            autoCapitalize: g
        }))
          , u = o.forwardRef((e,t)=>{
            var r;
            const a = (null === (r = e.placeholder) || void 0 === r ? void 0 : r.toUpperCase()) || void 0;
            return o.createElement("div", {
                className: "labeled-input",
                id: e.id
            }, o.createElement("label", {
                className: "input-sizer",
                "data-value": a
            }, o.createElement("span", null, e.label), o.createElement(d, _(_({}, e), {}, {
                onInput: e=>{
                    e.target.parentElement.dataset.value = e.target.value || a || ""
                }
                ,
                placeholder: a,
                size: 1,
                ref: t
            }))))
        }
        )
          , f = (e,t,r)=>{
            let a, o, s;
            if (0 == t)
                a = o = s = r;
            else {
                const n = (e,t,r)=>(r < 0 && (r += 1),
                r > 1 && (r -= 1),
                r < 1 / 6 ? e + 6 * (t - e) * r : r < .5 ? t : r < 2 / 3 ? e + (t - e) * (2 / 3 - r) * 6 : e)
                  , i = r < .5 ? r * (1 + t) : r + t - r * t
                  , c = 2 * r - i;
                a = n(c, i, e + 1 / 3),
                o = n(c, i, e),
                s = n(c, i, e - 1 / 3)
            }
            return [Math.round(255 * a), Math.round(255 * o), Math.round(255 * s)]
        }
          , m = (e,t,r)=>"#" + ((1 << 24) + (e << 16) + (t << 8) + r).toString(16).slice(1)
          , h = e=>{
            const t = parseInt(e, 16);
            return [t >> 16 & 255, t >> 8 & 255, 255 & t]
        }
          , p = (e,t,r)=>{
            let a = e / 255
              , o = t / 255
              , s = r / 255;
            const n = Math.max(a, o, s)
              , i = Math.min(a, o, s);
            let c = (n + i) / 2
              , _ = (n + i) / 2
              , l = (n + i) / 2;
            if (n == i)
                c = 0,
                _ = 0;
            else {
                const e = n - i;
                switch (_ = l > .5 ? e / (2 - n - i) : e / (n + i),
                n) {
                case a:
                    c = (o - s) / e + (o < s ? 6 : 0);
                    break;
                case o:
                    c = (s - a) / e + 2;
                    break;
                case s:
                    c = (a - o) / e + 4
                }
                c /= 6
            }
            return [Math.floor(360 * c), Math.floor(100 * _), Math.floor(100 * l)]
        }
          , b = ({name: e, value: t, onChange: r, disabled: a=!1})=>{
            const s = h(t.replace("#", ""))
              , [n,c] = (0,
            o.useState)(s)
              , [_,l] = (0,
            o.useState)(t.toUpperCase())
              , [u,b] = (0,
            o.useState)(!1)
              , [v,E] = (0,
            o.useState)(!0)
              , [g,y] = (0,
            o.useState)(!0)
              , A = (0,
            o.useRef)(null)
              , P = (0,
            o.useRef)(null)
              , M = (0,
            o.useRef)(null)
              , O = e=>{
                var t;
                null === (t = P.current) || void 0 === t || t.addEventListener("mousemove", D),
                D(e)
            }
              , w = e=>{
                var t;
                null === (t = P.current) || void 0 === t || t.removeEventListener("mousemove", D)
            }
              , T = e=>{
                var t;
                1 !== e.buttons && (null === (t = P.current) || void 0 === t || t.removeEventListener("mousemove", D))
            }
              , D = t=>{
                if (0 === t.button) {
                    const a = t.currentTarget
                      , o = Math.atan2(t.offsetY - a.height / 2, t.offsetX - a.width / 2)
                      , s = 1 - Math.hypot(t.offsetY - a.height / 2, t.offsetX - a.width / 2) / 85
                      , n = s < 0 ? 0 : s
                      , i = 180 * o / Math.PI + 90
                      , _ = f(i / 360, 1, .5 * n + .5)
                      , d = m(_[0], _[1], _[2]);
                    c(_),
                    l(d.toUpperCase()),
                    r(d, e)
                }
            }
              , L = (t,a)=>{
                const o = t.target.value;
                let s;
                if ((s = "" === o ? 0 : parseInt(o) && parseInt(o) > 255 ? 255 : parseInt(o)) && s <= 255 || 0 === s) {
                    const t = n.map((e,t)=>t === a ? s : e);
                    c(t);
                    const o = m(t[0], t[1], t[2]);
                    l(o.toUpperCase()),
                    r(o, e)
                }
            }
            ;
            return (0,
            o.useEffect)(()=>{
                if (!P.current)
                    return;
                const e = P.current.getContext("2d");
                e.imageSmoothingEnabled = !1,
                e.lineWidth = 1,
                e.clearRect(0, 0, 170, 170);
                for (let t = 1; t < 85; t++) {
                    const r = 85
                      , a = 85
                      , o = r - t
                      , s = Math.PI / 180;
                    for (let n = 0; n < 360; n++) {
                        const i = f(n / 360, 1, .5 + t / 85 * .5);
                        e.beginPath(),
                        e.arc(r, a, o, (n - 90.5) * s, (n - 89.2) * s),
                        e.strokeStyle = `rgb(${i[0]},${i[1]},${i[2]})`,
                        e.stroke()
                    }
                }
                return P.current.addEventListener("mousedown", O),
                P.current.addEventListener("mouseenter", T),
                P.current.addEventListener("mouseup", w),
                ()=>{
                    var e, t, r;
                    null === (e = P.current) || void 0 === e || e.removeEventListener("mousedown", O),
                    null === (t = P.current) || void 0 === t || t.removeEventListener("mouseenter", T),
                    null === (r = P.current) || void 0 === r || r.removeEventListener("mouseup", w)
                }
            }
            , [P, u]),
            (0,
            o.useEffect)(()=>{
                if (E(!0),
                !M.current)
                    return;
                const e = M.current.getContext("2d");
                e.clearRect(0, 0, 210, 210),
                e.imageSmoothingEnabled = !1;
                const r = h(t.replace("#", ""))
                  , a = p(r[0], r[1], r[2])
                  , [o,s,n] = a
                  , i = 85 * (1 - (n - 50) / 50)
                  , c = 85 + i * Math.sin(2 * Math.PI * o / 360) + 20
                  , _ = 170 - (85 + i * Math.cos(2 * Math.PI * o / 360)) + 20;
                (_ > 190 || c > 190 || _ < 20 || c < 20) && E(!1),
                e.lineWidth = 14,
                e.strokeStyle = t,
                e.beginPath(),
                e.arc(c, _, 7, 0, 2 * Math.PI),
                e.stroke(),
                e.lineWidth = 3,
                e.strokeStyle = "#fff",
                e.beginPath(),
                e.arc(c, _, 14, 0, 2 * Math.PI),
                e.stroke()
            }
            , [M, t, u]),
            (0,
            o.useEffect)(()=>{
                if (!A.current)
                    return;
                document.body.style.userSelect = u ? "none" : null;
                const e = e=>{
                    A.current.contains(e.target) || b(!1)
                }
                ;
                return document.addEventListener("mousedown", e),
                ()=>{
                    document.removeEventListener("mousedown", e)
                }
            }
            , [A, u]),
            (0,
            o.useEffect)(()=>{
                y(!0),
                null != P.current && u && y(!1)
            }
            , [P, u]),
            o.createElement("div", {
                className: "input-color",
                ref: A
            }, o.createElement("button", {
                name: e,
                className: "input-color__input",
                disabled: a,
                onClick: ()=>{
                    b(!u)
                }
                ,
                type: "button"
            }), o.createElement("div", {
                className: "input-color__preview",
                style: {
                    backgroundColor: t
                }
            }), u && o.createElement("div", {
                className: "input-color__picker"
            }, g && o.createElement("div", {
                className: "input-color__picker-loader"
            }, o.createElement(i.default, {
                size: "small"
            })), o.createElement("canvas", {
                className: "input-color__canvas",
                ref: P,
                width: 170,
                height: 170,
                style: {
                    borderRadius: "100%"
                }
            }), v && o.createElement("canvas", {
                className: "input-color__canvas  input-color__canvas--overlay",
                ref: M,
                width: 210,
                height: 210
            }), o.createElement("div", {
                className: "input-color__values"
            }, o.createElement("div", {
                className: "input-color__value"
            }, o.createElement(d, {
                value: `${n[0]}`,
                onChange: e=>L(e, 0),
                className: "input-color__box"
            }), o.createElement(d, {
                value: `${n[1]}`,
                onChange: e=>L(e, 1),
                className: "input-color__box"
            }), o.createElement(d, {
                value: `${n[2]}`,
                onChange: e=>L(e, 2),
                className: "input-color__box"
            })), o.createElement(d, {
                value: `${_}`,
                onChange: t=>{
                    const a = `${"#" === t.target.value[0] ? "" : "#"}${t.target.value.toUpperCase()}`
                      , o = /^#[0-9A-F]{0,}$/.test(a);
                    a.length <= 7 && o && l(a);
                    /^#[0-9A-F]{6}$/i.test(a) && (r(a, e),
                    c(h(a.substring(1))))
                }
                ,
                id: "input-color-value"
            }))))
        }
        ;
        l(b, "useState{[rgbValue, setRgbValue](valueToRgb)}\nuseState{[hexCode, setHexCode](value.toUpperCase())}\nuseState{[pickerOpen, setPickerOpen](false)}\nuseState{[showCanvasSelector, setShowCanvasSelector](true)}\nuseState{[pickerLoading, setPickerLoading](true)}\nuseRef{outerRef}\nuseRef{pickerRef}\nuseRef{selectorRef}\nuseEffect{}\nuseEffect{}\nuseEffect{}\nuseEffect{}");
        const v = ({value: e, invalid: t, onChange: r, onSelect: a, onCreate: n, disabled: i=!1, webUSBClient: c, resetValue: _})=>{
            const [l,u] = (0,
            o.useState)(e)
              , [f,m] = (0,
            o.useState)(!1);
            let h = []
              , p = !1;
            if (c.deviceAlbums) {
                p = Object.values(c.deviceAlbums).reduce((t,r)=>t || (0,
                s.qP)(r.title, e), !1),
                h = Object.values(c.deviceAlbums).some(t=>t.title.toUpperCase() === e.toUpperCase()) ? Object.values(c.deviceAlbums).filter(t=>"RECORD" !== t.id && t.title.toUpperCase() !== e.toUpperCase()).slice(0, 12) : Object.values(c.deviceAlbums).filter(t=>"RECORD" !== t.id && (!e || t.title.toUpperCase().indexOf(e.toUpperCase()) >= 0)).slice(0, 12)
            }
            return o.createElement("div", {
                className: `album-input${f ? " album-input--active" : ""}`,
                onFocus: ()=>m(!0),
                onBlur: ()=>m(!1)
            }, o.createElement("div", {
                className: `album-input__drop-down ${f ? "album-input__drop-down--active" : ""}`
            }, o.createElement("ul", null, h.length > 0 && h.map((e,t)=>o.createElement("li", {
                key: t,
                onMouseDown: ()=>a(e.id)
            }, e.title)), e && !p && o.createElement("li", {
                className: "create-entry",
                onMouseDown: ()=>n(e)
            }, "Create ", o.createElement("strong", null, e), " Album"))), o.createElement(d, {
                disabled: i,
                modifier: "album",
                invalid: t,
                placeholder: "Album",
                value: e,
                onChange: r
            }), e && o.createElement("button", {
                className: "album-input__delete",
                onClick: _
            }))
        }
        ;
        l(v, "useState{[albumInputValue, setAlbumInputValue](value)}\nuseState{[active, setActive](false)}");
        const E = (0,
        n.MM)(v);
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(d, "Input", "/home/vsts/work/1/s/src/components/Input/index.tsx"),
            e.register(u, "LabeledInput", "/home/vsts/work/1/s/src/components/Input/index.tsx"),
            e.register(f, "hslToRgb", "/home/vsts/work/1/s/src/components/Input/index.tsx"),
            e.register(m, "rgbToHex", "/home/vsts/work/1/s/src/components/Input/index.tsx"),
            e.register(h, "hexToRgb", "/home/vsts/work/1/s/src/components/Input/index.tsx"),
            e.register(p, "rgbToHsl", "/home/vsts/work/1/s/src/components/Input/index.tsx"),
            e.register(b, "ColorInput", "/home/vsts/work/1/s/src/components/Input/index.tsx"),
            e.register(v, "AlbumInputComp", "/home/vsts/work/1/s/src/components/Input/index.tsx"),
            e.register(E, "AlbumInput", "/home/vsts/work/1/s/src/components/Input/index.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    abf12094d6dd744112a4: (e,t,r)=>{
        "use strict";
        r.r(t),
        r.d(t, {
            default: ()=>n
        });
        var a = r("8af190b70a6bc55c6f1b");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const o = ({size: e, primaryColor: t, bgColor: r})=>a.createElement("div", {
            className: `loader${e ? ` loader--${e}` : ""}`
        }, a.createElement("span", {
            className: `loader__spinner${r ? ` u-border--${r}` : ""}`
        }, a.createElement("span", null), a.createElement("span", {
            className: t ? `u-border--${t}` : ""
        }), a.createElement("span", null)))
          , s = o
          , n = s;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(o, "Loader", "/home/vsts/work/1/s/src/components/Loader/index.tsx"),
            e.register(s, "default", "/home/vsts/work/1/s/src/components/Loader/index.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "7e15fd75b6f1cbf7b3fd": (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>y
        });
        var a = r("de098c4daf91477f9cbc")
          , o = r("8af190b70a6bc55c6f1b")
          , s = r("657c5d0bc31a26770cad")
          , n = r("8390a660195ca787c81e")
          , i = r("9667880090888529dc91")
          , c = r("410dd64c33f00b849fa7")
          , _ = r("77d9647920c06e8befd6")
          , l = r("6515cd559c65eab0c80c")
          , d = r("d92624744e8fb7e743e8")
          , u = r("b194d90914e83db0f428")
          , f = r("3c15b862d899a16e9481")
          , m = r("553c2c26a5c8a1e6fec3")
          , h = r("5a530d159ab46bd0cea7")
          , p = r("238af0e74d3daf256b28");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        var b = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const v = ({audioEngine: e, stemsClient: t})=>{
            const [r,_] = (0,
            o.useState)()
              , [d,b] = (0,
            o.useState)()
              , [v,E] = (0,
            o.useState)()
              , [g,y] = (0,
            o.useState)("")
              , [A,P] = (0,
            o.useState)("")
              , [M,O] = (0,
            o.useState)(!1)
              , [w,T] = (0,
            o.useState)(!0)
              , D = (0,
            m.s)()
              , L = (0,
            o.useRef)();
            L.current = r;
            const k = (0,
            o.useRef)();
            k.current = d;
            const C = (0,
            o.useRef)();
            C.current = v;
            const S = (0,
            o.useRef)();
            S.current = e.playbackState;
            const U = (0,
            o.useRef)();
            U.current = e.trackIsLoaded;
            const R = (0,
            o.useRef)();
            R.current = e.shouldHideMiniPlayer;
            const I = (0,
            s.useHistory)();
            let B;
            const x = (0,
            o.useRef)();
            (0,
            o.useEffect)(()=>(B = requestAnimationFrame(H),
            document.addEventListener("keydown", G),
            ()=>{
                document.removeEventListener("keydown", G),
                cancelAnimationFrame(B),
                e.isNavigating && e.setIsNavigating(!1)
            }
            ), []),
            (0,
            o.useEffect)(()=>{
                const t = e.getActiveQueue();
                if (t) {
                    const a = t.findIndex(e=>{
                        return (e.id ? e.id : e.global_id) === r
                    }
                    );
                    if (-1 !== a) {
                        const e = t[a]
                          , r = (0,
                        f.vJ)(e)
                          , o = (0,
                        f.ee)(e)
                          , s = (0,
                        f.$r)(o, r);
                        b(a),
                        E(e),
                        y(s),
                        P(r)
                    } else
                        e.currentTrack && _(e.currentTrack.id)
                }
            }
            , [r, e.userQueue, e.currentTrack]),
            (0,
            o.useEffect)(()=>{
                e.currentTrack && (M && O(!1),
                _(e.currentTrack.id));
                const t = ()=>{
                    !0 === U.current && (T(!1),
                    x.current.removeEventListener("animationiteration", t))
                }
                ;
                var r;
                !0 !== U.current && (T(!0),
                null === (r = x.current) || void 0 === r || r.addEventListener("animationiteration", (0,
                n.Ds)(t, 50, !0)));
                return ()=>{
                    var e;
                    null === (e = x.current) || void 0 === e || e.removeEventListener("animationiteration", t)
                }
            }
            , [e.currentTrack]),
            (0,
            o.useEffect)(()=>{
                if (e.playbackState !== l.QK.Ended || e.shouldHideMiniPlayer)
                    e.playbackState === l.QK.Playing && (B = requestAnimationFrame(H));
                else {
                    const t = e.getActiveQueue()[d + 1];
                    t && F(t.id || t.global_id)
                }
            }
            , [e.playbackState]),
            (0,
            o.useEffect)(()=>{
                B = requestAnimationFrame(H)
            }
            , [e.currentPosition]);
            const K = (0,
            o.useRef)();
            K.current = e.getActiveQueue();
            const G = t=>{
                if (!R.current) {
                    if (U.current && " " === t.key && (t.preventDefault(),
                    S.current === l.QK.Playing ? e.pause() : e.play()),
                    "ArrowRight" === t.key) {
                        const e = K.current[k.current + 1] ? K.current[k.current + 1] : K.current[0];
                        e && F(e.id || e.global_id)
                    }
                    if ("ArrowLeft" === t.key) {
                        const t = K.current[k.current - 1] ? K.current[k.current - 1] : K.current[K.current.length - 1];
                        t && (e.getCurrentTime() >= 3 ? e.seekTo(0) : F(t.id || t.global_id))
                    }
                }
            }
              , W = function() {
                var r = (0,
                a.Z)(function*() {
                    const r = L.current;
                    if (!D())
                        return;
                    let a;
                    if (r === L.current) {
                        if (e.activeQueue === l.$_.Official) {
                            const o = yield t.getLatestStems(L.current, C.current.version, "mp3");
                            try {
                                const s = yield t.getWaveformData(o["waveform-data"], r);
                                a = e.generateTrack(C.current, o, s)
                            } catch (t) {
                                a = e.generateTrack(C.current, o)
                            }
                        } else {
                            const r = e.generateTrack(C.current);
                            if (void 0 === r.waveformData) {
                                const e = yield t.getWaveformData(C.current.waveforms_url, L.current);
                                r.waveformData = e
                            }
                            a = r
                        }
                        if (!D())
                            return;
                        e.load(a)
                    }
                    e.setIsNavigating(!1)
                });
                return function() {
                    return r.apply(this, arguments)
                }
            }()
              , H = ()=>{
                if (D()) {
                    var t;
                    const r = e.getCurrentPositionPercent();
                    null !== (t = e.currentTrack) && void 0 !== t && t.waveformData && Object.values(l.wA).forEach(t=>{
                        if (!e.getMutedStateForStem(t) && S.current !== l.QK.Stopped) {
                            const r = (0,
                            p.tX)(e.currentTrack.waveformData[t].intensity, e.getCurrentTime(), e.getDuration(), e.currentTrack.waveformData[t].fps)
                              , a = document.querySelector(`.mini-player__stems--${t}-container`).querySelector(".mini-player__stems--stem");
                            if (a) {
                                O(!0);
                                const e = (0,
                                u.Z)(r, [0, 1], [.3, 1], !0);
                                a.style.transform = `scale(${e})`
                            }
                        }
                    }
                    ),
                    r < 1 && S.current === l.QK.Playing && (B = requestAnimationFrame(H))
                }
            }
              , N = t=>{
                t.preventDefault(),
                t.stopPropagation(),
                I.push(`/connect/stem/track/${e.currentTrack.id}`)
            }
              , F = t=>{
                (0,
                h.Z)(),
                _(t),
                e.setIsNavigating(!0),
                e.stop(),
                q(),
                M && O(!1)
            }
              , q = (0,
            o.useCallback)((0,
            n.Ds)(W, 500), []);
            return o.createElement(o.Fragment, null, !e.shouldHideMiniPlayer && o.createElement("div", {
                className: "mini-player__topshade"
            }), o.createElement("div", {
                className: `mini-player ${e.shouldHideMiniPlayer ? "mini-player__hidden" : ""}`,
                onTouchEnd: N
            }, o.createElement("div", {
                className: "mini-player__left",
                onClick: N
            }, o.createElement("div", {
                ref: x,
                className: `mini-player__stems ${w ? "mini-player__stems--loading" : ""}`
            }, (()=>Object.values(l.wA).map(t=>{
                const r = e.getMutedStateForStem(t)
                  , a = r || !e.trackIsLoaded || e.playbackState === l.QK.Stopped;
                return o.createElement("div", {
                    className: `mini-player__stems--stem-container  mini-player__stems--${t}-container`,
                    key: t
                }, o.createElement("svg", {
                    className: `mini-player__stems--stem ${r ? "mini-player__stems--stem--muted" : ""}`,
                    style: a ? {
                        transform: "scale(0.3)"
                    } : {},
                    height: "12",
                    width: "12",
                    fill: "var(--color-main)"
                }, o.createElement("circle", {
                    cx: "6",
                    cy: "6",
                    r: "5"
                })))
            }
            ))()), o.createElement("div", {
                className: "mini-player__track-info"
            }, o.createElement("p", {
                className: "mini-player__track-info--title"
            }, g && g.length ? g : "Untitled"), o.createElement("p", {
                className: "mini-player__track-info--artist"
            }, A))), o.createElement("div", {
                className: "mini-player__scrubber-container",
                onTouchEnd: e=>e.stopPropagation()
            }, o.createElement(i.Z, null)), o.createElement("div", {
                onTouchEnd: e=>e.stopPropagation()
            }, o.createElement(c.Z, {
                isMiniPlayer: !0,
                goToTrackCb: F,
                trackIndex: d
            }))))
        }
        ;
        b(v, "useState{[trackId, setTrackId]}\nuseState{[trackIndex, setTrackIndex]}\nuseState{[currentTrack, setCurrentTrack]}\nuseState{[trackTitle, setTrackTitle]('')}\nuseState{[trackArtist, setTrackArtist]('')}\nuseState{[haveAnimationsLoaded, setHaveAnimationsLoaded](false)}\nuseState{[shouldLoaderSpin, setShouldLoaderSpin](true)}\nuseMounted{isMounted}\nuseRef{trackIdRef}\nuseRef{trackIndexRef}\nuseRef{currentTrackRef}\nuseRef{playbackStateRef}\nuseRef{trackIsLoadedRef}\nuseRef{shouldHideMiniPlayerRef}\nuseHistory{history}\nuseRef{}\nuseEffect{}\nuseEffect{}\nuseEffect{}\nuseEffect{}\nuseEffect{}\nuseRef{queueRef}\nuseCallback{debouncedLoadToAudioEngine}", ()=>[m.s, s.useHistory]);
        const E = v
          , g = (0,
        d.E9)((0,
        _.f)(v))
          , y = g;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(v, "MiniPlayer", "/home/vsts/work/1/s/src/components/MiniPlayer/index.tsx"),
            e.register(E, "__TEST__MiniPlayer", "/home/vsts/work/1/s/src/components/MiniPlayer/index.tsx"),
            e.register(g, "default", "/home/vsts/work/1/s/src/components/MiniPlayer/index.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "410dd64c33f00b849fa7": (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>f
        });
        var a = r("8af190b70a6bc55c6f1b")
          , o = r("804fe702b68cd889ff76")
          , s = r("88e8bdd04c305099c2c9")
          , n = r("98207642210e3d58d89a")
          , i = r("77d9647920c06e8befd6")
          , c = r("6515cd559c65eab0c80c");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        var _ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const l = ({trackIndex: e, goToTrackCb: t, uploadText: r, deviceTransferActive: i, hidePrevNext: _, isMiniPlayer: l, closeCallback: d, audioEngine: u})=>{
            const [f,m] = (0,
            a.useState)(null)
              , h = (0,
            a.useRef)();
            h.current = f;
            const p = (r,a)=>{
                if (r.preventDefault(),
                h.current === a) {
                    m(null);
                    const r = u.getActiveQueue();
                    if ("prev" === a) {
                        const a = r[e - 1] ? r[e - 1] : r[r.length - 1];
                        u.getCurrentTime() >= 3 ? u.seekTo(0) : t(a.id || a.global_id)
                    } else {
                        const a = r[e + 1] ? r[e + 1] : r[0];
                        a ? t(a.id || a.global_id) : d && d()
                    }
                }
            }
              , b = ()=>{
                h.current && m(null)
            }
            ;
            let v, E, g;
            return l && window.screen.width > 600 ? (v = 25,
            E = 57,
            g = 33) : l ? (v = 26,
            E = 59,
            g = 35) : window.screen.width > 600 ? (v = 30,
            E = 68,
            g = 40) : (v = 33,
            E = 74,
            g = 44),
            a.createElement("div", {
                className: "player-controls"
            }, !_ && a.createElement("div", {
                className: `player-controls__prev-next-button ${l ? "player-controls__prev-next-button--mini-player" : ""}`
            }, a.createElement(o.default, {
                className: "player-controls__prev-button",
                onMouseDown: ()=>m("prev"),
                onMouseLeave: b,
                onMouseUp: e=>p(e, "prev"),
                onTouchStart: ()=>m("prev"),
                onTouchMove: ()=>m(null),
                onTouchEnd: e=>p(e, "prev")
            }), a.createElement(o.default, {
                className: "player-controls__next-button",
                onMouseDown: ()=>m("next"),
                onMouseUp: e=>p(e, "next"),
                onMouseLeave: b,
                onTouchStart: ()=>m("next"),
                onTouchMove: ()=>m(null),
                onTouchEnd: e=>p(e, "next")
            }), a.createElement("span", {
                className: "player-controls__prev-next-icon"
            }, "next" === h.current ? a.createElement(n.mE, {
                height: v,
                width: E
            }) : "prev" === h.current ? a.createElement(n.ry, {
                height: v,
                width: E
            }) : a.createElement(n._z, {
                height: v,
                width: E
            }))), a.createElement(o.default, {
                id: "play-button",
                icon: ()=>a.createElement(s.WU, {
                    height: g,
                    width: g
                }),
                brackets: !0,
                disabled: !u.trackIsLoaded,
                onClick: ()=>u.playbackState === c.QK.Playing ? u.pause() : u.play()
            }))
        }
        ;
        _(l, "useState{[prevNextButtonHighlightStatus, setPrevNextButtonHighlightStatus](null)}\nuseRef{prevNextButtonHighlightStatusRef}");
        const d = l
          , u = (0,
        i.f)(l)
          , f = u;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(l, "PlayerControls", "/home/vsts/work/1/s/src/components/PlayerControls/index.tsx"),
            e.register(d, "__TEST__PlayerControls", "/home/vsts/work/1/s/src/components/PlayerControls/index.tsx"),
            e.register(u, "default", "/home/vsts/work/1/s/src/components/PlayerControls/index.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "9667880090888529dc91": (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>_
        });
        var a = r("8af190b70a6bc55c6f1b")
          , o = r("6515cd559c65eab0c80c")
          , s = r("77d9647920c06e8befd6");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        var n = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const i = ({audioEngine: e})=>{
            const t = e.trackIsLoaded ? e.getCurrentPositionPercent() : 0
              , [r,s] = (0,
            a.useState)(t)
              , [n,i] = (0,
            a.useState)(!1)
              , c = (0,
            a.useRef)()
              , _ = (0,
            a.useRef)();
            let l, d, u, f = new Date;
            const m = (0,
            a.useRef)();
            m.current = e.playbackState;
            const h = (0,
            a.useRef)();
            h.current = n;
            const p = (0,
            a.useRef)();
            p.current = r;
            const b = (0,
            a.useRef)();
            (0,
            a.useEffect)(()=>(b.current = !0,
            ()=>{
                b.current = !1,
                cancelAnimationFrame(u)
            }
            ), []),
            (0,
            a.useEffect)(()=>{
                e.playbackState === o.QK.Playing ? u = requestAnimationFrame(v) : e.playbackState === o.QK.Stopped && s(0)
            }
            , [e.playbackState]),
            (0,
            a.useEffect)(()=>{
                e.playbackState === o.QK.Paused && (u = requestAnimationFrame(v))
            }
            , [e.currentPosition]),
            (0,
            a.useEffect)(()=>{
                e.trackIsLoaded || s(0)
            }
            , [e.trackIsLoaded]);
            const v = ()=>{
                if (b.current && m.current !== o.QK.Stopped) {
                    const t = e.getCurrentPositionPercent()
                      , r = new Date;
                    !h.current && r.getTime() - f.getTime() > 1e3 / 3 && (s(t),
                    f = r),
                    t < 1 && (m.current === o.QK.Playing || h.current || t !== p.current) && requestAnimationFrame(v)
                }
            }
              , E = e=>{
                if (e.target) {
                    const t = (e=>{
                        const t = _.current.getBoundingClientRect()
                          , r = ((e.touches ? e.touches[0].clientX : e.clientX) - t.x) / t.width + Math.random() / 1e6;
                        return Math.min(1, Math.max(0, r))
                    }
                    )(e);
                    s(t)
                }
            }
              , g = _.current ? _.current.offsetWidth : 0;
            return a.createElement("div", {
                ref: c,
                className: "scrubber-container",
                onMouseEnter: t=>{
                    t.stopPropagation(),
                    t.preventDefault(),
                    e.isIsolating && e.setIsolatedStems([]),
                    1 !== t.buttons && i(!1)
                }
                ,
                onMouseMove: e=>{
                    e.stopPropagation(),
                    e.preventDefault(),
                    n && ("pointer" !== document.body.style.cursor && (document.body.style.cursor = "pointer"),
                    E(e))
                }
                ,
                onMouseUp: t=>{
                    t.stopPropagation(),
                    t.preventDefault(),
                    document.body.style.cursor = "default",
                    n && (i(!1),
                    e.seekToPercent(r))
                }
                ,
                onTouchStart: e=>{
                    d = e.touches[0].clientX,
                    l = e.touches[0].clientY
                }
                ,
                onTouchMove: e=>{
                    if (e.stopPropagation(),
                    e.preventDefault(),
                    n)
                        E(e);
                    else if (d && l) {
                        const t = e.touches[0].clientX
                          , r = e.touches[0].clientY
                          , a = t - d
                          , o = r - l;
                        Math.abs(a) > Math.abs(o) && (window.preventScroll = !0,
                        i(!0),
                        E(e)),
                        d = null,
                        l = null
                    }
                }
                ,
                onTouchEnd: t=>{
                    if (t.stopPropagation(),
                    t.preventDefault(),
                    e.trackIsLoaded)
                        if (window.preventScroll && (window.preventScroll = !1),
                        n)
                            i(!1),
                            e.seekToPercent(r);
                        else if (Math.abs(t.changedTouches[0].clientY - l) < 3) {
                            const r = c.current.getBoundingClientRect()
                              , a = (t.changedTouches[0].clientX - r.left) / r.width;
                            l = null,
                            s(a),
                            e.seekToPercent(a)
                        }
                }
                ,
                onMouseLeave: e=>{
                    e.stopPropagation(),
                    e.preventDefault(),
                    n && (document.body.style.cursor = "default",
                    i(!1),
                    E(e))
                }
            }, a.createElement("div", {
                className: "scrubber",
                onMouseDown: t=>{
                    t.stopPropagation(),
                    t.preventDefault(),
                    t.touches || e.trackIsLoaded && (i(!0),
                    E(t))
                }
            }, a.createElement("span", {
                className: "scrubber--line"
            }), a.createElement("div", {
                ref: _,
                className: "scrubber--playhead-container"
            }, a.createElement("div", {
                className: "scrubber--playhead-hitbox",
                style: {
                    left: `${(e.trackIsLoaded ? r * g : 0) - 27}px`
                },
                onTouchStart: t=>{
                    t.stopPropagation(),
                    t.preventDefault(),
                    e.trackIsLoaded && !e.isIsolating && (i(!0),
                    E(t))
                }
            }, a.createElement("span", {
                className: "scrubber--playhead"
            })))))
        }
        ;
        n(i, "useState{[localPosition, setLocalPosition](initialScrubberPos)}\nuseState{[isScrubbing, setIsScrubbing](false)}\nuseRef{scrubberContainerRef: React.RefObject<HTMLDivElement>}\nuseRef{scrubberRef: React.RefObject<HTMLDivElement>}\nuseRef{playbackStateRef}\nuseRef{isScrubbingRef}\nuseRef{localPositionRef}\nuseRef{}\nuseEffect{}\nuseEffect{}\nuseEffect{}\nuseEffect{}");
        const c = (0,
        s.f)(i)
          , _ = c;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(3, "PLAYHEAD_FPS", "/home/vsts/work/1/s/src/components/Scrubber/index.tsx"),
            e.register(i, "Scrubber", "/home/vsts/work/1/s/src/components/Scrubber/index.tsx"),
            e.register(c, "default", "/home/vsts/work/1/s/src/components/Scrubber/index.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "371760fd96b575cf2118": (e,t,r)=>{
        "use strict";
        r.d(t, {
            Rq: ()=>k,
            ZP: ()=>I
        });
        var a = r("990057777e9b2b7543e8")
          , o = r("de098c4daf91477f9cbc")
          , s = r("8af190b70a6bc55c6f1b")
          , n = r("657c5d0bc31a26770cad")
          , i = r.n(n)
          , c = r("9c2db445b2a1a7a1cf6d")
          , _ = r("8a5d22dd0b24a6092d3e")
          , l = r("b17b0ee5884def929afc")
          , d = r("f60aef9fa88f4e9ce07a")
          , u = r("09e5b40f0abea70b7ff4")
          , f = r("16c6bde65fb4831cea2e")
          , m = r("c1bece57111e2d76e639")
          , h = r("ad21e61587d47603cd1c")
          , p = r("3e17aee31846974e528a")
          , b = r("5347e167343c470dbdfe")
          , v = r("3145f0c7f3b91ffef7d2")
          , E = r("da23a0dbab1fa75005eb")
          , g = r("63922d5ff7825dcb0b86")
          , y = r("50adafd66d905a6a5399")
          , A = r("3029aafe6858c31fb8c9")
          , P = r("d6e61794281205c7e43a");
        function M(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var a = Object.getOwnPropertySymbols(e);
                t && (a = a.filter(function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                })),
                r.push.apply(r, a)
            }
            return r
        }
        function O(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = null != arguments[t] ? arguments[t] : {};
                t % 2 ? M(Object(r), !0).forEach(function(t) {
                    (0,
                    a.Z)(e, t, r[t])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : M(Object(r)).forEach(function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                })
            }
            return e
        }
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        var w = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const T = (0,
        c.ZP)({
            resolved: {},
            chunkName: ()=>"components-Button",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.resolve().then(r.bind(r, "804fe702b68cd889ff76")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "804fe702b68cd889ff76"
            }
        })
          , D = (0,
        c.ZP)({
            resolved: {},
            chunkName: ()=>"components-DeviceFirmwareDemo",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>r.e(3754).then(r.bind(r, "92924b32b778a2c890d3")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "92924b32b778a2c890d3"
            }
        })
          , L = "Connect Stemplayer"
          , k = function() {
            var e = (0,
            o.Z)(function*(e) {
                const t = e ? "mp3" : "wav"
                  , r = yield fetch(`/audio/silent-track.${t}`)
                  , a = yield r.blob();
                return new File([a],`silent-track.${t}`,{
                    type: "audio/mpeg"
                })
            });
            return function(t) {
                return e.apply(this, arguments)
            }
        }()
          , C = ({webUSBClient: e, trackApiClient: t, tracking: {trackEvent: r}, albumRestoreClient: {restoreError: a, resetState: n}, firmwareUpdateClient: {hasCrucialUpdate: i, getAvailableUpdates: c}, viewManagerClient: {setNewTrack: _, setDeviceFullUploadError: d}, unloadAudioEngineTrackCb: u, accountClient: f, history: m, newTrackUploadedCb: h, closeClicked: p, fetchUserLibraryWaveforms: M})=>{
            const w = (0,
            s.useRef)(null)
              , C = (0,
            s.useRef)(null)
              , [S,U] = (0,
            s.useState)(null)
              , [R,I] = (0,
            s.useState)(null)
              , [B,x] = (0,
            s.useState)(null)
              , [K,G] = (0,
            s.useState)(!1)
              , [W,H] = (0,
            s.useState)(null)
              , [N,F] = (0,
            s.useState)(null)
              , [q,j] = (0,
            s.useState)(null)
              , [Z,V] = (0,
            s.useState)("")
              , [$,z] = (0,
            s.useState)(null)
              , [Q,Y] = (0,
            s.useState)(null)
              , [J,X] = (0,
            s.useState)(!1)
              , [ee,te] = (0,
            s.useState)(null)
              , [re,ae] = (0,
            s.useState)(!1)
              , [oe,se] = (0,
            s.useState)(!1)
              , [ne,ie] = (0,
            s.useState)("Upload")
              , [ce,_e] = (0,
            s.useState)(!1)
              , [le,de] = (0,
            s.useState)(!1)
              , [ue,fe] = (0,
            s.useState)(!1)
              , [me,he] = (0,
            s.useState)(null)
              , [pe,be] = (0,
            s.useState)(!1)
              , [ve,Ee] = (0,
            s.useState)(L)
              , [ge,ye] = (0,
            s.useState)(!1);
            (0,
            s.useEffect)(()=>{
                if (!e.deviceConnected)
                    return;
                const t = new AbortController;
                let r = !0;
                return function() {
                    var a = (0,
                    o.Z)(function*() {
                        try {
                            const a = yield c(t.signal);
                            r && i(a, e.deviceInfo) && be(!0)
                        } catch (e) {
                            console.error(e)
                        }
                    });
                    return function() {
                        return a.apply(this, arguments)
                    }
                }()(),
                ()=>{
                    r = !1,
                    t.abort()
                }
            }
            , [e.deviceConnected]),
            (0,
            s.useEffect)(()=>{
                N && N.id && q && f.session ? (_(N),
                m.push(`/connect/stem/track/${N.id}`)) : N && !K && (j(null),
                _(N),
                (0,
                b.gn)() || !e.deviceConnected ? m.push(`/connect/stem/track/${N.id}`) : m.push("/connect/new"),
                Pe())
            }
            , [N]),
            (0,
            s.useEffect)(()=>{
                f.session || e.deviceConnected || m.push("/")
            }
            , [e.deviceConnected]),
            (0,
            s.useEffect)(()=>{
                p && Pe()
            }
            , [p]),
            (0,
            s.useEffect)(()=>{
                (a || me) && (le || S) && fe(!0)
            }
            , [S, le, a, me]),
            (0,
            s.useEffect)(()=>{
                re && fe(!1)
            }
            , [re]),
            (0,
            s.useEffect)(()=>{
                le && w.current.focus()
            }
            , [le]),
            (0,
            s.useEffect)(()=>{
                ie("Upload"),
                ie(Q || "Upload")
            }
            , [Q]),
            (0,
            s.useEffect)(()=>{
                ie("Upload"),
                null === q && $ && ie($)
            }
            , [q, $]);
            const Ae = function() {
                var a = (0,
                o.Z)(function*(a) {
                    a.preventDefault(),
                    S || R || de(!0),
                    F(null),
                    j(null),
                    G(!1),
                    _e(!0),
                    null === S && "" === Z && null === R && (console.error("Error: no file or url found"),
                    z(null)),
                    z("Splitting"),
                    ie("Splitting");
                    const o = Date.now();
                    try {
                        let a = null;
                        const c = new v.f;
                        var s;
                        if (H(c),
                        null !== S)
                            r({
                                event: "track_split",
                                data: {
                                    name: S.name,
                                    size: S.size,
                                    type: S.type,
                                    single_file: !0
                                }
                            }),
                            a = yield t.createTrackFromFile(S, e=>z(e), c.register, null === (s = f.session) || void 0 === s ? void 0 : s.AccessToken, e.deviceConnected && e.deviceConfig.parameters.SplitterPreference === A.L4.High || !1);
                        else if (null !== R) {
                            var n;
                            r({
                                event: "track_split",
                                data: {
                                    single_file: !1
                                }
                            }),
                            a = yield t.createTrackFromMultiFiles(R, e=>z(e), null === (n = f.session) || void 0 === n ? void 0 : n.AccessToken, e.deviceConnected && e.deviceConfig.parameters.SplitterPreference === A.L4.High || !1)
                        } else {
                            var i;
                            r({
                                event: "track_split",
                                data: {
                                    type: "url",
                                    url: `${Z}`
                                }
                            }),
                            a = yield t.createTrackFromLink(Z, e=>z(e), c.register, null === (i = f.session) || void 0 === i ? void 0 : i.AccessToken, e.deviceConnected && e.deviceConfig.parameters.SplitterPreference === A.L4.High || !1)
                        }
                        if (null !== S || null === R) {
                            const e = Date.now();
                            r({
                                event: "track_split_complete",
                                data: {
                                    time: e - o,
                                    title: a.title || "",
                                    artist: a.artist || ""
                                }
                            })
                        }
                        const l = yield t.getTracks([a.id])
                          , m = yield M(l[a.id])
                          , p = O(O({}, a), {}, {
                            waveformData: m
                        });
                        if (e.deviceConnected) {
                            const t = yield e.hasSpaceForTrack(a);
                            u(),
                            t ? (_(N),
                            F(p),
                            null !== S || null !== R ? h(a.id, !0, p) : h(a.id, !0)) : (d(!0),
                            z("Importing"),
                            j(a),
                            F(p),
                            h(a.id, !1)),
                            Pe()
                        } else
                            _(p),
                            F(p),
                            h(a.id, !1),
                            Pe()
                    } catch (e) {
                        e.message && e.message.includes("'USB': Must be handling a user gesture to show a permission request") ? (X(!0),
                        te("Upload failed - reconnect Stemplayer"),
                        z("Try again"),
                        r({
                            error: {
                                name: "track_split",
                                stack: "Failed to split track",
                                message: JSON.stringify(e.message)
                            }
                        })) : e.message && "Cancelled" !== e.message ? (X(!0),
                        te(e.message),
                        z("Try again"),
                        r({
                            error: {
                                name: "track_split",
                                stack: "Failed to split track",
                                message: JSON.stringify(e.message)
                            }
                        })) : (Pe(),
                        z("Upload cancelled"),
                        r({
                            error: {
                                name: "track_split_cancelled",
                                stack: "Failed to split track",
                                message: JSON.stringify(e.message || e)
                            }
                        })),
                        ae(!1),
                        H(null)
                    }
                });
                return function(e) {
                    return a.apply(this, arguments)
                }
            }()
              , Pe = ()=>{
                C.current && (C.current.value = ""),
                z(null),
                H(null),
                G(null),
                V(""),
                U(null),
                I(null),
                de(!1),
                ae(!1),
                e.setDeviceTransferActive(!1),
                _e(!0)
            }
              , Me = function() {
                var e = (0,
                o.Z)(function*(e) {
                    x(e.length);
                    let t = []
                      , r = !0;
                    for (let a = 0; a < 4; a++) {
                        const o = e[a];
                        if (a >= e.length) {
                            const e = yield k(r);
                            t.push(e)
                        } else if ("getAsFile"in o) {
                            const e = o.getAsFile();
                            e.name.match(/\.mp3$/i) || (r = !1),
                            t.push(e)
                        } else
                            t.push(o)
                    }
                    I(t)
                });
                return function(t) {
                    return e.apply(this, arguments)
                }
            }()
              , Oe = function() {
                var e = (0,
                o.Z)(function*(e) {
                    if ("files"in e.target && 0 === e.target.files.length)
                        return;
                    a && n(),
                    e.preventDefault(),
                    Te(),
                    V(""),
                    I(null),
                    U(null);
                    let t = null;
                    if ("dataTransfer"in e ? e.dataTransfer.items ? 1 === e.dataTransfer.items.length ? "file" === e.dataTransfer.items[0].kind && (t = e.dataTransfer.items[0].getAsFile()) : e.dataTransfer.items.length <= 4 ? yield Me(e.dataTransfer.items) : (Y("UPLOAD UP TO 4 FILES"),
                    U(null),
                    I(null)) : 1 === e.dataTransfer.files.length ? t = e.dataTransfer.files[0] : e.dataTransfer.files.length <= 4 ? yield Me(e.dataTransfer.files) : (Y("UPLOAD UP TO 4 FILES"),
                    U(null),
                    I(null)) : 1 === e.target.files.length ? t = e.target.files[0] : e.target.files.length <= 4 ? yield Me(e.target.files) : (Y("UPLOAD UP TO 4 FILES"),
                    U(null),
                    I(null)),
                    t) {
                        ["audio/", "video/mp4"].some(e=>t.type.includes(e)) ? (U(t),
                        Y(null)) : (Y("AUDIO FILES ONLY"),
                        U(null),
                        I(null))
                    }
                });
                return function(t) {
                    return e.apply(this, arguments)
                }
            }()
              , we = ()=>{
                U(null),
                I(null),
                Y(null)
            }
              , Te = ()=>{
                Y(null),
                X(!1),
                te(null),
                G(!1),
                z(null)
            }
            ;
            let De = Z.replace(/^https?\:\/\/(www\.)?/i, "");
            De.match(/^w?w?w?\.?$/i) && (De = Z);
            const Le = ()=>!e.deviceTransferActive && !re
              , ke = ()=>Le() && [null, "Upload cancelled", "Try again"].includes($)
              , Ce = ()=>{
                m.push("/connect/config")
            }
              , Se = function() {
                var t = (0,
                o.Z)(function*() {
                    const t = (0,
                    b.qs)();
                    if ("Use Chrome or Edge" !== ("Chrome" !== t && "Edge" !== t && "Use Chrome or Edge"))
                        if (e.deviceConnected)
                            try {
                                yield e.disconnect()
                            } catch (e) {
                                Ee("Failed to connect"),
                                console.error(`Error: ${e}`)
                            }
                        else
                            try {
                                yield e.connect()
                            } catch (e) {
                                const t = yield(0,
                                y.X)();
                                Ee(t ? "Connected in another tab" : "Failed to connect")
                            }
                    else
                        Ee("Use Chrome or Edge")
                });
                return function() {
                    return t.apply(this, arguments)
                }
            }();
            return s.createElement("div", {
                className: "col-centered track-splitter",
                onDrop: Oe,
                onDragOver: e=>e.preventDefault(),
                id: "track-splitter-top"
            }, s.createElement("div", {
                className: "u-mb-medium"
            }), !re && !pe && !ge && s.createElement("form", {
                className: "track-splitter__form",
                method: "post",
                encType: "multipart/form-data",
                onSubmit: Ae
            }, s.createElement("div", {
                className: "track-splitter__input menu-item"
            }, !le && !S && !R && s.createElement("label", {
                htmlFor: "link-input",
                className: `track-splitter__link-button ${ke() ? "" : "disabled"}`,
                onClick: ()=>{
                    "Upload cancelled" === $ && (Pe(),
                    de(!0)),
                    ke() && de(!0)
                }
            }, s.createElement("span", {
                className: "track-splitter__text"
            }, "LINK")), le && !(S && S.name || R) && s.createElement(l.II, {
                className: "track-splitter__input-url track-splitter__text track-splitter__input-url--show",
                disabled: !ke(),
                invalid: J,
                modifier: "url",
                placeholder: "ENTER LINK",
                value: De,
                onChange: e=>{
                    a && n(),
                    Te(),
                    S && we();
                    const t = e.target.value.trim()
                      , r = (0,
                    g.xb)(t) || t.match(/^https?:\/\//i) ? t : `https://${t}`;
                    V(r),
                    (0,
                    g.xb)(r) || (0,
                    g.b3)(r) ? J && (X(!1),
                    te(null)) : (X(!0),
                    te("Input not valid link"))
                }
                ,
                onBlur: ()=>0 === De.length && de(!1),
                ref: w,
                id: "link-input",
                autoComplete: "off"
            }), !le && !S && !R && s.createElement("span", {
                className: "track-splitter__text track-splitter__text--or"
            }, "or"), !le && s.createElement(s.Fragment, null, s.createElement("label", {
                htmlFor: "file",
                className: `\n                                        track-splitter__input--file\n                                        track-splitter__link-button\n                                        ${ke() ? "" : " disabled"}\n                                        ${S && S.name || R ? " track-splitter__input--full" : ""}\n                                    `
            }, s.createElement("span", {
                className: "track-splitter__text"
            }, S && S.name && S.name.toUpperCase(), R && `${(0,
            E.pG)(B)} files selected`, null === S && null === R && "FILE")), s.createElement("input", {
                className: "input--file",
                type: "file",
                id: "file",
                name: "file",
                multiple: !0,
                disabled: !ke(),
                accept: [...P.Z, "video/mp4"].join(", "),
                onChange: Oe,
                ref: C
            }))), "Try again" === $ && s.createElement(T, {
                text: `${ee || "Error uploading track"}`,
                className: "u-mx-auto",
                disabled: !0
            }), s.createElement(T, {
                type: "submit",
                className: "u-mx-auto menu-item",
                hideTextWhenLoading: !0,
                brackets: "No available space on device" !== ne,
                dots: ["Splitting", "Formatting", "Uploading", "Importing"].includes(ne),
                disabled: !(()=>Le() && [null, "Try again"].includes($) && "No available space on device" !== ne)(),
                text: ne,
                onClick: e=>{
                    (!S && !R && "" === Z || S && null !== Q) && (e.preventDefault(),
                    C.current.click())
                }
            }), !q && W && s.createElement(T, {
                text: "CANCEL",
                className: "u-mx-auto stripped-device-firmware__button menu-item",
                brackets: !0,
                onClick: ()=>{
                    W && (W.cancel(),
                    ie(null),
                    Pe(),
                    j(null),
                    z("Upload cancelled"),
                    setTimeout(()=>{
                        z(null),
                        ie("Upload")
                    }
                    , 2e3),
                    r({
                        event: "track_upload_cancelled"
                    }))
                }
            })), !re && !pe && !oe && !ge && s.createElement(T, {
                text: "Config",
                disabled: !Le(),
                brackets: !0,
                className: "u-mx-auto menu-item",
                onClick: ()=>Ce()
            }), !e.deviceConnected && !(0,
            b.gn)() && s.createElement(T, {
                text: ve,
                disabled: !Le(),
                brackets: !0,
                className: "u-mx-auto menu-item",
                onClick: ()=>Se()
            }), !f.session && !ge && s.createElement(T, {
                text: "Login",
                disabled: !Le(),
                brackets: !0,
                className: "u-mx-auto menu-item",
                onClick: ()=>m.push("/account/login")
            }), (!e.deviceTransferActive || re) && !ge && s.createElement(D, {
                resetUpdateRestoreState: ce,
                setUpdateRestoreReset: _e,
                deviceInfo: e.deviceInfo,
                disabled: !Le(),
                updatingCallback: e=>ae(e),
                resetErrorState: ue,
                updateErrorCb: e=>he(e),
                updateCompleteCb: ()=>Ce(),
                hasUpdateCb: se
            }))
        }
        ;
        w(C, "useRef{textInputRef}\nuseRef{fileUploadInputRef}\nuseState{[file, setFile](null)}\nuseState{[multiFile, setMultiFile](null)}\nuseState{[multiFileLength, setMultiFileLength](null)}\nuseState{[cancelled, setCancelled](false)}\nuseState{[cancelController, setCancelController](null)}\nuseState{[track, setTrack](null)}\nuseState{[noRoomTrack, setNoRoomTrack](null)}\nuseState{[inputValue, setInputValue]('')}\nuseState{[feedback, setFeedback](null)}\nuseState{[dragError, setDragError](null)}\nuseState{[inputError, setInputError](false)}\nuseState{[inputErrorMessage, setInputErrorMessage](null)}\nuseState{[isUpdating, setIsUpdating](false)}\nuseState{[hasUpdate, setHasUpdate](false)}\nuseState{[uploadText, setUploadText]('Upload')}\nuseState{[updateRestoreReset, setUpdateRestoreReset](false)}\nuseState{[showUrlInput, setShowUrlInput](false)}\nuseState{[resetErrorState, setResetErrorState](false)}\nuseState{[updateError, setUpdateError](null)}\nuseState{[forceUpdate, setForceUpdate](false)}\nuseState{[userActionText, setUserActionText](DEFAULT_USER_ACTION)}\nuseState{[addingAlbumToDevice, setAddingAlbumToDevice](false)}\nuseEffect{}\nuseEffect{}\nuseEffect{}\nuseEffect{}\nuseEffect{}\nuseEffect{}\nuseEffect{}\nuseEffect{}\nuseEffect{}");
        const S = C
          , U = (0,
        _.j)({
            module: "trackUploadForm"
        })((0,
        n.withRouter)((0,
        d.MM)((0,
        u.j)((0,
        f.C)((0,
        m.J)((0,
        h.o)((0,
        p.q)(C))))))))
          , R = U
          , I = R;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(T, "Button", "/home/vsts/work/1/s/src/components/TrackUploadForm/index.tsx"),
            e.register(D, "StrippedDeviceFirmware", "/home/vsts/work/1/s/src/components/TrackUploadForm/index.tsx"),
            e.register(L, "DEFAULT_USER_ACTION", "/home/vsts/work/1/s/src/components/TrackUploadForm/index.tsx"),
            e.register(k, "createSilentTrack", "/home/vsts/work/1/s/src/components/TrackUploadForm/index.tsx"),
            e.register(C, "TrackUploadFormComp", "/home/vsts/work/1/s/src/components/TrackUploadForm/index.tsx"),
            e.register(S, "__TEST__TrackUploadForm", "/home/vsts/work/1/s/src/components/TrackUploadForm/index.tsx"),
            e.register(U, "TrackUploadForm", "/home/vsts/work/1/s/src/components/TrackUploadForm/index.tsx"),
            e.register(R, "default", "/home/vsts/work/1/s/src/components/TrackUploadForm/index.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    df9ee908f82293cf6f64: (e,t,r)=>{
        "use strict";
        r.d(t, {
            o: ()=>s
        });
        var a = r("8af190b70a6bc55c6f1b");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        var o = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const s = ({layers: e, loaded: t})=>{
            const [r,o] = (0,
            a.useState)([])
              , [s,n] = (0,
            a.useState)(null);
            (0,
            a.useEffect)(()=>{
                if (e.length === r.length + 1)
                    ;
                else if (e.length === r.length - 1) {
                    let t = !1;
                    for (let a = 0; a < e.length; a += 1)
                        e[a].id !== r[a].id && (t = !0);
                    if (!t)
                        return n("removing"),
                        void setTimeout(()=>{
                            n(null),
                            o(e)
                        }
                        , 200)
                }
                o(e)
            }
            , [e]);
            const i = [];
            for (let e = 0; e < 8; e += 1) {
                var c;
                const o = "removing" === s ? -1 : 0
                  , n = Math.min(1, (1 + e - o) / r.length);
                let _ = "";
                e - o < r.length - 1 ? _ = "below" : e - o > r.length - 1 && (_ = "above");
                const l = a.createElement("div", {
                    className: `\n                    ye-layers__layer\n                    ye-layers__layer--${0 === e ? "base" : "overlay"}\n                    ye-layers__layer--${_}\n                    ${t ? "" : "ye-layers__layer--loading"}`,
                    style: {
                        transform: n < 1 ? `scale(${n})` : void 0,
                        opacity: n < 1 ? n : void 0
                    },
                    key: e
                }, null === (c = r[e]) || void 0 === c ? void 0 : c.component);
                i.push(l)
            }
            return a.createElement("div", {
                className: "ye-layers"
            }, i)
        }
        ;
        o(s, "useState{[displayedLayers, setDisplayedLayers]([])}\nuseState{[layerTransition, setLayerTransition](null)}\nuseEffect{}"),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(8, "AVAILABLE_LAYERS", "/home/vsts/work/1/s/src/components/YeLayers/index.tsx"),
            e.register(s, "YeLayers", "/home/vsts/work/1/s/src/components/YeLayers/index.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "909d96d96697555397ee": (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            Z: ()=>__WEBPACK_DEFAULT_EXPORT__
        });
        var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("de098c4daf91477f9cbc")
          , react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("8af190b70a6bc55c6f1b")
          , _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("8a5d22dd0b24a6092d3e")
          , _ViewManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("40353abbf4343fb217bd")
          , _ViewManager_routes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("85e7ca4a0fc033a5d848")
          , _contexts_account__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("ad21e61587d47603cd1c")
          , _utils_browser_detection__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("5347e167343c470dbdfe")
          , _utils_preventScrollHandler__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("33f12881a4b6c417b540");
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        class App extends react__WEBPACK_IMPORTED_MODULE_0__.Component {
            constructor(e) {
                super(e),
                this._isMounted = !1,
                this.handleOnViewLoaded = (()=>{
                    this._isMounted && (this.setState({
                        viewLoaded: !0
                    }),
                    setTimeout(()=>{
                        this.setState({
                            animateSplashOut: !0
                        }),
                        setTimeout(()=>{
                            this.setState({
                                loading: !1
                            })
                        }
                        , 300)
                    }
                    , 600))
                }
                ),
                this.state = {
                    loading: !0,
                    viewLoaded: !1,
                    routes: _ViewManager_routes__WEBPACK_IMPORTED_MODULE_3__._,
                    animateSplashOut: !1
                },
                "Samsung" === (0,
                _utils_browser_detection__WEBPACK_IMPORTED_MODULE_5__.qs)() && document.body.classList.add("is-samsung-internet")
            }
            componentDidMount() {
                this._isMounted = !0,
                document.addEventListener("touchmove", _utils_preventScrollHandler__WEBPACK_IMPORTED_MODULE_6__.Z, {
                    passive: !1
                })
            }
            componentDidUpdate() {
                var e = this;
                return (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(function*() {
                    const {loading: t} = e.state
                      , {accountClient: {session: r}} = e.props;
                    t || e.props.trackUser((null === r || void 0 === r ? void 0 : r.User.Id) || null)
                })()
            }
            componentWillUnmount() {
                document.removeEventListener("touchmove", _utils_preventScrollHandler__WEBPACK_IMPORTED_MODULE_6__.Z),
                this._isMounted = !1
            }
            render() {
                const {config: e} = this.props
                  , {routes: t} = this.state;
                return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ViewManager__WEBPACK_IMPORTED_MODULE_2__.Z, {
                    routes: t,
                    config: e,
                    onViewLoaded: this.handleOnViewLoaded
                }))
            }
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        const AppProvider = (0,
        _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_1__.j)({
            module: "app"
        })((0,
        _contexts_account__WEBPACK_IMPORTED_MODULE_4__.o)(App))
          , _default = AppProvider
          , __WEBPACK_DEFAULT_EXPORT__ = _default;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(App, "App", "/home/vsts/work/1/s/src/containers/App/index.tsx"),
            e.register(AppProvider, "AppProvider", "/home/vsts/work/1/s/src/containers/App/index.tsx"),
            e.register(_default, "default", "/home/vsts/work/1/s/src/containers/App/index.tsx"))
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    "3029aafe6858c31fb8c9": (e,t,r)=>{
        "use strict";
        r.d(t, {
            _E: ()=>a,
            N6: ()=>o,
            hX: ()=>s,
            UA: ()=>n,
            a6: ()=>i,
            MN: ()=>c,
            L4: ()=>_
        }),
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const a = {
            SeekJumpPeriod_mSecs: 1e3,
            SeekBuffersToPlay: 4,
            IsolationRampPeriod_mSecs: 50,
            IsolationHitBoxSize: 10,
            MinStemBackgroundLevel: 130,
            Fast2play: 1.25,
            Fast1play: 1.15,
            Slow1play: .5,
            RecordPeriod_secs: 60,
            MinVolumeLevel_dB: -30,
            HeadphoneMaxLevel_dB: -2,
            HeadphoneBTLimit: 5,
            HeadphoneWiredLimit: 3,
            SplitterPreference: 1
        };
        let o, s, n, i, c, _;
        !function(e) {
            e[e.Max = 6e5] = "Max",
            e[e.Min = 1e4] = "Min"
        }(o || (o = {})),
        function(e) {
            e[e.FastMax = 125] = "FastMax",
            e[e.FastMin = 100] = "FastMin",
            e[e.SlowMax = 100] = "SlowMax",
            e[e.SlowMin = 20] = "SlowMin"
        }(s || (s = {})),
        function(e) {
            e[e.Min = -10] = "Min",
            e[e.Max = 10] = "Max"
        }(n || (n = {})),
        function(e) {
            e[e.Large = 10] = "Large",
            e[e.Small = 5] = "Small"
        }(i || (i = {})),
        function(e) {
            e[e.Normal = 1e3] = "Normal",
            e[e.Fast = 2e3] = "Fast"
        }(c || (c = {})),
        function(e) {
            e[e.High = 2] = "High",
            e[e.Low = 1] = "Low"
        }(_ || (_ = {})),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && e.register(a, "DefaultConfig", "/home/vsts/work/1/s/src/containers/DeviceConfig/config.ts")
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "40353abbf4343fb217bd": (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            Z: ()=>__WEBPACK_DEFAULT_EXPORT__
        });
        var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("cc5a1791ca69c601dde3")
          , react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("8af190b70a6bc55c6f1b")
          , react_router_dom__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("657c5d0bc31a26770cad")
          , react_router_dom__WEBPACK_IMPORTED_MODULE_10___default = __webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_10__)
          , _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("8a5d22dd0b24a6092d3e")
          , _contexts_webusb__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("f60aef9fa88f4e9ce07a")
          , _contexts_album_restore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("16c6bde65fb4831cea2e")
          , _contexts_account__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("ad21e61587d47603cd1c")
          , _contexts_view_manager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("3e17aee31846974e528a")
          , _components_YeLayers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("df9ee908f82293cf6f64")
          , _contexts_audio_engine__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("77d9647920c06e8befd6")
          , _components_MiniPlayer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("7e15fd75b6f1cbf7b3fd")
          , _loadable_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("9c2db445b2a1a7a1cf6d");
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const DevMenuTrigger = (0,
        _loadable_component__WEBPACK_IMPORTED_MODULE_9__.ZP)({
            resolved: {},
            chunkName: ()=>"components-DevMenuTrigger",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!__webpack_require__.m[t]
            },
            importAsync: ()=>__webpack_require__.e(1866).then(__webpack_require__.bind(__webpack_require__, "8ee2ed86fae0a20a563a")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return __webpack_require__(t)
            },
            resolve() {
                return "8ee2ed86fae0a20a563a"
            }
        });
        class ViewManager extends react__WEBPACK_IMPORTED_MODULE_0__.Component {
            constructor(e) {
                super(e),
                this.mainEl = void 0,
                this.setViewLoaded = (()=>{
                    this.setState({
                        viewLoaded: !0
                    }, ()=>{
                        this.props.onViewLoaded && this.props.onViewLoaded()
                    }
                    )
                }
                ),
                this.setHomeImagesLoaded = (()=>{
                    this.setState({
                        homeImagesLoaded: !0
                    })
                }
                ),
                this.onDevicePanelMounted = (e=>{
                    this.setState({
                        connectToDevice: e
                    })
                }
                ),
                this.connectToDevice = (()=>{
                    const {connectToDevice: e} = this.state;
                    e && e()
                }
                );
                const {tracking: {trackEvent: t}} = e;
                let r = !1;
                "/uk" === location.pathname ? (r = !0,
                t({
                    event: "region_detect",
                    data: {
                        region: "uk",
                        page_path: "/",
                        vendor: window.location.hostname
                    }
                }),
                e.history.replace("/")) : "/us" === location.pathname ? (r = !1,
                t({
                    event: "region_detect",
                    data: {
                        region: "us",
                        page_path: "/",
                        vendor: window.location.hostname
                    }
                }),
                e.history.replace("/")) : t({
                    event: "region_detect",
                    data: {
                        region: "us",
                        page_path: "/",
                        vendor: window.location.hostname
                    }
                }),
                this.state = {
                    viewLoaded: !1,
                    homeImagesLoaded: !1,
                    isUK: r,
                    connectToDevice: null
                }
            }
            componentDidMount() {
                this.updateRoute()
            }
            componentDidUpdate(e) {
                const {webUSBClient: {deviceConnected: t}, location: r, viewManagerClient: a} = this.props;
                (e.location.pathname !== r.pathname || e.location.search !== r.search || e.webUSBClient && e.webUSBClient.deviceConnected !== t) && (a.setPreviousLocation(e.location.pathname + e.location.search),
                this.updateRoute())
            }
            updateRoute() {
                const {viewManagerClient: e, webUSBClient: t} = this.props
                  , {newTrack: r} = e;
                "/connect/new" === location.pathname && null === r && e.navigate("/connect/stem");
                for (const r of this.props.routes) {
                    const a = (0,
                    react_router_dom__WEBPACK_IMPORTED_MODULE_10__.matchPath)(location.pathname, {
                        path: r.path,
                        exact: r.exact
                    });
                    if (a) {
                        !r.deviceRequired || t.deviceConnected || r.accessWithLoginSession || e.navigate("/");
                        const o = r.layers.map(e=>e.component.load && e.component.load());
                        return void Promise.all(o).then(()=>{
                            this.setState({
                                route: r,
                                match: a
                            })
                        }
                        )
                    }
                }
                e.navigate("/")
            }
            render() {
                const {isUK: e, route: t, match: r} = this.state
                  , {config: a, audioEngine: o, viewManagerClient: {modals: s}} = this.props
                  , n = ((null === t || void 0 === t ? void 0 : t.layers) || []).concat(s);
                return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
                    className: "main",
                    id: "main"
                }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
                    className: "content"
                }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_YeLayers__WEBPACK_IMPORTED_MODULE_6__.o, {
                    loaded: this.state.viewLoaded,
                    layers: n.map(t=>({
                        id: t.id,
                        component: react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_10__.Route, {
                            computedMatch: r,
                            children: r=>t.component ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(t.component, (0,
                            _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_11__.Z)({}, r, {
                                config: a,
                                isUK: e,
                                onLoaded: this.setViewLoaded,
                                onImagesLoaded: this.setHomeImagesLoaded,
                                connectToDevice: this.connectToDevice
                            })) : react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
                                className: "modal",
                                ref: e=>{
                                    t.container.current = e,
                                    t.ready && t.ready.resolve()
                                }
                            })
                        })
                    }))
                }), (o.currentTrack || o.isNavigating) && react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_MiniPlayer__WEBPACK_IMPORTED_MODULE_8__.Z, null)), "production" !== a.TARGET_ENV ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(DevMenuTrigger, null) : null)
            }
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        const _default = (0,
        _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_1__.j)({
            module: "view_manager"
        })((0,
        react_router_dom__WEBPACK_IMPORTED_MODULE_10__.withRouter)((0,
        _contexts_album_restore__WEBPACK_IMPORTED_MODULE_3__.C)((0,
        _contexts_webusb__WEBPACK_IMPORTED_MODULE_2__.MM)((0,
        _contexts_view_manager__WEBPACK_IMPORTED_MODULE_5__.q)((0,
        _contexts_account__WEBPACK_IMPORTED_MODULE_4__.o)((0,
        _contexts_audio_engine__WEBPACK_IMPORTED_MODULE_7__.f)(ViewManager)))))))
          , __WEBPACK_DEFAULT_EXPORT__ = _default;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(DevMenuTrigger, "DevMenuTrigger", "/home/vsts/work/1/s/src/containers/ViewManager/index.tsx"),
            e.register(ViewManager, "ViewManager", "/home/vsts/work/1/s/src/containers/ViewManager/index.tsx"),
            e.register(_default, "default", "/home/vsts/work/1/s/src/containers/ViewManager/index.tsx"))
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    "85e7ca4a0fc033a5d848": (e,t,r)=>{
        "use strict";
        r.d(t, {
            _: ()=>D
        });
        var a = r("9c2db445b2a1a7a1cf6d");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        var o = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const s = (0,
        a.ZP)({
            resolved: {},
            chunkName: ()=>"Updating",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>r.e(5735).then(r.bind(r, "8ff050722c9ab1c75b44")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "8ff050722c9ab1c75b44"
            }
        })
          , n = (0,
        a.ZP)({
            resolved: {},
            chunkName: ()=>"Remix",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.all([r.e(8317), r.e(5779), r.e(4513), r.e(9295), r.e(4771), r.e(9322)]).then(r.bind(r, "000afd87a3893e62f19d")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "000afd87a3893e62f19d"
            }
        })
          , i = (0,
        a.ZP)({
            resolved: {},
            chunkName: ()=>"Account",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>r.e(1918).then(r.bind(r, "ab540654ec87e0a7bf2a")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "ab540654ec87e0a7bf2a"
            }
        })
          , c = (0,
        a.ZP)({
            resolved: {},
            chunkName: ()=>"PasswordReset",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>r.e(6630).then(r.bind(r, "5e1201107e93964bd697")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "5e1201107e93964bd697"
            }
        })
          , _ = (0,
        a.ZP)({
            resolved: {},
            chunkName: ()=>"ConfirmEmailUpdate",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>r.e(7452).then(r.bind(r, "f747f0c246c4030c9bf0")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "f747f0c246c4030c9bf0"
            }
        })
          , l = (0,
        a.ZP)({
            resolved: {},
            chunkName: ()=>"Registration",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>r.e(6150).then(r.bind(r, "55593ed3885f6c11ec50")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "55593ed3885f6c11ec50"
            }
        })
          , d = (0,
        a.ZP)({
            resolved: {},
            chunkName: ()=>"AccountLogin",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.all([r.e(8445), r.e(3383)]).then(r.bind(r, "9219c90d47a8820a2a29")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "9219c90d47a8820a2a29"
            }
        })
          , u = (0,
        a.ZP)({
            resolved: {},
            chunkName: ()=>"PasswordChange",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.all([r.e(9713), r.e(856)]).then(r.bind(r, "1ae9217340f0f396f87a")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "1ae9217340f0f396f87a"
            }
        })
          , f = (0,
        a.ZP)({
            resolved: {},
            chunkName: ()=>"HomePage",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.all([r.e(5779), r.e(4513), r.e(9295), r.e(9708), r.e(8460)]).then(r.bind(r, "c109a9d128dff7bfbd45")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "c109a9d128dff7bfbd45"
            }
        })
          , m = (0,
        a.ZP)({
            resolved: {},
            chunkName: ()=>"Controls",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.all([r.e(1840), r.e(6521)]).then(r.bind(r, "3ad034ce62c44843d3a6")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "3ad034ce62c44843d3a6"
            }
        })
          , h = (0,
        a.ZP)({
            resolved: {},
            chunkName: ()=>"FAQ",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>r.e(5083).then(r.bind(r, "046ae41439684f406347")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "046ae41439684f406347"
            }
        })
          , p = (0,
        a.ZP)({
            resolved: {},
            chunkName: ()=>"Info",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.all([r.e(1840), r.e(9014)]).then(r.bind(r, "3227868004d09282c22f")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "3227868004d09282c22f"
            }
        })
          , b = (0,
        a.ZP)({
            resolved: {},
            chunkName: ()=>"Terms",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.all([r.e(1840), r.e(6743)]).then(r.bind(r, "b7167979877d5e17bee1")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "b7167979877d5e17bee1"
            }
        })
          , v = (0,
        a.ZP)({
            resolved: {},
            chunkName: ()=>"PrivacyPolicy",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.all([r.e(1840), r.e(327)]).then(r.bind(r, "4dc3bf1b60601d50c9e1")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "4dc3bf1b60601d50c9e1"
            }
        })
          , E = (0,
        a.ZP)({
            resolved: {},
            chunkName: ()=>"RefundPolicy",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.all([r.e(1840), r.e(5908)]).then(r.bind(r, "2016e39a85fa248e4004")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "2016e39a85fa248e4004"
            }
        })
          , g = (0,
        a.ZP)({
            resolved: {},
            chunkName: ()=>"Video",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.all([r.e(1840), r.e(9945)]).then(r.bind(r, "0da2ab9a3c2d27b3b747")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "0da2ab9a3c2d27b3b747"
            }
        })
          , y = (0,
        a.ZP)({
            resolved: {},
            chunkName: ()=>"MusicVideos",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.all([r.e(1840), r.e(2868)]).then(r.bind(r, "eeaff95f5d41d43ad9fb")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "eeaff95f5d41d43ad9fb"
            }
        })
          , A = (0,
        a.ZP)({
            resolved: {},
            chunkName: ()=>"FactoryReset",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>r.e(5009).then(r.bind(r, "9ce1b3c31aa3a4f16c2c")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "9ce1b3c31aa3a4f16c2c"
            }
        })
          , P = (0,
        a.ZP)({
            resolved: {},
            chunkName: ()=>"DeviceConfig",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.all([r.e(9713), r.e(4958)]).then(r.bind(r, "d00aef4a5b07cfed0869")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "d00aef4a5b07cfed0869"
            }
        })
          , M = (0,
        a.ZP)({
            resolved: {},
            chunkName: ()=>"StemUpload",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.all([r.e(8317), r.e(5508), r.e(1285), r.e(451)]).then(r.bind(r, "eee9a4037fce6f3bba79")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "eee9a4037fce6f3bba79"
            }
        })
          , O = (0,
        a.ZP)({
            resolved: {},
            chunkName: ()=>"Platform",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.all([r.e(8317), r.e(5508), r.e(900), r.e(1285), r.e(4771), r.e(7203)]).then(r.bind(r, "d8233878ff089243fc65")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "d8233878ff089243fc65"
            }
        })
          , w = (0,
        a.ZP)({
            resolved: {},
            chunkName: ()=>"DevMenu",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.all([r.e(1840), r.e(9642)]).then(r.bind(r, "acbf6c7eb8d93a282a95")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "acbf6c7eb8d93a282a95"
            }
        })
          , T = {
            updating: {
                id: "updating",
                component: s
            },
            remix: {
                id: "remix",
                component: n
            },
            account: {
                id: "account",
                component: i
            },
            resetPassword: {
                id: "reset-password",
                component: c
            },
            emailUpdated: {
                id: "update-email",
                component: _
            },
            passwordChange: {
                id: "password-change",
                component: u
            },
            registration: {
                id: "reset-password",
                component: l
            },
            accountLogin: {
                id: "account-login",
                component: d
            },
            controls: {
                id: "controls",
                component: m
            },
            home: {
                id: "home",
                component: f
            },
            faq: {
                id: "faq",
                component: h
            },
            info: {
                id: "info",
                component: p
            },
            terms: {
                id: "terms",
                component: b
            },
            privacy: {
                id: "privacy",
                component: v
            },
            refund: {
                id: "refund",
                component: E
            },
            video: {
                id: "video",
                component: g
            },
            musicVideos: {
                id: "music-videos",
                component: y
            },
            factoryReset: {
                id: "factory-reset",
                component: A
            },
            deviceConfig: {
                id: "device-config",
                component: P
            },
            stemUpload: {
                id: "stem-upload",
                component: M
            },
            platform: {
                id: "platform",
                component: O
            },
            devMenu: {
                id: "dev-menu",
                component: w
            }
        }
          , D = [{
            path: ["/account/reset-password"],
            exact: !0,
            layers: [T.home, T.resetPassword],
            deviceRequired: !1,
            accessWithLoginSession: !1
        }, {
            path: ["/account/update-email"],
            exact: !0,
            layers: [T.home, T.emailUpdated],
            deviceRequired: !1,
            accessWithLoginSession: !1
        }, {
            path: ["/account/password-change"],
            exact: !0,
            layers: [T.home, T.passwordChange],
            deviceRequired: !1,
            accessWithLoginSession: !0
        }, {
            path: ["/account/registration"],
            exact: !0,
            layers: [T.home, T.registration],
            deviceRequired: !1,
            accessWithLoginSession: !1
        }, {
            path: ["/account/login"],
            exact: !0,
            layers: [T.home, T.accountLogin],
            deviceRequired: !1,
            accessWithLoginSession: !1
        }, {
            path: ["/connect/factory-reset"],
            exact: !0,
            layers: [T.home, T.platform, T.factoryReset],
            deviceRequired: !0,
            accessWithLoginSession: !1
        }, {
            path: ["/connect/config/factory-reset"],
            exact: !0,
            layers: [T.home, T.platform, T.deviceConfig, T.factoryReset],
            deviceRequired: !0,
            accessWithLoginSession: !1
        }, {
            path: ["/connect/config"],
            exact: !0,
            layers: [T.home, T.platform, T.deviceConfig],
            deviceRequired: !0,
            accessWithLoginSession: !0
        }, {
            path: ["/connect/new"],
            exact: !0,
            layers: [T.home, T.platform, T.stemUpload],
            deviceRequired: !1,
            accessWithLoginSession: !0
        }, {
            path: ["/connect/stem"],
            exact: !0,
            layers: [T.home, T.platform],
            deviceRequired: !0,
            accessWithLoginSession: !0
        }, {
            path: ["/connect/stem/album/:albumSlug", "/connect/stem/track/:trackId"],
            exact: !0,
            layers: [T.home, T.platform],
            deviceRequired: !0,
            accessWithLoginSession: !0
        }, {
            path: ["/controls"],
            exact: !0,
            layers: [T.home, T.platform, T.controls],
            deviceRequired: !1,
            accessWithLoginSession: !0
        }, {
            path: ["/remix"],
            exact: !1,
            layers: [T.home, T.remix],
            deviceRequired: !1,
            accessWithLoginSession: !0
        }, {
            path: ["/faq"],
            exact: !0,
            layers: [T.home, T.faq],
            deviceRequired: !1,
            accessWithLoginSession: !0
        }, {
            path: ["/faq/controls", "/controls"],
            exact: !0,
            layers: [T.home, T.faq, T.controls],
            deviceRequired: !1,
            accessWithLoginSession: !0
        }, {
            path: ["/info"],
            exact: !0,
            layers: [T.home, T.info],
            deviceRequired: !1,
            accessWithLoginSession: !0
        }, {
            path: ["/info/terms"],
            exact: !0,
            layers: [T.home, T.info, T.terms],
            deviceRequired: !1,
            accessWithLoginSession: !0
        }, {
            path: ["/info/privacy"],
            exact: !0,
            layers: [T.home, T.info, T.privacy],
            deviceRequired: !1,
            accessWithLoginSession: !0
        }, {
            path: ["/info/refund"],
            exact: !0,
            layers: [T.home, T.info, T.refund],
            deviceRequired: !1,
            accessWithLoginSession: !0
        }, {
            path: ["/terms"],
            exact: !0,
            layers: [T.home, T.terms],
            deviceRequired: !1,
            accessWithLoginSession: !0
        }, {
            path: ["/privacy", "/privacy-policy"],
            exact: !0,
            layers: [T.home, T.privacy],
            deviceRequired: !1,
            accessWithLoginSession: !0
        }, {
            path: ["/refund", "/refund-policy"],
            exact: !0,
            layers: [T.home, T.refund],
            deviceRequired: !1,
            accessWithLoginSession: !0
        }, {
            path: ["/video"],
            exact: !0,
            layers: [T.home, T.video],
            deviceRequired: !1,
            accessWithLoginSession: !0
        }, {
            path: ["/music-videos"],
            exact: !0,
            layers: [T.home, T.musicVideos],
            deviceRequired: !1,
            accessWithLoginSession: !0
        }, {
            path: ["/updating"],
            exact: !0,
            layers: [T.home, T.updating],
            deviceRequired: !1,
            accessWithLoginSession: !1
        }, {
            path: ["/"],
            exact: !0,
            layers: [T.home],
            deviceRequired: !1,
            accessWithLoginSession: !0
        }];
        D.unshift({
            path: ["/dev"],
            exact: !0,
            layers: [T.home, T.devMenu],
            deviceRequired: !1,
            accessWithLoginSession: !1
        }),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(s, "LoadableUpdating", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(n, "LoadableRemix", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(i, "LoadableAccount", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(c, "LoadableResetPassword", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(_, "LoadableUpdateEmail", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(l, "LoadableRegistration", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(d, "LoadableAccountLogin", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(u, "LoadablePasswordChange", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(f, "LoadableHome", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(m, "LoadableControls", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(h, "LoadableFaq", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(p, "LoadableInfo", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(b, "LoadableTerms", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(v, "LoadablePrivacy", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(E, "LoadableRefund", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(g, "LoadableVideo", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(y, "LoadableMusicVideos", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(A, "LoadableFactoryReset", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(P, "LoadableDeviceConfig", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(M, "LoadableStemUpload", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(O, "LoadablePlatform", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(w, "LoadableDevMenu", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(T, "views", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(D, "routes", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "727b34f8bf995459d503": (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            w0: ()=>AccountContext,
            ZP: ()=>__WEBPACK_DEFAULT_EXPORT__
        });
        var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("990057777e9b2b7543e8")
          , _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("de098c4daf91477f9cbc")
          , react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("8af190b70a6bc55c6f1b")
          , _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("8a5d22dd0b24a6092d3e")
          , _kano_kbc_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("8390a660195ca787c81e")
          , _utils_validate__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("590e518eaa9efe3ab6d3");
        function ownKeys(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var a = Object.getOwnPropertySymbols(e);
                t && (a = a.filter(function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                })),
                r.push.apply(r, a)
            }
            return r
        }
        function _objectSpread(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = null != arguments[t] ? arguments[t] : {};
                t % 2 ? ownKeys(Object(r), !0).forEach(function(t) {
                    (0,
                    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e, t, r[t])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : ownKeys(Object(r)).forEach(function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                })
            }
            return e
        }
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const AccountContext = react__WEBPACK_IMPORTED_MODULE_1__.createContext({})
          , DONDA_2_ID = "donda_2";
        class AccountProvider extends react__WEBPACK_IMPORTED_MODULE_1__.PureComponent {
            constructor(e) {
                var t;
                super(e),
                t = this,
                this.LSKey = void 0,
                this.BasicLSKey = void 0,
                this.setUpdatedEmail = (e=>{
                    this.setState({
                        updatedEmail: e
                    })
                }
                ),
                this.setUserLoggedOut = (e=>{
                    this.setState({
                        userLoggedOut: e
                    })
                }
                ),
                this.login = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*(e, r) {
                        const a = {
                            error: null,
                            session: null
                        };
                        if (!(0,
                        _utils_validate__WEBPACK_IMPORTED_MODULE_4__.oH)(e))
                            return a.error = "Invalid Email Address",
                            a;
                        if (!(0,
                        _utils_validate__WEBPACK_IMPORTED_MODULE_4__.uo)(r))
                            return a.error = "Invalid email or password",
                            a;
                        try {
                            const o = yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/login`, {
                                method: "POST",
                                body: JSON.stringify({
                                    email: e,
                                    password: r
                                })
                            });
                            if (!o.ok)
                                return a.error = "Invalid email or password",
                                a;
                            const s = yield o.json();
                            return t.saveSession(s.data),
                            a.session = s.data,
                            a
                        } catch (e) {
                            return a.error = "Login failed. Try again later",
                            a
                        }
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.signup = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*(e, r, a) {
                        const o = {
                            error: null,
                            session: null
                        };
                        if (!(0,
                        _utils_validate__WEBPACK_IMPORTED_MODULE_4__.oH)(e))
                            return o.error = "Invalid email",
                            o;
                        if (!(0,
                        _utils_validate__WEBPACK_IMPORTED_MODULE_4__.uo)(r))
                            return o.error = "Password must be 8 characters or longer",
                            o;
                        if (r !== a)
                            return o.error = "Passwords don't match",
                            o;
                        try {
                            const a = yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/signup`, {
                                method: "POST",
                                body: JSON.stringify({
                                    email: e,
                                    password: r
                                })
                            });
                            if (!a.ok) {
                                if (400 === a.status) {
                                    const e = yield a.json();
                                    return o.error = e.error,
                                    o.error = "Signup failed. Please try again later (2)",
                                    o
                                }
                                return o.error = "Signup failed. Please try again later",
                                o
                            }
                            const s = yield a.json();
                            return t.saveSession(s.data),
                            o.session = s.data,
                            o
                        } catch (e) {
                            return o.error = "Signup failed. Please try again later",
                            o
                        }
                    });
                    return function(t, r, a) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.redirectToCreatePurchase = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*(e) {
                        try {
                            const r = {
                                products: e
                            };
                            "production" !== t.props.config.TARGET_ENV && (r.redirectBaseUrl = `${document.location.origin}`);
                            const a = yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/purchase`, {
                                method: "POST",
                                headers: {
                                    Authorization: `bearer ${t.state.session.AccessToken}`
                                },
                                body: JSON.stringify(r)
                            });
                            if (!a.ok)
                                throw new Error(`Request failed: ${a.status}`);
                            const o = yield a.json();
                            window.location.href = o.data.redirectUrl
                        } catch (e) {
                            throw new Error(`Creating purchase failed: ${e}`)
                        }
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.redirectToCreateSubscription = (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*() {
                    try {
                        const e = {};
                        "production" !== t.props.config.TARGET_ENV && (e.redirectBaseUrl = `${document.location.origin}`);
                        const r = yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/subscribe`, {
                            method: "POST",
                            headers: {
                                Authorization: `bearer ${t.state.session.AccessToken}`
                            },
                            body: JSON.stringify(e)
                        });
                        if (!r.ok)
                            throw new Error(`Request failed: ${r.status}`);
                        const a = yield r.json();
                        window.location.href = a.data.redirectUrl
                    } catch (e) {
                        throw new Error(`Creating subscription failed: ${e}`)
                    }
                }),
                this.redirectToManageSubscription = (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*() {
                    try {
                        let e = [];
                        "production" !== t.props.config.TARGET_ENV && e.push(`redirectBaseUrl=${document.location.origin}`);
                        const r = e.length > 0 ? `?${e.join("&")}` : ""
                          , a = yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/manage-subscription${r}`, {
                            headers: {
                                Authorization: `bearer ${t.state.session.AccessToken}`
                            }
                        });
                        if (!a.ok)
                            throw new Error(`Request failed: ${a.status}`);
                        const o = yield a.json();
                        window.location.href = o.data.redirectUrl
                    } catch (e) {
                        throw new Error(`Managing subscription failed: ${e}`)
                    }
                }),
                this.resetPassword = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*(e) {
                        const r = {
                            error: null
                        };
                        try {
                            if (!(0,
                            _utils_validate__WEBPACK_IMPORTED_MODULE_4__.oH)(e))
                                return r.error = "Invalid Email Address",
                                r;
                            const a = yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/forgot-password`, {
                                method: "POST",
                                body: JSON.stringify({
                                    email: e
                                })
                            });
                            return a.ok ? r : (r.error = `${a.status}`,
                            r)
                        } catch (e) {
                            return r.error = `${e}`,
                            r
                        }
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.resendRegistrationEmail = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*(e) {
                        const r = {
                            error: null
                        };
                        try {
                            if (!(0,
                            _utils_validate__WEBPACK_IMPORTED_MODULE_4__.oH)(e))
                                return r.error = "Invalid Email Address",
                                r;
                            const a = yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/register`, {
                                method: "POST",
                                body: JSON.stringify({
                                    email: e
                                })
                            });
                            return a.ok ? r : (r.error = `${a.status}`,
                            r)
                        } catch (e) {
                            return r.error = `${e}`,
                            r
                        }
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.confirmResetPassword = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*(e, r, a) {
                        const o = {
                            error: null,
                            session: null
                        };
                        if (!(0,
                        _utils_validate__WEBPACK_IMPORTED_MODULE_4__.oH)(e))
                            return o.error = "Invalid Email Address",
                            o;
                        if (!(0,
                        _utils_validate__WEBPACK_IMPORTED_MODULE_4__.uo)(a))
                            return o.error = "Password must be over 8 characters long",
                            o;
                        if (!e || !r)
                            return o.error = "Link Expired",
                            o;
                        try {
                            const s = yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/confirm-forgot-password`, {
                                method: "POST",
                                body: JSON.stringify({
                                    email: e,
                                    confirmationCode: r,
                                    newPassword: a
                                })
                            });
                            if (!s.ok) {
                                switch (s.status) {
                                case 410:
                                    o.error = "Link Expired";
                                    break;
                                default:
                                    o.error = "Error saving password. Please try again later"
                                }
                                return o
                            }
                            const n = yield s.json();
                            return t.saveSession(n.data),
                            o.session = n.data,
                            o
                        } catch (e) {
                            return o.error = "Error saving password. Please try again later",
                            o
                        }
                    });
                    return function(t, r, a) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.confirmRegistration = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*(e, r, a) {
                        const o = {
                            error: null,
                            session: null
                        };
                        if (!(0,
                        _utils_validate__WEBPACK_IMPORTED_MODULE_4__.oH)(e))
                            return o.error = "Invalid Email Address",
                            o;
                        if (!(0,
                        _utils_validate__WEBPACK_IMPORTED_MODULE_4__.uo)(a))
                            return o.error = "Password must be over 8 characters long",
                            o;
                        if (!e || !r)
                            return o.error = "Link Expired",
                            o;
                        try {
                            const s = yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/complete-registration`, {
                                method: "POST",
                                body: JSON.stringify({
                                    email: e,
                                    tempPassword: r,
                                    newPassword: a
                                })
                            });
                            if (!s.ok) {
                                switch (s.status) {
                                case 401:
                                    o.error = "Link Expired";
                                    break;
                                default:
                                    o.error = "Error saving password. Please try again later"
                                }
                                return o
                            }
                            const n = yield s.json();
                            return t.saveSession(n.data),
                            o.session = n.data,
                            o
                        } catch (e) {
                            return o.error = "Error saving password. Please try again later",
                            o
                        }
                    });
                    return function(t, r, a) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.updatePassword = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*(e, r, a) {
                        const o = {
                            error: null
                        };
                        if (!(0,
                        _utils_validate__WEBPACK_IMPORTED_MODULE_4__.uo)(r))
                            return o.error = "Password must be 8 characters or longer",
                            o;
                        if (r !== a)
                            return o.error = "Passwords don't match",
                            o;
                        try {
                            return (yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/change-password`, {
                                method: "POST",
                                headers: {
                                    Authorization: `bearer ${t.state.session.AccessToken}`
                                },
                                body: JSON.stringify({
                                    oldPassword: e,
                                    newPassword: r
                                })
                            })).ok ? o : (o.error = "Incorrect password",
                            o)
                        } catch (e) {
                            return o.error = "Error updating password. Please try again later",
                            o
                        }
                    });
                    return function(t, r, a) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.updateEmail = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*(e) {
                        const r = {
                            error: null
                        };
                        if (!(0,
                        _utils_validate__WEBPACK_IMPORTED_MODULE_4__.oH)(e))
                            return r.error = "Invalid Email",
                            r;
                        try {
                            return (yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/update-email`, {
                                method: "POST",
                                headers: {
                                    Authorization: `bearer ${t.state.session.AccessToken}`
                                },
                                body: JSON.stringify({
                                    newEmail: e
                                })
                            })).ok ? r : (r.error = "Update failed. Please try again later.",
                            r)
                        } catch (e) {
                            return r.error = "Update failed. Please try again later.",
                            r
                        }
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.confirmedEmailUpdate = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*(e, r, a, o) {
                        const s = e
                          , n = r
                          , i = a
                          , c = o;
                        t.setUpdatedEmail(n);
                        try {
                            if (!(yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/confirm-update-email`, {
                                method: "POST",
                                headers: {
                                    Authorization: `bearer ${t.state.session.AccessToken}`
                                },
                                body: JSON.stringify({
                                    oldEmail: s,
                                    newEmail: n,
                                    signDate: i,
                                    sig: c
                                })
                            })).ok)
                                throw Error("Update failed. Please try again later.")
                        } catch (e) {
                            console.log(e)
                        }
                    });
                    return function(t, r, a, o) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.refreshSession = (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*() {
                    const e = {
                        error: null,
                        session: null
                    }
                      , {RefreshToken: r} = t.state.session;
                    try {
                        const a = yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/refresh-token`, {
                            method: "POST",
                            headers: {
                                Authorization: `bearer ${t.state.session.AccessToken}`
                            },
                            body: JSON.stringify({
                                RefreshToken: r
                            })
                        });
                        if (!a.ok) {
                            if (401 === a.status) {
                                const t = yield a.json();
                                return e.error = t.error,
                                e
                            }
                            return e.error = "Refresh failed. Try again later",
                            e
                        }
                        const o = _objectSpread({
                            RefreshToken: r
                        }, (yield a.json()).data);
                        return t.saveSession(o),
                        e.session = o,
                        e
                    } catch (t) {
                        return e.error = "Refresh failed. Try again later",
                        e
                    }
                }),
                this.getSession = (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*() {
                    return t.state.session
                }),
                this.saveSession = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*(e) {
                        t.setState({
                            session: e
                        }),
                        _kano_kbc_utils__WEBPACK_IMPORTED_MODULE_3__.mM.write(t.LSKey, JSON.stringify(e))
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.saveBasicSession = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*(e) {
                        t.setState({
                            basicSession: e
                        }),
                        _kano_kbc_utils__WEBPACK_IMPORTED_MODULE_3__.mM.write(t.BasicLSKey, JSON.stringify(e))
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.isUserSubscribed = (()=>{
                    var e, t;
                    return !(null === (e = this.state.session) || void 0 === e || null === (t = e.User) || void 0 === t || !t.SubscriptionActive)
                }
                ),
                this.purchasedDonda2 = (()=>{
                    var e, t, r;
                    return !(null === (e = this.state.session) || void 0 === e || null === (t = e.User) || void 0 === t || null === (r = t.Purchases) || void 0 === r || !r.includes(DONDA_2_ID))
                }
                ),
                this.purchasedStemPlayer = (()=>!!this.state.session),
                this.requestDeviceChallenge = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*(e) {
                        try {
                            const r = yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/device-challenge`, {
                                method: "POST",
                                body: JSON.stringify({
                                    device_id: e
                                })
                            });
                            if (!r.ok)
                                throw new Error(`Device challenge request failed: ${r.status} ${r.statusText}`);
                            const a = yield r.json();
                            return {
                                challenge: parseInt(a.data.challenge, 16)
                            }
                        } catch (e) {
                            return {
                                error: e
                            }
                        }
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.completeDeviceChallenge = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*(e, r) {
                        try {
                            const a = yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/device-login`, {
                                method: "POST",
                                body: JSON.stringify({
                                    device_id: e,
                                    challenge_response: r
                                })
                            });
                            if (!a.ok)
                                throw new Error(`Device challenge failed: ${a.status} ${a.statusText}`);
                            return {
                                token: (yield a.json()).data.AccessToken
                            }
                        } catch (e) {
                            return {
                                error: e
                            }
                        }
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.LSKey = `${e.config.TARGET_ENV}_sp_session`;
                const r = _kano_kbc_utils__WEBPACK_IMPORTED_MODULE_3__.mM.read(this.LSKey);
                this.BasicLSKey = `${e.config.TARGET_ENV}_sp_basic_session`;
                const a = _kano_kbc_utils__WEBPACK_IMPORTED_MODULE_3__.mM.read(this.BasicLSKey);
                this.state = {
                    session: r ? JSON.parse(r) : null,
                    basicSession: a ? JSON.parse(a) : null,
                    updatedEmail: null,
                    userLoggedOut: !1
                }
            }
            componentDidMount() {
                var e = this;
                return (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*() {
                    if (e.state.session) {
                        (yield e.refreshSession()).error && e.logout()
                    }
                })()
            }
            logout() {
                this.saveSession(null),
                this.saveBasicSession(null)
            }
            render() {
                const e = {
                    accountClient: _objectSpread(_objectSpread({}, {
                        resendRegistrationEmail: this.resendRegistrationEmail,
                        resetPassword: this.resetPassword,
                        confirmResetPassword: this.confirmResetPassword,
                        updatePassword: this.updatePassword,
                        updateEmail: this.updateEmail,
                        confirmedEmailUpdate: this.confirmedEmailUpdate,
                        confirmRegistration: this.confirmRegistration,
                        redirectToCreatePurchase: this.redirectToCreatePurchase,
                        redirectToCreateSubscription: this.redirectToCreateSubscription,
                        redirectToManageSubscription: this.redirectToManageSubscription,
                        getSession: this.getSession,
                        saveSession: this.saveSession,
                        refreshSession: this.refreshSession,
                        saveBasicSession: this.saveBasicSession,
                        isUserSubscribed: this.isUserSubscribed,
                        purchasedDonda2: this.purchasedDonda2,
                        purchasedStemPlayer: this.purchasedStemPlayer,
                        login: this.login,
                        signup: this.signup,
                        logout: this.logout,
                        requestDeviceChallenge: this.requestDeviceChallenge,
                        completeDeviceChallenge: this.completeDeviceChallenge,
                        setUserLoggedOut: this.setUserLoggedOut
                    }), this.state)
                };
                return react__WEBPACK_IMPORTED_MODULE_1__.createElement(AccountContext.Provider, {
                    value: e
                }, this.props.children)
            }
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        const __TEST__AccountProvider = AccountProvider
          , _default = (0,
        _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_2__.j)({
            module: "subscription"
        })(AccountProvider)
          , __WEBPACK_DEFAULT_EXPORT__ = _default;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(AccountContext, "AccountContext", "/home/vsts/work/1/s/src/contexts/account/account-context.tsx"),
            e.register(DONDA_2_ID, "DONDA_2_ID", "/home/vsts/work/1/s/src/contexts/account/account-context.tsx"),
            e.register(AccountProvider, "AccountProvider", "/home/vsts/work/1/s/src/contexts/account/account-context.tsx"),
            e.register(__TEST__AccountProvider, "__TEST__AccountProvider", "/home/vsts/work/1/s/src/contexts/account/account-context.tsx"),
            e.register(_default, "default", "/home/vsts/work/1/s/src/contexts/account/account-context.tsx"))
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    "5b59c92b90bc77179045": (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>d
        });
        var a = r("cc5a1791ca69c601dde3")
          , o = r("b02a35033e7f8e6fa1e0")
          , s = r("8af190b70a6bc55c6f1b")
          , n = r("727b34f8bf995459d503")
          , i = r("5ef9de3df8d92ea0e41c")
          , c = r.n(i);
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const _ = e=>{
            const t = t=>{
                const {wrappedComponentRef: r} = t
                  , i = (0,
                o.Z)(t, ["wrappedComponentRef"]);
                return s.createElement(n.w0.Consumer, null, t=>s.createElement(e, (0,
                a.Z)({}, i, t, {
                    ref: r
                })))
            }
            ;
            return t.WrappedComponent = e,
            c()(t, e)
        }
          , l = _
          , d = l;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(_, "withAccountClient", "/home/vsts/work/1/s/src/contexts/account/hoc.tsx"),
            e.register(l, "default", "/home/vsts/work/1/s/src/contexts/account/hoc.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    ad21e61587d47603cd1c: (e,t,r)=>{
        "use strict";
        r.d(t, {
            u: ()=>a.ZP,
            o: ()=>o.Z
        });
        var a = r("727b34f8bf995459d503")
          , o = r("5b59c92b90bc77179045");
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature
    }
    ,
    d33789936ad161eefce0: (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            VW: ()=>tempAlbumBadTrack,
            xU: ()=>MandatoryAlbums,
            OZ: ()=>AlbumRestoreContext,
            ZP: ()=>__WEBPACK_DEFAULT_EXPORT__
        });
        var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("990057777e9b2b7543e8"), _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("de098c4daf91477f9cbc"), react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("8af190b70a6bc55c6f1b"), _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("8a5d22dd0b24a6092d3e"), _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("2f0f179fdd043e994433"), _webusb__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("f60aef9fa88f4e9ce07a"), _stems__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("d92624744e8fb7e743e8"), _webusb_webusb_context__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("a7b043367627a4b04036"), _utils_misc__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("a60417c8351c73d4238a"), _utils_backOffRetry__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("557b135c7198835d5410"), _dec, _class, _temp;
        function ownKeys(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var a = Object.getOwnPropertySymbols(e);
                t && (a = a.filter(function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                })),
                r.push.apply(r, a)
            }
            return r
        }
        function _objectSpread(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = null != arguments[t] ? arguments[t] : {};
                t % 2 ? ownKeys(Object(r), !0).forEach(function(t) {
                    (0,
                    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e, t, r[t])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : ownKeys(Object(r)).forEach(function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                })
            }
            return e
        }
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const downloadProgressInterval = 2e4
          , downloadProgressPercent = 10
          , selectedUpdateRestoreCodec = "mp3"
          , tempAlbumBadTrack = "PENDING-TO-DELETE-ALBUM-OPS"
          , MandatoryAlbums = ["Donda", "Life of The Party"]
          , DEFAULT_ALBUMS_AVAILABLE = {
            "Donda 2": !1,
            "Donda (Deluxe)": !1,
            Donda: !1,
            "Life of The Party": !1,
            "Jesus Is King": !1,
            "Wash Us In The Blood": !1
        }
          , AlbumRestoreContext = react__WEBPACK_IMPORTED_MODULE_1__.createContext({})
          , emptyStems = {
            vocals: null,
            bass: null,
            drums: null,
            other: null
        };
        let AlbumRestoreProviderComp = (_dec = (0,
        _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_2__.j)({
            module: "album_restore_provider"
        }),
        _dec((_temp = class AlbumRestoreProviderComp extends react__WEBPACK_IMPORTED_MODULE_1__.PureComponent {
            constructor(e) {
                var t;
                super(e),
                t = this,
                this.restoreCancelled = void 0,
                this.apiUrl = void 0,
                this.checkForContentUpdates = (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*() {
                    const {webUSBClient: e} = t.props
                      , {latestAlbums: r} = t.state;
                    if (!r)
                        return;
                    const a = Object.values(r)
                      , o = Object.values(e.deviceAlbums);
                    return Promise.all(a.map(function() {
                        var e = (0,
                        _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*(e) {
                            const r = o.find(t=>(0,
                            _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.qP)(t.title, e.title));
                            yield t.checkForAlbumActions(r, e)
                        });
                        return function(t) {
                            return e.apply(this, arguments)
                        }
                    }()))
                }),
                this.resetState = (()=>{
                    this.setState({
                        albumsStatus: {},
                        restoringAlbum: !1,
                        trackRestore: null,
                        albumsStatusUpdated: null
                    })
                }
                ),
                this.resetErrorState = (()=>this.setState({
                    restoreError: !1
                })),
                this.fetchLatestAlbums = (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*() {
                    const {webUSBClient: {setCover: e}} = t.props;
                    try {
                        const r = yield(0,
                        _utils_backOffRetry__WEBPACK_IMPORTED_MODULE_8__.Z)((0,
                        _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*() {
                            return fetch(`${t.apiUrl}/albums`)
                        }), {
                            functionName: "fetchLatestAlbums"
                        })
                          , a = yield r.json()
                          , {data: o} = a;
                        let s = {};
                        Object.keys(o).forEach(r=>{
                            const a = t.mapAlbumTitles(r);
                            s[a] = o[r],
                            s[a].cover = e(a)
                        }
                        ),
                        t.setState({
                            latestAlbums: s
                        })
                    } catch (e) {}
                }),
                this.downloadStemsWithProgress = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*(e, r, a) {
                        const {stemsClient: {downloadStems: o}} = t.props;
                        t.setState({
                            trackRestore: {
                                id: e.id,
                                title: e.metadata.title,
                                progress: 0,
                                stage: "downloading"
                            }
                        });
                        const s = setInterval(()=>{
                            t.setState(t=>{
                                const r = t.trackRestore && t.trackRestore.progress ? t.trackRestore.progress : 0;
                                return {
                                    trackRestore: {
                                        id: e.id,
                                        title: e.metadata.title,
                                        progress: r < downloadProgressPercent / 100 ? r + .01 : .1,
                                        stage: "downloading"
                                    }
                                }
                            }
                            )
                        }
                        , downloadProgressInterval / downloadProgressPercent);
                        t.setState({
                            updateInterval: s
                        });
                        const n = yield o(r, a);
                        return clearInterval(s),
                        t.cancelInterval(),
                        t.setState({
                            trackRestore: {
                                id: e.id,
                                title: e.metadata.title,
                                progress: downloadProgressPercent / 100,
                                stage: "downloading"
                            }
                        }),
                        n
                    });
                    return function(t, r, a) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.mapAlbumTitles = (e=>{
                    switch (e) {
                    case "donda_2":
                        return "Donda 2";
                    case "donda_deluxe":
                        return "Donda (Deluxe)";
                    case "donda":
                        return "Donda";
                    case "life_of_the_party":
                        return "Life of The Party";
                    case "jesus_is_king":
                        return "Jesus Is King";
                    case "wash_us_in_the_blood":
                        return "Wash Us In The Blood";
                    default:
                        return null
                    }
                }
                ),
                this.componentWillUnmount = (()=>{
                    this.cancelInterval()
                }
                ),
                this.getLatestAlbumMetaVersion = ((e,t)=>{
                    const r = t.tracks.find(t=>t.id === e.global_id);
                    return r ? r.metadata.version : e.meta_version
                }
                ),
                this.checkForAlbumActions = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*(e, r) {
                        const a = r.tracks.map(e=>e.id)
                          , o = r.title
                          , s = MandatoryAlbums.includes(o)
                          , {webUSBClient: {setDeviceTransferActive: n, updateAlbumVersion: i}, stemsClient: {getLatestAlbumStemVersion: c}} = t.props;
                        if (!e)
                            return t.setState(e=>{
                                const {albumsStatus: t} = e;
                                return t[o] = {
                                    isMandatory: s,
                                    latestTrackIds: a,
                                    albumId: null,
                                    trackIds: [],
                                    moveOrAddTracks: !0,
                                    badMetaTracks: [],
                                    restoreAlbumAvailable: !0
                                },
                                {
                                    albumsStatus: t
                                }
                            }
                            ),
                            void t.setState(e=>{
                                const {albumsStatusUpdated: t} = e;
                                return {
                                    albumsStatusUpdated: t + 1
                                }
                            }
                            );
                        e.version || (n(!0),
                        yield i(e.id, "1"),
                        n(!1));
                        const {tracks: _} = e
                          , l = _.filter(e=>e.stems_version !== c(e, r))
                          , d = _.filter(e=>e.meta_version !== t.getLatestAlbumMetaVersion(e, r)).filter(e=>!l.includes(e))
                          , u = e.tracks.length !== r.tracks.length
                          , f = e.tracks.map(e=>e.global_id)
                          , m = f.join("") !== a.join("")
                          , h = [];
                        e.tracks.forEach(e=>{
                            const t = r.tracks.find(t=>t.id === e.global_id);
                            if (!t)
                                return;
                            const a = e.colors.join("").toLowerCase() !== t.metadata.color.join("").toLowerCase()
                              , o = e.bpm !== t.metadata.tempos[0].tempo_bpm
                              , s = e.title !== t.metadata.title
                              , n = e.TrackGain_dB !== t.metadata.gain
                              , i = e.artist !== t.metadata.artists.join(", ");
                            return a || o || s || n || i ? h.push(e) : void 0
                        }
                        );
                        const p = u || m || h.length > 0
                          , b = h.length > 0 || r.version != e.version || l.length > 0 || d.length > 0;
                        t.setState(t=>{
                            const {albumsStatus: r} = t;
                            return r[o] = {
                                isMandatory: s,
                                trackIds: f,
                                latestTrackIds: a,
                                albumId: e.id,
                                moveOrAddTracks: u || m,
                                updateAlbumAvailable: b,
                                restoreAlbumAvailable: p,
                                metaUpdate: d,
                                stemsUpdate: l,
                                badMetaTracks: h
                            },
                            {
                                albumsStatus: r
                            }
                        }
                        ),
                        t.setState(e=>{
                            const {albumsStatusUpdated: t} = e;
                            return {
                                albumsStatusUpdated: t + 1
                            }
                        }
                        )
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getAlbumSize = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*(e) {
                        const {albumsStatus: r, latestAlbums: a} = t.state
                          , o = r[e];
                        return o.restoreAlbumAvailable && o.restoreAlbumAvailable && o.latestTrackIds ? o.latestTrackIds.filter((e,t)=>!o.trackIds.includes(e)).map(t=>a[e].tracks.find(e=>e.id === t)).filter(e=>void 0 !== e).reduce((e,t)=>{
                            return e + (t.metadata.stem_size[1] + t.metadata.stem_size[2] + t.metadata.stem_size[3] + t.metadata.stem_size[4])
                        }
                        , 0) : 0
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.cancelInterval = (()=>{
                    const {updateInterval: e} = this.state;
                    e && clearInterval(e)
                }
                ),
                this.cancelWaiting = (()=>{
                    const {cancelWaiting: e} = this.state;
                    e && e()
                }
                ),
                this.clearAlbumWithTracks = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*(e, r) {
                        const {webUSBClient: {deleteTrack: a, deleteAlbum: o, fetchDeviceAlbums: s}} = t.props
                          , n = yield s()
                          , i = (e=>{
                            let t, r = "", a = "";
                            for (r in n)
                                (t = n[r].title) === e && (a = r);
                            return a
                        }
                        )(e);
                        if ("" !== i)
                            if (n[i].tracks.length > 0) {
                                for (const e of n[i].tracks)
                                    if (yield a(i, e.id),
                                    r.aborted)
                                        throw new Error("Cancelled")
                            } else
                                yield o(e)
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.startAlbumRestoreAndUpdate = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*(e, r, a=!1, o) {
                        const {tracking: {trackEvent: s}, webUSBClient: {setDeviceTransferActive: n, fetchDeviceAlbums: i, addAlbum: c, moveAlbums: _, updateAlbumVersion: l, deviceInfo: d, deviceAlbums: u, deviceStorageUsed: f}} = t.props
                          , {albumsStatus: m, latestAlbums: h} = t.state
                          , p = m[e]
                          , b = h[e];
                        if (!p.restoreAlbumAvailable && !p.updateAlbumAvailable)
                            return;
                        s({
                            event: `user_started_album_${a ? "update" : "restore"}`,
                            data: {
                                album: e,
                                serialNumber: d.serialNumber
                            }
                        }),
                        n(!0),
                        t.setState({
                            restoringAlbum: !0,
                            restoreError: !1,
                            trackRestore: null
                        });
                        const v = new AbortController;
                        r && r(()=>{
                            s({
                                event: `user_cancelled_album_${a ? "update" : "restore"}`,
                                data: {
                                    album: e,
                                    serialNumber: d.serialNumber
                                }
                            }),
                            v.abort(),
                            t.restoreCancelled = !0,
                            t.cancelInterval(),
                            t.setState({
                                restoringAlbum: !1
                            }),
                            t.cancelWaiting()
                        }
                        );
                        try {
                            if (p.restoreAlbumAvailable && !p.albumId) {
                                yield c(e, b.artist);
                                const t = yield i()
                                  , r = Object.keys(t).sort().filter(e=>!(0,
                                _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.o7)(e, "RECORD")).map(e=>t[e])
                                  , a = r.findIndex(t=>(0,
                                _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.qP)(t.title, e));
                                (0,
                                _utils_misc__WEBPACK_IMPORTED_MODULE_7__.Rp)(r, a, 0);
                                const o = (0,
                                _webusb_webusb_context__WEBPACK_IMPORTED_MODULE_6__.ll)(r);
                                yield _(o)
                            }
                            if (t.restoreCancelled)
                                throw new Error("Cancelled");
                            if (p.moveOrAddTracks) {
                                if (yield t.clearAlbumWithTracks(tempAlbumBadTrack, v.signal),
                                yield t.moveMissingTracks(e, v.signal),
                                yield t.moveBadTracks(e, v.signal),
                                yield t.clearAlbumWithTracks(tempAlbumBadTrack, v.signal),
                                yield t.addMissingTracks(e, r, v.signal, o),
                                t.restoreCancelled)
                                    throw new Error("Cancelled");
                                yield t.restoreAlbumOrder(e, v.signal)
                            }
                            p.updateAlbumAvailable && p.stemsUpdate && p.stemsUpdate.length > 0 && (yield t.updateAlbumStems(e, r, v.signal, o));
                            let {metaUpdate: a} = p;
                            const s = function() {
                                var t = (0,
                                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*(t) {
                                    let r = yield i();
                                    if (void 0 !== r)
                                        for (let a = 0; a < t.length; a++) {
                                            const o = Object.keys(r).filter(t=>r[t].title === e)[0]
                                              , s = r[o].tracks.find(e=>t[a].global_id === e.global_id);
                                            t[a].id = s.id
                                        }
                                    return t
                                });
                                return function(e) {
                                    return t.apply(this, arguments)
                                }
                            }();
                            if (p.updateAlbumAvailable && a && a.length > 0)
                                for (a = yield s(a); a.length > 0; )
                                    yield t.metadataUpdate(e, a[0]),
                                    a.shift();
                            yield t.restoreMetadata(e);
                            let d = yield i();
                            const u = Object.values(d).find(t=>(0,
                            _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.qP)(t.title, e));
                            u && (yield l(u.id, b.version))
                        } catch (e) {
                            throw e.message.match(/cancelled/i) ? yield t.clearAlbumWithTracks(tempAlbumBadTrack, v.signal) : t.setState({
                                restoreError: !0
                            }),
                            e
                        } finally {
                            t.restoreCancelled = !1,
                            t.setState({
                                restoringAlbum: !1
                            }),
                            n(!1)
                        }
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.restoreMetadata = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*(e, r) {
                        const {albumsStatus: a} = t.state
                          , o = a[e]
                          , s = r ? r[0] : !(!o.restoreAlbumAvailable || !o.badMetaTracks) && o.badMetaTracks[0];
                        s && (yield t.metadataUpdate(e, s),
                        o.badMetaTracks.shift(),
                        yield t.restoreMetadata(e, o.badMetaTracks))
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.metadataUpdate = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*(e, r) {
                        const {albumsStatus: a} = t.state
                          , o = a[e]
                          , s = t.state.latestAlbums[e].tracks.find(e=>r.global_id === e.id)
                          , n = {
                            global_id: s.id,
                            artist: s.metadata.artists.join(", "),
                            title: s.metadata.title,
                            meta_version: s.metadata.version,
                            stems_version: s.stems_version,
                            colors: s.metadata.color,
                            temposConfig: s.metadata.tempos,
                            TrackGain_dB: s.metadata.gain
                        };
                        if (yield t.props.webUSBClient.editTrackMetadataSimple(o.albumId, r.id, n),
                        t.restoreCancelled)
                            throw new Error("Cancelled")
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.moveMissingTracks = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*(e, r) {
                        const {webUSBClient: {moveTracks: a, fetchDeviceAlbums: o, deviceAlbums: s}} = t.props
                          , {albumsStatus: n} = t.state
                          , i = n[e]
                          , c = Object.values(s).filter(e=>"RECORD" !== e.id && e.id !== i.albumId).map(e=>{
                            let t = {};
                            return t.id = e.id,
                            t.globalIds = e.tracks.map(e=>e.global_id),
                            t
                        }
                        );
                        let _;
                        const l = i.restoreAlbumAvailable && i.latestTrackIds && i.latestTrackIds.find(e=>c.find(t=>{
                            const r = t.globalIds.includes(e);
                            return r && (_ = t.id),
                            r
                        }
                        ));
                        if (l && _) {
                            const s = _;
                            let n = Object.values(t.props.webUSBClient.deviceAlbums).find(t=>(0,
                            _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.qP)(t.title, e));
                            const i = n.id;
                            let c;
                            const d = t.props.webUSBClient.deviceAlbums[s].tracks.find(e=>{
                                const t = e.global_id === l;
                                return t && (c = e),
                                t
                            }
                            ).id
                              , u = `T${n.tracks.reduce((e,t)=>Math.max(parseInt(t.id.substr(1)), e), 0) + 2}`
                              , f = (0,
                            _webusb_webusb_context__WEBPACK_IMPORTED_MODULE_6__.Ye)(t.props.webUSBClient.deviceAlbums[s], t.props.webUSBClient.deviceAlbums[i], d, u);
                            if (t.setState({
                                trackRestore: {
                                    id: c.global_id,
                                    title: c.title,
                                    progress: 0,
                                    stage: "moving"
                                }
                            }),
                            yield a(f),
                            yield o(),
                            r.aborted)
                                throw new Error("Cancelled");
                            yield t.moveMissingTracks(e, r)
                        }
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.moveBadTracks = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*(e, r) {
                        const {webUSBClient: {addAlbum: a, moveTracks: o, fetchDeviceAlbums: s}} = t.props
                          , {albumsStatus: n} = t.state
                          , i = n[e];
                        let c = i.restoreAlbumAvailable && i.trackIds && i.trackIds.find((e,t)=>!i.latestTrackIds.includes(e));
                        if (void 0 === c) {
                            const e = e=>{
                                let t = e.slice().sort()
                                  , r = [];
                                for (let e = 0; e < t.length - 1; e++)
                                    t[e + 1] == t[e] && r.push(t[e]);
                                return r
                            }
                            ;
                            if (i.trackIds) {
                                const t = e(i.trackIds);
                                c = t.length > 0 ? t[0] : void 0
                            }
                        }
                        if (c) {
                            const n = tempAlbumBadTrack
                              , i = Object.values(t.props.webUSBClient.deviceAlbums).find(t=>(0,
                            _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.qP)(t.title, e)).id;
                            let _ = Object.values(t.props.webUSBClient.deviceAlbums).find(e=>(0,
                            _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.qP)(e.title, n));
                            _ || (yield a(n),
                            yield s(),
                            _ = Object.values(t.props.webUSBClient.deviceAlbums).find(e=>(0,
                            _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.qP)(e.title, n)));
                            const l = _.id
                              , d = (e,t)=>{
                                const r = `${e.global_id}_${e.stems_version}_${e.meta_version}`
                                  , a = `${t.global_id}_${t.stems_version}_${t.meta_version}`;
                                return r.localeCompare(a)
                            }
                              , u = t.props.webUSBClient.deviceAlbums[i].tracks.sort(d).find(e=>e.global_id === c).id
                              , f = `T${_.tracks.reduce((e,t)=>Math.max(parseInt(t.id.substr(1)), e), 0) + 2}`
                              , m = (0,
                            _webusb_webusb_context__WEBPACK_IMPORTED_MODULE_6__.Ye)(t.props.webUSBClient.deviceAlbums[i], t.props.webUSBClient.deviceAlbums[l], u, f);
                            if (yield o(m),
                            yield s(),
                            r.aborted)
                                throw new Error("Cancelled");
                            yield t.moveBadTracks(e, r)
                        } else
                            t.setState({
                                trackRestore: null
                            })
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.addMissingTracks = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*(e, r, a, o) {
                        const {webUSBClient: {addTrackSimple: s, fetchDeviceAlbums: n, setDeviceTransferActive: i, deviceInfo: c, deleteTrack: _, deviceAlbums: l}, stemsClient: {getLatestStems: d, hasSpaceForStems: u, getSizeOfStems: f}} = t.props
                          , {latestAlbums: m, albumsStatus: h} = t.state
                          , p = h[e];
                        let b = !1;
                        r && r(()=>{
                            b = !0
                        }
                        );
                        const v = p.restoreAlbumAvailable && p.latestTrackIds && p.latestTrackIds.reverse().find(e=>!p.trackIds.includes(e));
                        if (i(!0),
                        v) {
                            const i = m[e].tracks.find(e=>(0,
                            _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.O8)(e.id, v));
                            let c = "wav";
                            i.formats && i.formats.includes("mp3") && "mp3" === selectedUpdateRestoreCodec && (c = "mp3");
                            const h = yield d(v, i.version, c, i.subscription_required, a, !0);
                            if (a.aborted || b)
                                throw new Error("Cancelled");
                            const E = yield t.downloadStemsWithProgress(i, h.stems, a);
                            if (a.aborted || b)
                                throw new Error("Cancelled");
                            if (!(yield u(E, i.metadata.title))) {
                                const e = f(E);
                                yield t.waitUntilUserHasSpace(o, e)
                            }
                            const g = {
                                id: `T${p.latestTrackIds.reverse().indexOf(v) + 1}`,
                                global_id: i.id,
                                meta_version: i.metadata.version,
                                stems_version: i.stems_version,
                                album: e,
                                getMetadata: ()=>({
                                    artist: m[e].artist,
                                    trackConfig: {
                                        title: i.metadata.title,
                                        temposConfig: i.metadata.tempos,
                                        colors: i.metadata.color,
                                        TrackGain_dB: i.metadata.gain
                                    }
                                }),
                                vocals: {
                                    file: E.vocals,
                                    format: c
                                },
                                bass: {
                                    file: E.bass,
                                    format: c
                                },
                                drums: {
                                    file: E.drums,
                                    format: c
                                },
                                other: {
                                    file: E.other,
                                    format: c
                                }
                            }
                              , y = m[e].tracks.findIndex(e=>e.id === i.id)
                              , A = Object.keys(l).find(t=>l[t].title === e);
                            if (a.aborted || b)
                                throw new Error("Cancelled");
                            if (-1 !== y) {
                                const e = `T${y + 1}`;
                                try {
                                    yield _(A, e, a)
                                } catch (e) {
                                    if (e && "Cancelled" === e.message)
                                        throw e
                                }
                            }
                            if (a.aborted || b)
                                throw new Error("Cancelled");
                            if (yield s(g, e=>{
                                const r = e ? downloadProgressPercent / 100 + (100 - downloadProgressPercent) / 100 * e.total : 1;
                                t.setState({
                                    trackRestore: {
                                        id: i.id,
                                        title: i.metadata.title,
                                        progress: r,
                                        stage: "copying"
                                    }
                                })
                            }
                            , r),
                            yield n(),
                            a.aborted || b)
                                throw new Error("Cancelled");
                            yield t.addMissingTracks(e, r, a, o)
                        } else
                            t.setState({
                                trackRestore: null
                            })
                    });
                    return function(t, r, a, o) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.restoreAlbumOrder = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*(e, r) {
                        const {webUSBClient: {moveTracksSimple: a, fetchDeviceAlbums: o}} = t.props;
                        let s, n;
                        const {albumsStatus: i} = t.state
                          , c = i[e]
                          , _ = yield o()
                          , l = Object.keys(_).find(t=>_[t].title === e)
                          , d = _[l].tracks.map(e=>e.global_id);
                        if ((c.restoreAlbumAvailable && c.latestTrackIds ? c.latestTrackIds.find((e,t)=>{
                            const r = e !== d[t];
                            return r && (s = d.findIndex(t=>(0,
                            _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.O8)(t, e)),
                            n = t),
                            r
                        }
                        ) : null) && -1 !== s) {
                            t.setState({
                                restorationStatus: "reordering"
                            });
                            const o = Object.values(t.props.webUSBClient.deviceAlbums).find(t=>(0,
                            _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.qP)(t.title, e)).id
                              , i = t.props.webUSBClient.deviceAlbums[o]
                              , c = i
                              , _ = i
                              , l = i.tracks[s].id
                              , d = i.tracks.find(e=>(0,
                            _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.O8)(e.id, l))
                              , u = `T${_.tracks.reduce((e,t)=>Math.max(parseInt(t.id.substr(1)), e), 0) + 2}`
                              , f = Object.assign({}, _objectSpread(_objectSpread({}, d), {
                                id: u
                            }))
                              , m = Array.from(t.props.webUSBClient.deviceAlbums[o].tracks);
                            m.splice(s, 1),
                            m.splice(n, 0, f);
                            const h = _objectSpread(_objectSpread({}, c), {}, {
                                tracks: m
                            })
                              , p = (0,
                            _webusb_webusb_context__WEBPACK_IMPORTED_MODULE_6__.Ye)(h, h, l, u);
                            if (yield a(p),
                            r.aborted)
                                throw new Error("Cancelled");
                            yield t.restoreAlbumOrder(e, r)
                        }
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.waitUntilUserHasSpace = ((e,t)=>{
                    const {webUSBClient: {setDeviceTransferActive: r}} = this.props;
                    return r(!1),
                    new Promise((a,o)=>{
                        this.setState({
                            cancelWaiting: o
                        }),
                        e(t, ()=>{
                            r(!0),
                            a()
                        }
                        )
                    }
                    )
                }
                ),
                this.hasSpaceForFiles = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*(e, r) {
                        const {webUSBClient: {getRemainingSize: a}, tracking: {trackEvent: o}} = t.props
                          , s = (yield a()) > e;
                        return s || o({
                            event: "device_full_during_update_restore",
                            data: {
                                trackTitle: r
                            }
                        }),
                        s
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.updateAlbumStems = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*(e, r, a, o) {
                        const {webUSBClient: {addTrackSimple: s, fetchDeviceAlbums: n, setDeviceTransferActive: i, deleteTrack: c, deviceInfo: _}, stemsClient: {getLatestStems: l, hasSpaceForStems: d, getSizeOfStems: u}} = t.props
                          , {latestAlbums: f, albumsStatus: m} = t.state
                          , h = m[e]
                          , p = !!(h.stemsUpdate && h.stemsUpdate.length > 0) && h.stemsUpdate[0];
                        if (i(!0),
                        p) {
                            const _ = Object.values(t.props.webUSBClient.deviceAlbums).find(t=>(0,
                            _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.qP)(t.title, e))
                              , m = _.tracks.find(e=>e.global_id === p.global_id).id;
                            yield c(_.id, m),
                            i(!0);
                            const h = f[e].tracks.find(e=>(0,
                            _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.O8)(e.id, p.global_id));
                            let b = "wav";
                            h.formats && h.formats.includes("mp3") && "mp3" === selectedUpdateRestoreCodec && (b = "mp3");
                            const v = yield l(p.global_id, h.version, b, h.subscription_required, a, !0);
                            if (a.aborted)
                                throw new Error("Cancelled");
                            const E = yield t.downloadStemsWithProgress(h, v, a);
                            if (a.aborted)
                                throw new Error("Cancelled");
                            if (!(yield d(E, h.metadata.title))) {
                                const e = u(E);
                                yield t.waitUntilUserHasSpace(o, e)
                            }
                            const g = {
                                id: m,
                                global_id: h.id,
                                meta_version: h.metadata.version,
                                stems_version: h.stems_version,
                                album: e,
                                getMetadata: ()=>({
                                    artist: f[e].artist,
                                    trackConfig: {
                                        title: h.metadata.title,
                                        temposConfig: h.metadata.tempos,
                                        colors: h.metadata.color,
                                        TrackGain_dB: h.metadata.gain
                                    }
                                }),
                                vocals: {
                                    file: E.vocals,
                                    format: b
                                },
                                bass: {
                                    file: E.bass,
                                    format: b
                                },
                                drums: {
                                    file: E.drums,
                                    format: b
                                },
                                other: {
                                    file: E.other,
                                    format: b
                                }
                            };
                            if (a.aborted)
                                throw new Error("Cancelled");
                            if (yield s(g, e=>{
                                const r = e ? downloadProgressPercent / 100 + (100 - downloadProgressPercent) / 100 * e.total : 1;
                                t.setState({
                                    trackRestore: {
                                        id: h.id,
                                        title: h.metadata.title,
                                        progress: r,
                                        stage: "refreshing"
                                    }
                                })
                            }
                            , r),
                            yield n(),
                            a.aborted)
                                throw new Error("Cancelled");
                            yield t.updateAlbumStems(e, r, a, o)
                        } else
                            t.setState({
                                trackRestore: null
                            })
                    });
                    return function(t, r, a, o) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.apiUrl = `${e.config.KB_STEMIFY_API_URL}/content`,
                this.state = {
                    albumsStatus: {},
                    restoringAlbum: !1,
                    restoreError: !1,
                    latestAlbums: {},
                    trackRestore: null,
                    updateInterval: null,
                    cancelWaiting: null,
                    albumsStatusUpdated: null
                }
            }
            componentDidUpdate(e, t) {
                var r = this;
                return (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*() {
                    const {webUSBClient: t} = r.props;
                    e.webUSBClient.deviceConnected === t.deviceConnected || t.deviceConnected || r.resetState(),
                    (e.webUSBClient.deviceAlbumsUpdated && e.webUSBClient.deviceAlbumsUpdated !== t.deviceAlbumsUpdated || !e.webUSBClient.deviceAlbumsUpdated && t.deviceAlbumsUpdated && r.state.latestAlbums) && (yield r.checkForContentUpdates()),
                    !e.webUSBClient.deviceConnected && t.deviceConnected && (yield r.fetchLatestAlbums())
                })()
            }
            render() {
                const e = {
                    albumRestoreClient: _objectSpread(_objectSpread({}, {
                        resetState: this.resetState,
                        fetchLatestAlbums: this.fetchLatestAlbums,
                        checkForContentUpdates: this.checkForContentUpdates,
                        mapAlbumTitles: this.mapAlbumTitles,
                        startAlbumRestoreAndUpdate: this.startAlbumRestoreAndUpdate,
                        getAlbumSize: this.getAlbumSize,
                        restoreMetadata: this.restoreMetadata,
                        moveBadTracks: this.moveBadTracks,
                        addMissingTracks: this.addMissingTracks,
                        restoreAlbumOrder: this.restoreAlbumOrder,
                        resetErrorState: this.resetErrorState
                    }), this.state)
                };
                return react__WEBPACK_IMPORTED_MODULE_1__.createElement(AlbumRestoreContext.Provider, {
                    value: e
                }, this.props.children)
            }
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        ,
        _class = _temp)) || _class);
        const __TEST_AlbumRestoreProvider = AlbumRestoreProviderComp
          , AlbumRestoreProvider = (0,
        _webusb__WEBPACK_IMPORTED_MODULE_4__.MM)((0,
        _stems__WEBPACK_IMPORTED_MODULE_5__.E9)(AlbumRestoreProviderComp))
          , _default = AlbumRestoreProvider
          , __WEBPACK_DEFAULT_EXPORT__ = _default;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(downloadProgressInterval, "downloadProgressInterval", "/home/vsts/work/1/s/src/contexts/album-restore/album-restore-context.tsx"),
            e.register(downloadProgressPercent, "downloadProgressPercent", "/home/vsts/work/1/s/src/contexts/album-restore/album-restore-context.tsx"),
            e.register(selectedUpdateRestoreCodec, "selectedUpdateRestoreCodec", "/home/vsts/work/1/s/src/contexts/album-restore/album-restore-context.tsx"),
            e.register(tempAlbumBadTrack, "tempAlbumBadTrack", "/home/vsts/work/1/s/src/contexts/album-restore/album-restore-context.tsx"),
            e.register(MandatoryAlbums, "MandatoryAlbums", "/home/vsts/work/1/s/src/contexts/album-restore/album-restore-context.tsx"),
            e.register(DEFAULT_ALBUMS_AVAILABLE, "DEFAULT_ALBUMS_AVAILABLE", "/home/vsts/work/1/s/src/contexts/album-restore/album-restore-context.tsx"),
            e.register(AlbumRestoreContext, "AlbumRestoreContext", "/home/vsts/work/1/s/src/contexts/album-restore/album-restore-context.tsx"),
            e.register(emptyStems, "emptyStems", "/home/vsts/work/1/s/src/contexts/album-restore/album-restore-context.tsx"),
            e.register(AlbumRestoreProviderComp, "AlbumRestoreProviderComp", "/home/vsts/work/1/s/src/contexts/album-restore/album-restore-context.tsx"),
            e.register(__TEST_AlbumRestoreProvider, "__TEST_AlbumRestoreProvider", "/home/vsts/work/1/s/src/contexts/album-restore/album-restore-context.tsx"),
            e.register(AlbumRestoreProvider, "AlbumRestoreProvider", "/home/vsts/work/1/s/src/contexts/album-restore/album-restore-context.tsx"),
            e.register(_default, "default", "/home/vsts/work/1/s/src/contexts/album-restore/album-restore-context.tsx"))
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    "9051b4e216287ce0ce77": (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>d
        });
        var a = r("cc5a1791ca69c601dde3")
          , o = r("b02a35033e7f8e6fa1e0")
          , s = r("8af190b70a6bc55c6f1b")
          , n = r("5ef9de3df8d92ea0e41c")
          , i = r.n(n)
          , c = r("d33789936ad161eefce0");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const _ = e=>{
            const t = t=>{
                const {wrappedComponentRef: r} = t
                  , n = (0,
                o.Z)(t, ["wrappedComponentRef"]);
                return s.createElement(c.OZ.Consumer, null, t=>s.createElement(e, (0,
                a.Z)({}, n, t, {
                    ref: r
                })))
            }
            ;
            return t.WrappedComponent = e,
            i()(t, e)
        }
          , l = _
          , d = l;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(_, "withAlbumRestoreClient", "/home/vsts/work/1/s/src/contexts/album-restore/hoc.tsx"),
            e.register(l, "default", "/home/vsts/work/1/s/src/contexts/album-restore/hoc.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "16c6bde65fb4831cea2e": (e,t,r)=>{
        "use strict";
        r.d(t, {
            _: ()=>a.ZP,
            C: ()=>o.Z
        });
        var a = r("d33789936ad161eefce0")
          , o = r("9051b4e216287ce0ce77");
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature
    }
    ,
    "6515cd559c65eab0c80c": (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            iJ: ()=>AudioEngineContext,
            QK: ()=>AudioEnginePlaybackState,
            wA: ()=>AudioEngineStemType,
            $_: ()=>QueueType,
            ZP: ()=>__WEBPACK_DEFAULT_EXPORT__
        });
        var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("990057777e9b2b7543e8")
          , _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("de098c4daf91477f9cbc")
          , react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("8af190b70a6bc55c6f1b")
          , _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("8a5d22dd0b24a6092d3e")
          , _repository__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("9f8992917dda43cfdc1d")
          , _utils_waveforms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("238af0e74d3daf256b28")
          , react_page_visibility__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("065f3a895d559954cd46")
          , react_page_visibility__WEBPACK_IMPORTED_MODULE_7___default = __webpack_require__.n(react_page_visibility__WEBPACK_IMPORTED_MODULE_7__)
          , _assets_images_album_art_donda2_png__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("94e777f63eff622615ee");
        function ownKeys(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var a = Object.getOwnPropertySymbols(e);
                t && (a = a.filter(function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                })),
                r.push.apply(r, a)
            }
            return r
        }
        function _objectSpread(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = null != arguments[t] ? arguments[t] : {};
                t % 2 ? ownKeys(Object(r), !0).forEach(function(t) {
                    (0,
                    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e, t, r[t])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : ownKeys(Object(r)).forEach(function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                })
            }
            return e
        }
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const MODULE = "audio_engine"
          , AudioEngineContext = react__WEBPACK_IMPORTED_MODULE_1__.createContext({});
        let AudioEnginePlaybackState, AudioEngineStemType, QueueType;
        !function(e) {
            e.Playing = "playing",
            e.Paused = "paused",
            e.Stopped = "stopped",
            e.Ended = "ended"
        }(AudioEnginePlaybackState || (AudioEnginePlaybackState = {})),
        function(e) {
            e.Vocals = "vocals",
            e.Other = "other",
            e.Bass = "bass",
            e.Drums = "drums"
        }(AudioEngineStemType || (AudioEngineStemType = {})),
        function(e) {
            e.Official = "official",
            e.User = "user"
        }(QueueType || (QueueType = {}));
        const AudioEngineEmptyState = {
            currentTrack: null,
            trackIsLoaded: !1,
            isLoading: !1,
            playbackState: AudioEnginePlaybackState.Stopped,
            currentPosition: 0,
            isAllMuted: !1,
            vocalsMuted: !1,
            otherMuted: !1,
            drumsMuted: !1,
            bassMuted: !1,
            vocalsIsolated: !1,
            otherIsolated: !1,
            drumsIsolated: !1,
            bassIsolated: !1,
            isIsolating: !1
        };
        class AudioEngineProvider extends react__WEBPACK_IMPORTED_MODULE_1__.PureComponent {
            constructor(e) {
                var t;
                super(e),
                t = this,
                this.repository = void 0,
                this.audioContext = void 0,
                this.hasPlayed = !1,
                this.setupAutoplay = (()=>{
                    if (!0 === this.hasPlayed)
                        return;
                    this.repository.setupSilentTrackForAutoPlay();
                    const e = ()=>{
                        this.repository.play(),
                        this.hasPlayed = !0,
                        document.body.removeEventListener("click", e)
                    }
                    ;
                    document.body.addEventListener("click", e)
                }
                ),
                this.getHasPlayed = (()=>this.hasPlayed),
                this.load = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_6__.Z)(function*(e) {
                        t.stop(),
                        t.setState({
                            isLoading: !0,
                            trackIsLoaded: !1,
                            currentTrack: e
                        }),
                        t.repository.load(e, ()=>{
                            t.state.isLoading && (t.setState({
                                trackIsLoaded: !0,
                                isLoading: !1
                            }),
                            t.hasPlayed && t.play())
                        }
                        , e=>t.onPlaybackEnded(e), e=>{}
                        )
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.unload = (()=>{
                    this.stop(),
                    this.repository.unload(),
                    this.setState(AudioEngineEmptyState)
                }
                ),
                this.play = (()=>{
                    this.setState({
                        playbackState: AudioEnginePlaybackState.Playing
                    }),
                    this.repository.play(),
                    this.hasPlayed = !0,
                    this.setupMediaControls(this.state.currentTrack)
                }
                ),
                this.pause = (()=>{
                    this.setState({
                        playbackState: AudioEnginePlaybackState.Paused
                    }),
                    this.repository.pause()
                }
                ),
                this.playPause = (()=>{
                    const {playbackState: e} = this.state;
                    switch (e) {
                    case AudioEnginePlaybackState.Playing:
                        this.pause();
                        break;
                    default:
                        this.play()
                    }
                }
                ),
                this.stop = (()=>{
                    this.state.playbackState !== AudioEnginePlaybackState.Stopped && (this.state.playbackState !== AudioEnginePlaybackState.Ended && this.setState({
                        playbackState: AudioEnginePlaybackState.Stopped
                    }),
                    this.setState({
                        currentPosition: 0
                    }),
                    this.clearMediacontrols(),
                    this.repository.stop(),
                    this.state.isIsolating && this.setIsolatedStems([]))
                }
                ),
                this.seekTo = (e=>{
                    this.setState({
                        currentPosition: e
                    }),
                    this.repository.seekTo(e)
                }
                ),
                this.seekToPercent = (e=>{
                    e *= this.getDuration(),
                    this.seekTo(e)
                }
                ),
                this.onPlaybackEnded = (e=>{
                    this.repository.getDurationForStem(e) === this.getDuration() && this.state.playbackState !== AudioEnginePlaybackState.Ended && this.setState({
                        playbackState: AudioEnginePlaybackState.Ended
                    })
                }
                ),
                this.toggleMute = (e=>{
                    const t = this.getMutedStateForStem(e);
                    switch (t ? this.repository.unmute(e) : this.repository.mute(e),
                    e) {
                    case AudioEngineStemType.Vocals:
                        this.setState({
                            vocalsMuted: !t
                        });
                        break;
                    case AudioEngineStemType.Other:
                        this.setState({
                            otherMuted: !t
                        });
                        break;
                    case AudioEngineStemType.Drums:
                        this.setState({
                            drumsMuted: !t
                        });
                        break;
                    case AudioEngineStemType.Bass:
                        this.setState({
                            bassMuted: !t
                        })
                    }
                }
                ),
                this.getMutedStateForStem = (e=>{
                    switch (e) {
                    case AudioEngineStemType.Vocals:
                        return this.state.vocalsMuted;
                    case AudioEngineStemType.Other:
                        return this.state.otherMuted;
                    case AudioEngineStemType.Drums:
                        return this.state.drumsMuted;
                    case AudioEngineStemType.Bass:
                        return this.state.bassMuted
                    }
                }
                ),
                this.shouldMute = (e=>{
                    const {isAllMuted: t, isIsolating: r} = this.state;
                    return t || r && !this.getIsolationForStem(e) || !r && this.getMutedStateForStem(e)
                }
                ),
                this.isolate = (e=>{
                    switch (this.state.isIsolating || this.startIsolating([e]),
                    e) {
                    case AudioEngineStemType.Vocals:
                        this.setState({
                            isIsolating: !0,
                            vocalsIsolated: !0
                        });
                        break;
                    case AudioEngineStemType.Other:
                        this.setState({
                            isIsolating: !0,
                            otherIsolated: !0
                        });
                        break;
                    case AudioEngineStemType.Drums:
                        this.setState({
                            isIsolating: !0,
                            drumsIsolated: !0
                        });
                        break;
                    case AudioEngineStemType.Bass:
                        this.setState({
                            isIsolating: !0,
                            bassIsolated: !0
                        })
                    }
                    this.repository.isolate(e)
                }
                ),
                this.setIsolatedStems = (e=>{
                    if (e.length > 0)
                        this.startIsolating(e),
                        e.forEach(e=>this.repository.isolate(e));
                    else {
                        this.getIsolatedStems().forEach(e=>this.stopIsolating(e))
                    }
                    this.setState({
                        isIsolating: e.length > 0,
                        vocalsIsolated: e.includes(AudioEngineStemType.Vocals),
                        otherIsolated: e.includes(AudioEngineStemType.Other),
                        drumsIsolated: e.includes(AudioEngineStemType.Drums),
                        bassIsolated: e.includes(AudioEngineStemType.Bass)
                    })
                }
                ),
                this.getIsolatedStems = (()=>{
                    const {bassIsolated: e, vocalsIsolated: t, drumsIsolated: r, otherIsolated: a} = this.state
                      , o = [];
                    return e && o.push(AudioEngineStemType.Bass),
                    t && o.push(AudioEngineStemType.Vocals),
                    r && o.push(AudioEngineStemType.Drums),
                    a && o.push(AudioEngineStemType.Other),
                    o
                }
                ),
                this.stopIsolating = (e=>{
                    switch (e) {
                    case AudioEngineStemType.Vocals:
                        this.setState({
                            vocalsIsolated: !1
                        });
                        break;
                    case AudioEngineStemType.Other:
                        this.setState({
                            otherIsolated: !1
                        });
                        break;
                    case AudioEngineStemType.Drums:
                        this.setState({
                            drumsIsolated: !1
                        });
                        break;
                    case AudioEngineStemType.Bass:
                        this.setState({
                            bassIsolated: !1
                        })
                    }
                    this.otherStemsAreIsolated(e) ? this.repository.mute(e) : (Object.values(AudioEngineStemType).forEach(t=>{
                        if (t !== e) {
                            this.getMutedStateForStem(t) ? this.repository.mute(t) : this.repository.unmute(t)
                        }
                    }
                    ),
                    this.setState({
                        isIsolating: !1
                    }))
                }
                ),
                this.getIsolationForStem = (e=>{
                    switch (e) {
                    case AudioEngineStemType.Vocals:
                        return this.state.vocalsIsolated;
                    case AudioEngineStemType.Other:
                        return this.state.otherIsolated;
                    case AudioEngineStemType.Drums:
                        return this.state.drumsIsolated;
                    case AudioEngineStemType.Bass:
                        return this.state.bassIsolated
                    }
                }
                ),
                this.previousTrack = (e=>{
                    this.load(e)
                }
                ),
                this.nextTrack = (e=>{
                    this.load(e)
                }
                ),
                this.addToQueue = (()=>{}
                ),
                this.createQueue = ((e,t)=>{
                    t === QueueType.Official ? this.setState({
                        officialQueue: e
                    }) : this.setState({
                        userQueue: e
                    })
                }
                ),
                this.setActiveQueue = (e=>{
                    this.setState({
                        activeQueue: e
                    })
                }
                ),
                this.getActiveQueue = (()=>{
                    const {activeQueue: e} = this.state;
                    return e ? e === QueueType.Official ? this.state.officialQueue : this.state.userQueue : []
                }
                ),
                this.removeFromQueue = (()=>{}
                ),
                this.setShouldHideMiniPlayer = (e=>{
                    this.setState({
                        shouldHideMiniPlayer: e
                    })
                }
                ),
                this.setIsNavigating = (e=>{
                    this.setState({
                        isNavigating: e
                    })
                }
                ),
                this.getWaveformPeaksForStem = ((e,t)=>{
                    const r = this.state.currentTrack;
                    if (null === r)
                        return [];
                    const a = r.stems[e].waveform;
                    return 0 === a.length ? [] : (0,
                    _utils_waveforms__WEBPACK_IMPORTED_MODULE_4__.f1)(a)
                }
                ),
                this.getAmplitudeForStem = (e=>[]),
                this.getEnergyAtCurrentTime = (()=>({
                    vocals: Math.random(),
                    other: Math.random(),
                    bass: Math.random(),
                    drums: Math.random()
                })),
                this.getCurrentTime = (()=>this.repository.getCurrentTime()),
                this.getCurrentTimeForStem = (e=>this.repository.getCurrentTimeForStem(e)),
                this.getDuration = (()=>{
                    const e = this.repository.getDuration();
                    return isNaN(e) ? 0 : e
                }
                ),
                this.getDurationForStem = (e=>{
                    const t = this.repository.getDurationForStem(e);
                    return isNaN(t) ? 0 : t
                }
                ),
                this.getCurrentPositionPercent = (()=>this.repository.getCurrentPositionPercent()),
                this.setupMediaControls = (e=>{
                    "mediaSession"in navigator && (navigator.mediaSession.metadata = new MediaMetadata({
                        title: e.title,
                        artist: e.artist,
                        album: e.album,
                        artwork: [{
                            src: _assets_images_album_art_donda2_png__WEBPACK_IMPORTED_MODULE_5__,
                            sizes: "96x96",
                            type: "image/png"
                        }, {
                            src: _assets_images_album_art_donda2_png__WEBPACK_IMPORTED_MODULE_5__,
                            sizes: "128x128",
                            type: "image/png"
                        }, {
                            src: _assets_images_album_art_donda2_png__WEBPACK_IMPORTED_MODULE_5__,
                            sizes: "192x192",
                            type: "image/png"
                        }, {
                            src: _assets_images_album_art_donda2_png__WEBPACK_IMPORTED_MODULE_5__,
                            sizes: "256x256",
                            type: "image/png"
                        }, {
                            src: _assets_images_album_art_donda2_png__WEBPACK_IMPORTED_MODULE_5__,
                            sizes: "384x384",
                            type: "image/png"
                        }, {
                            src: _assets_images_album_art_donda2_png__WEBPACK_IMPORTED_MODULE_5__,
                            sizes: "512x512",
                            type: "image/png"
                        }]
                    }),
                    navigator.mediaSession.setActionHandler("play", this.play),
                    navigator.mediaSession.setActionHandler("pause", this.pause),
                    navigator.mediaSession.setActionHandler("seekto", e=>{
                        this.seekTo(e.seekTime)
                    }
                    ))
                }
                ),
                this.isBackgrounded = !1,
                this.generateTrack = ((e,t,r)=>{
                    try {
                        let d = {};
                        var a, o, s, n, i, c, _, l;
                        if (d.id = e.global_id ? e.global_id : e.id,
                        e.metadata ? (d.title = e.metadata.title,
                        d.artist = e.metadata.artists ? e.metadata.artists.join(",") : e.metadata.artist) : (d.title = e.title,
                        d.artist = e.artists ? e.artists.join(",") : e.artist),
                        d.duration = -1,
                        d.albumCover = "",
                        t)
                            r && (d.waveformData = r),
                            d.stems = {
                                vocals: {
                                    file: t.stems.vocals.file,
                                    url: t.stems.vocals,
                                    waveform: [0, 0],
                                    version: 1
                                },
                                other: {
                                    file: t.stems.other.file,
                                    url: t.stems.other,
                                    waveform: [0, 0],
                                    version: 1
                                },
                                bass: {
                                    file: t.stems.bass.file,
                                    url: t.stems.bass,
                                    waveform: [0, 0],
                                    version: 1
                                },
                                drums: {
                                    file: t.stems.drums.file,
                                    url: t.stems.drums,
                                    waveform: [0, 0],
                                    version: 1
                                }
                            };
                        else if (e.waveformData && (0,
                        _utils_waveforms__WEBPACK_IMPORTED_MODULE_4__.Jb)(e.waveformData))
                            d.waveformData = e.waveformData,
                            d.stems = {
                                vocals: {
                                    file: e.stems.vocals.file,
                                    url: e.stems.vocals.url ? e.stems.vocals.url : e.stems.vocals,
                                    waveform: [0, 0],
                                    energy: [],
                                    version: 1
                                },
                                other: {
                                    file: e.stems.other.file,
                                    url: e.stems.other.url ? e.stems.other.url : e.stems.other,
                                    waveform: [0, 0],
                                    energy: [],
                                    version: 1
                                },
                                bass: {
                                    file: e.stems.bass.file,
                                    url: e.stems.bass.url ? e.stems.bass.url : e.stems.bass,
                                    waveform: [0, 0],
                                    energy: [],
                                    version: 1
                                },
                                drums: {
                                    file: e.stems.drums.file,
                                    url: e.stems.drums.url ? e.stems.drums.url : e.stems.drums,
                                    waveform: [0, 0],
                                    energy: [],
                                    version: 1
                                }
                            };
                        else
                            d.stems = {
                                vocals: {
                                    file: e.stems.vocals.file,
                                    url: e.stems.vocals.url ? e.stems.vocals.url : e.stems.vocals,
                                    waveform: null !== (a = e.metadata) && void 0 !== a && null !== (o = a.waveforms) && void 0 !== o && o.vocals ? e.metadata.waveforms.vocals : [0, 0],
                                    energy: [],
                                    version: 1
                                },
                                other: {
                                    file: e.stems.other.file,
                                    url: e.stems.other.url ? e.stems.other.url : e.stems.other,
                                    waveform: null !== (s = e.metadata) && void 0 !== s && null !== (n = s.waveforms) && void 0 !== n && n.other ? e.metadata.waveforms.other : [0, 0],
                                    energy: [],
                                    version: 1
                                },
                                bass: {
                                    file: e.stems.bass.file,
                                    url: e.stems.bass.url ? e.stems.bass.url : e.stems.bass,
                                    waveform: null !== (i = e.metadata) && void 0 !== i && null !== (c = i.waveforms) && void 0 !== c && c.bass ? e.metadata.waveforms.bass : [0, 0],
                                    energy: [],
                                    version: 1
                                },
                                drums: {
                                    file: e.stems.drums.file,
                                    url: e.stems.drums.url ? e.stems.drums.url : e.stems.drums,
                                    waveform: null !== (_ = e.metadata) && void 0 !== _ && null !== (l = _.waveforms) && void 0 !== l && l.drums ? e.metadata.waveforms.drums : [0, 0],
                                    energy: [],
                                    version: 1
                                }
                            };
                        return d
                    } catch (e) {
                        return console.log(e),
                        null
                    }
                }
                ),
                this.state = _objectSpread(_objectSpread({}, AudioEngineEmptyState), {}, {
                    officialQueue: [],
                    userQueue: []
                })
            }
            componentDidMount() {
                this.setup()
            }
            componentDidUpdate(e, t) {
                const {playbackState: r} = this.state;
                t.playbackState !== AudioEnginePlaybackState.Ended && r === AudioEnginePlaybackState.Ended && this.stop()
            }
            setup() {
                this.setupRepository(),
                window.location.pathname.includes("/track/") || this.setupAutoplay(),
                this.setupAudioContext()
            }
            setupRepository() {
                this.repository = new _repository__WEBPACK_IMPORTED_MODULE_3__.is
            }
            setupAudioContext() {
                if (this.audioContext = new (window.AudioContext || window.webkitAudioContext),
                "suspended" === this.audioContext.state) {
                    const e = ()=>{
                        this.audioContext.resume(),
                        document.body.removeEventListener("click", e),
                        document.body.removeEventListener("touchstart", e),
                        document.body.removeEventListener("touchend", e)
                    }
                    ;
                    document.body.addEventListener("click", e),
                    document.body.addEventListener("touchstart", e),
                    document.body.addEventListener("touchend", e)
                }
            }
            resumeAudioContextIfNeeded() {
                "suspended" === this.audioContext.state && this.audioContext.resume()
            }
            muteAll() {
                Object.values(AudioEngineStemType).forEach(e=>{
                    this.getMutedStateForStem(e) || this.toggleMute(e)
                }
                )
            }
            unmuteAll() {
                Object.values(AudioEngineStemType).forEach(e=>{
                    this.getMutedStateForStem(e) && this.toggleMute(e)
                }
                )
            }
            isAllMuted() {
                const {vocalsMuted: e, otherMuted: t, drumsMuted: r, bassMuted: a} = this.state;
                return e && t && r && a
            }
            startIsolating(e) {
                Object.values(AudioEngineStemType).filter(t=>!e.includes(t)).forEach(e=>{
                    this.repository.mute(e)
                }
                )
            }
            otherStemsAreIsolated(e) {
                const t = Object.values(AudioEngineStemType).filter(t=>t != e);
                for (let e of t) {
                    if (this.getIsolationForStem(e))
                        return !0
                }
                return !1
            }
            clearMediacontrols() {
                "mediaSession"in navigator && (navigator.mediaSession.metadata = null)
            }
            onVisibilityChange(e) {
                this.isBackgrounded = !e,
                this.repository.isBackgrounded = this.isBackgrounded,
                e && this.resumeAudioContextIfNeeded(),
                this.repository.onBackgrounded(this.isBackgrounded)
            }
            render() {
                const e = {
                    audioEngine: _objectSpread(_objectSpread({}, {
                        load: this.load,
                        unload: this.unload,
                        play: this.play,
                        pause: this.pause,
                        playPause: this.playPause,
                        stop: this.stop,
                        muteAll: this.muteAll,
                        unmuteAll: this.unmuteAll,
                        toggleMute: this.toggleMute,
                        getMutedStateForStem: this.getMutedStateForStem,
                        shouldMute: this.shouldMute,
                        isolate: this.isolate,
                        setIsolatedStems: this.setIsolatedStems,
                        getIsolatedStems: this.getIsolatedStems,
                        stopIsolating: this.stopIsolating,
                        getIsolationForStem: this.getIsolationForStem,
                        setShouldHideMiniPlayer: this.setShouldHideMiniPlayer,
                        setIsNavigating: this.setIsNavigating,
                        seekTo: this.seekTo,
                        seekToPercent: this.seekToPercent,
                        previousTrack: this.previousTrack,
                        nextTrack: this.nextTrack,
                        createQueue: this.createQueue,
                        getActiveQueue: this.getActiveQueue,
                        setActiveQueue: this.setActiveQueue,
                        addToQueue: this.addToQueue,
                        removeFromQueue: this.removeFromQueue,
                        setupAutoplay: this.setupAutoplay,
                        getWaveformPeaksForStem: this.getWaveformPeaksForStem,
                        getAmplitudeForStem: this.getAmplitudeForStem,
                        getEnergyAtCurrentTime: this.getEnergyAtCurrentTime,
                        getCurrentTimeForStem: this.getCurrentTimeForStem,
                        getCurrentPositionPercent: this.getCurrentPositionPercent,
                        getCurrentTime: this.getCurrentTime,
                        getDuration: this.getDuration,
                        generateTrack: this.generateTrack,
                        getHasPlayed: this.getHasPlayed
                    }), this.state)
                };
                return react__WEBPACK_IMPORTED_MODULE_1__.createElement(AudioEngineContext.Provider, {
                    value: e
                }, react__WEBPACK_IMPORTED_MODULE_1__.createElement(react_page_visibility__WEBPACK_IMPORTED_MODULE_7___default(), {
                    onChange: e=>this.onVisibilityChange(e)
                }), this.props.children)
            }
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        const __TEST__AudioEngineProvider = AudioEngineProvider
          , _default = (0,
        _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_2__.j)({
            module: MODULE
        })(AudioEngineProvider)
          , __WEBPACK_DEFAULT_EXPORT__ = _default;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(MODULE, "MODULE", "/home/vsts/work/1/s/src/contexts/audio-engine/audio-engine-context.tsx"),
            e.register(AudioEngineContext, "AudioEngineContext", "/home/vsts/work/1/s/src/contexts/audio-engine/audio-engine-context.tsx"),
            e.register(AudioEngineEmptyState, "AudioEngineEmptyState", "/home/vsts/work/1/s/src/contexts/audio-engine/audio-engine-context.tsx"),
            e.register(AudioEngineProvider, "AudioEngineProvider", "/home/vsts/work/1/s/src/contexts/audio-engine/audio-engine-context.tsx"),
            e.register(__TEST__AudioEngineProvider, "__TEST__AudioEngineProvider", "/home/vsts/work/1/s/src/contexts/audio-engine/audio-engine-context.tsx"),
            e.register(_default, "default", "/home/vsts/work/1/s/src/contexts/audio-engine/audio-engine-context.tsx"))
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    da2143d0c5dd27b4850b: (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>d
        });
        var a = r("cc5a1791ca69c601dde3")
          , o = r("b02a35033e7f8e6fa1e0")
          , s = r("8af190b70a6bc55c6f1b")
          , n = r("5ef9de3df8d92ea0e41c")
          , i = r.n(n)
          , c = r("6515cd559c65eab0c80c");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const _ = e=>{
            const t = t=>{
                const {wrappedComponentRef: r} = t
                  , n = (0,
                o.Z)(t, ["wrappedComponentRef"]);
                return s.createElement(c.iJ.Consumer, null, t=>s.createElement(e, (0,
                a.Z)({}, n, t, {
                    ref: r
                })))
            }
            ;
            return t.WrappedComponent = e,
            i()(t, e)
        }
          , l = _
          , d = l;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(_, "withAudioEngine", "/home/vsts/work/1/s/src/contexts/audio-engine/hoc.tsx"),
            e.register(l, "default", "/home/vsts/work/1/s/src/contexts/audio-engine/hoc.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "77d9647920c06e8befd6": (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>a.ZP,
            f: ()=>o.Z
        });
        var a = r("6515cd559c65eab0c80c")
          , o = r("da2143d0c5dd27b4850b");
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature
    }
    ,
    "29133bc41b1e7dcf829f": (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            i: ()=>AudioEngineRepositoryHTMLAudio
        });
        var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("de098c4daf91477f9cbc")
          , _components_TrackUploadForm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("371760fd96b575cf2118")
          , _utils_browser_detection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("5347e167343c470dbdfe")
          , _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("6515cd559c65eab0c80c");
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        class AudioEngineRepositoryHTMLAudio {
            constructor() {
                this.vocals = void 0,
                this.other = void 0,
                this.drums = void 0,
                this.bass = void 0,
                this.intervalId = void 0,
                this.syncCheck = {},
                this.syncPlayheadsTS = void 0,
                this.autosyncPlayheads = void 0,
                this.threshold = void 0,
                this.track = void 0,
                this.silentTrack = void 0,
                this.masterPlayhead = 0,
                this.masterStem = _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Vocals,
                this.isBackgrounded = !1,
                this.MIN_VOLUME = .001,
                this.MAX_VOLUME = 1,
                this.ENABLE_DEBUG = !1,
                this.onBackgrounded = (e=>{
                    if (e)
                        Object.values(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA).forEach(e=>{
                            const t = this.getAudioForStem(e);
                            (t.muted || t.volume == this.MIN_VOLUME) && t.play()
                        }
                        );
                    else {
                        4 === this.getMutedStems().length && this.syncPlayheads()
                    }
                }
                ),
                this.shouldSyncStem = (e=>{
                    const t = this.getAudioForStem(e);
                    if (t.muted && this.isBackgrounded)
                        return !1;
                    const r = Math.abs(t.currentTime - this.masterPlayhead) > this.threshold;
                    return this.ENABLE_DEBUG && console.log(`Checking sync status for stem ${e} - current: ${t.currentTime} - diff from master[${this.masterStem}]: ${t.currentTime - this.masterPlayhead}, should sync: ${r}`),
                    r
                }
                ),
                this.getMutedStems = (()=>{
                    const e = [];
                    return Object.values(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA).forEach(t=>{
                        this.isMuted(t) && e.push(t)
                    }
                    ),
                    e
                }
                ),
                this.releaseSourceForStem = (e=>{
                    const t = this.getAudioForStem(e)
                      , r = t.src;
                    t.src = "",
                    t.oncanplaythrough = null,
                    t.load(),
                    URL.revokeObjectURL(r)
                }
                ),
                this.getCurrentTime = (()=>{
                    let e = 0;
                    return Object.values(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA).forEach(t=>{
                        const r = this.getAudioForStem(t);
                        r && r.currentTime > e && (e = r.currentTime)
                    }
                    ),
                    e
                }
                ),
                this.getDuration = (()=>{
                    let e = 0;
                    return Object.values(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA).forEach(t=>{
                        const r = this.getAudioForStem(t);
                        r && (isNaN(r.duration) || r.duration > e && (e = r.duration))
                    }
                    ),
                    e
                }
                ),
                this.getDurationForStem = (e=>{
                    const t = this.getAudioForStem(e);
                    if (t && !isNaN(t.duration))
                        return t.duration
                }
                ),
                this.getCurrentPositionPercent = (()=>{
                    let e = {
                        type: null,
                        length: 0
                    };
                    Object.values(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA).forEach(t=>{
                        const r = this.getAudioForStem(t);
                        r && r.duration > e.length && (e.type = t,
                        e.length = r.duration)
                    }
                    );
                    const t = this.getAudioForStem(e.type);
                    if (t)
                        return t.currentTime / e.length
                }
                ),
                this.getCurrentTimeForStem = (e=>this.getAudioForStem(e).currentTime),
                this.vocals = new Audio,
                this.other = new Audio,
                this.drums = new Audio,
                this.bass = new Audio,
                this.setupSilentTrackForAutoPlay(),
                this.threshold = .1,
                this.autosyncPlayheads = !0
            }
            load(e, t, r, a) {
                this.loadAudioDirect(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Vocals, e.stems.vocals, t, r),
                this.loadAudioDirect(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Other, e.stems.other, t, r),
                this.loadAudioDirect(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Drums, e.stems.drums, t, r),
                this.loadAudioDirect(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Bass, e.stems.bass, t, r)
            }
            setupInternalInterval() {
                this.intervalId = setInterval(()=>{
                    void 0 !== this.vocals && void 0 !== this.other && void 0 !== this.bass && void 0 !== this.drums && (this.updateMasterPlayhead(),
                    this.ENABLE_DEBUG && console.log(`HTMLAudio master stem: ${this.masterStem}, playhead: ${this.masterPlayhead}`),
                    this.autosyncPlayheads && this.shouldSyncPlayheads() && (this.ENABLE_DEBUG && console.error("AudioEngine: need to sync stems"),
                    this.ENABLE_DEBUG && console.log(this.syncCheck),
                    this.syncPlayheads(!1)))
                }
                , 500)
            }
            updateMasterPlayhead() {
                return this.isMuted(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Vocals) ? this.isMuted(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Other) ? this.isMuted(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Drums) ? this.isMuted(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Bass) ? (this.masterPlayhead += .5,
                void (this.masterStem = null)) : (this.masterPlayhead = this.bass.currentTime,
                void (this.masterStem = _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Bass)) : (this.masterPlayhead = this.drums.currentTime,
                void (this.masterStem = _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Drums)) : (this.masterPlayhead = this.other.currentTime,
                void (this.masterStem = _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Other)) : (this.masterPlayhead = this.vocals.currentTime,
                void (this.masterStem = _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Vocals))
            }
            clearInternalInterval() {
                clearInterval(this.intervalId)
            }
            setupSilentTrackForAutoPlay() {
                (0,
                _components_TrackUploadForm__WEBPACK_IMPORTED_MODULE_0__.Rq)(!0).then(e=>{
                    this.silentTrack = URL.createObjectURL(e),
                    this.vocals.src = this.silentTrack,
                    this.other.src = this.silentTrack,
                    this.drums.src = this.silentTrack,
                    this.bass.src = this.silentTrack
                }
                )
            }
            syncPlayheads(e=!0) {
                this.ENABLE_DEBUG && console.log("syncPlayheads()");
                const t = new Date;
                if (void 0 === this.syncPlayheadsTS)
                    this.syncPlayheadsTS = t;
                else {
                    if (t.getTime() - this.syncPlayheadsTS.getTime() < 1e3 && !0 === e)
                        return void (this.ENABLE_DEBUG && console.log("it is too soon to syncPlayheads since last time i worked."));
                    this.syncPlayheadsTS = t
                }
                const r = this.masterPlayhead;
                if (e)
                    this.seekTo(r);
                else {
                    const e = Object.values(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA).filter(e=>this.shouldSyncStem(e));
                    this.ENABLE_DEBUG && console.log("Stems to Sync: ", e),
                    this.ENABLE_DEBUG && console.log("as master playhead: ", r),
                    e.forEach(e=>{
                        this.ENABLE_DEBUG && console.log(`${e} new time : ${this.getAudioForStem(e).currentTime}`),
                        this.getAudioForStem(e).currentTime = r + .05
                    }
                    )
                }
            }
            shouldSyncPlayheads() {
                return !(this.masterStem == _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Vocals || !this.shouldSyncStem(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Vocals)) || (!(this.masterStem == _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Other || !this.shouldSyncStem(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Other)) || (!(this.masterStem == _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Drums || !this.shouldSyncStem(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Drums)) || !(this.masterStem == _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Bass || !this.shouldSyncStem(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Bass))))
            }
            unload() {
                this.stop(),
                this.releaseSources()
            }
            releaseSources() {
                this.releaseSourceForStem(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Vocals),
                this.releaseSourceForStem(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Other),
                this.releaseSourceForStem(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Drums),
                this.releaseSourceForStem(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Bass)
            }
            play() {
                this.vocals.play(),
                this.other.play(),
                this.drums.play(),
                this.bass.play(),
                this.setupInternalInterval()
            }
            pause() {
                this.vocals.pause(),
                this.other.pause(),
                this.drums.pause(),
                this.bass.pause(),
                this.syncPlayheads(),
                this.clearInternalInterval()
            }
            stop() {
                this.pause(),
                this.masterPlayhead = 0
            }
            canUseVolume() {
                return !(0,
                _utils_browser_detection__WEBPACK_IMPORTED_MODULE_1__.gn)()
            }
            isMuted(e) {
                const t = this.getAudioForStem(e);
                return this.canUseVolume() ? t.volume === this.MIN_VOLUME : !0 === t.muted
            }
            mute(e) {
                const t = this.getAudioForStem(e);
                this.canUseVolume() ? t.volume = this.MIN_VOLUME : t.muted = !0
            }
            unmute(e) {
                const t = this.getAudioForStem(e);
                this.canUseVolume() ? t.volume = this.MAX_VOLUME : t.muted = !1
            }
            unmuteAll() {
                this.canUseVolume() ? (this.vocals.volume = this.MAX_VOLUME,
                this.other.volume = this.MAX_VOLUME,
                this.drums.volume = this.MAX_VOLUME,
                this.bass.volume = this.MAX_VOLUME) : (this.vocals.muted = !1,
                this.other.muted = !1,
                this.drums.muted = !1,
                this.bass.muted = !1)
            }
            isolate(e) {
                const t = this.getAudioForStem(e);
                this.canUseVolume() ? t.volume = this.MAX_VOLUME : t.muted = !1
            }
            seekTo(e) {
                this.masterPlayhead = e,
                Object.values(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA).forEach(t=>{
                    this.getAudioForStem(t).currentTime = e
                }
                )
            }
            loadAudioDirect(e, t, r, a) {
                var o = this;
                return (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.Z)(function*() {
                    const s = o.getAudioForStem(e);
                    let n = null;
                    if (s.src && (n = s.src),
                    t.file ? (s.src = URL.createObjectURL(t.file),
                    s.load(),
                    s.oncanplaythrough = (()=>{
                        o.areOtherStemsReady(e) && r()
                    }
                    )) : (s.src = t.url,
                    s.load(),
                    s.oncanplaythrough = (()=>{
                        o.areOtherStemsReady(e) && r()
                    }
                    )),
                    s.onended = (()=>a(e)),
                    n)
                        try {
                            URL.revokeObjectURL(n)
                        } catch (e) {
                            console.error(e)
                        }
                })()
            }
            areOtherStemsReady(e) {
                const t = Object.values(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA).filter(t=>t != e);
                for (let e of t) {
                    if (!(4 == this.getAudioForStem(e).readyState))
                        return !1
                }
                return !0
            }
            getAudioForStem(e) {
                switch (e) {
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Vocals:
                    return this.vocals;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Other:
                    return this.other;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Drums:
                    return this.drums;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Bass:
                    return this.bass
                }
            }
            enforceHiHatToneForDebug(e, t) {
                switch (e) {
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Vocals:
                    t.src = "/audio/hi-hat-2-1-cbr.mp3";
                    break;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Other:
                    t.src = "/audio/hi-hat-2-2-cbr.mp3";
                    break;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Drums:
                    t.src = "/audio/hi-hat-2-3-cbr.mp3";
                    break;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Bass:
                    t.src = "/audio/hi-hat-2-4-cbr.mp3"
                }
            }
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && e.register(AudioEngineRepositoryHTMLAudio, "AudioEngineRepositoryHTMLAudio", "/home/vsts/work/1/s/src/contexts/audio-engine/repository/html-audio.ts")
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    "2ca539090f17e1b084e6": (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("de098c4daf91477f9cbc")
          , _audio_engine_context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("6515cd559c65eab0c80c")
          , _html_audio__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("29133bc41b1e7dcf829f");
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        class AudioEngineRepositoryHTMLMediaController extends _html_audio__WEBPACK_IMPORTED_MODULE_1__.i {
            constructor() {
                super(),
                this.controller = void 0,
                this.setupMediaController()
            }
            setupMediaController() {
                this.controller = new window.MediaController,
                Object.values(_audio_engine_context__WEBPACK_IMPORTED_MODULE_0__.wA).forEach(e=>{
                    this.getAudioForStem(e).controller = this.controller
                }
                )
            }
            load(e, t, r, a) {
                var o = this;
                return (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.Z)(function*() {
                    o.unload(),
                    o.unmuteAll(),
                    yield o.loadAudioDirect(_audio_engine_context__WEBPACK_IMPORTED_MODULE_0__.wA.Vocals, e.stems.vocals, t, r),
                    yield o.loadAudioDirect(_audio_engine_context__WEBPACK_IMPORTED_MODULE_0__.wA.Other, e.stems.other, t, r),
                    yield o.loadAudioDirect(_audio_engine_context__WEBPACK_IMPORTED_MODULE_0__.wA.Drums, e.stems.drums, t, r),
                    yield o.loadAudioDirect(_audio_engine_context__WEBPACK_IMPORTED_MODULE_0__.wA.Bass, e.stems.bass, t, r)
                })()
            }
            loadAudio(e, t, r, a) {
                var o = this;
                return (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.Z)(function*() {
                    const s = o.getAudioForStem(e)
                      , n = yield fetch(t.url);
                    if (!n.ok)
                        throw new Error(`Failed downloading track ${t.url} (${n.statusText})`);
                    const i = yield n.blob()
                      , c = new File([i],`${e}.mp3`,{
                        type: "audio/mp3"
                    });
                    var _ = URL.createObjectURL(c);
                    s.src = _,
                    s.load(),
                    s.oncanplaythrough = (()=>{
                        o.areOtherStemsReady(e) && r()
                    }
                    ),
                    s.onended = (()=>a(e))
                })()
            }
            play() {
                this.controller.play(),
                this.setupInternalInterval()
            }
            pause() {
                this.controller.pause(),
                this.syncPlayheads(),
                this.clearInternalInterval()
            }
            stop() {
                this.controller.pause(),
                this.controller.currentTime = 0
            }
            isMuted(e) {
                return !0 === this.getAudioForStem(e).muted
            }
            mute(e) {
                this.getAudioForStem(e).muted = !0
            }
            unmute(e) {
                this.getAudioForStem(e).muted = !1
            }
            unmuteAll() {
                Object.values(_audio_engine_context__WEBPACK_IMPORTED_MODULE_0__.wA).forEach(e=>{
                    this.getAudioForStem(e).muted = !1
                }
                )
            }
            isolate(e) {
                this.getAudioForStem(e).muted = !1
            }
            seekTo(e) {
                this.controller.currentTime = e
            }
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && e.register(AudioEngineRepositoryHTMLMediaController, "AudioEngineRepositoryHTMLMediaController", "/home/vsts/work/1/s/src/contexts/audio-engine/repository/html-mediacontroller.ts")
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    "9f8992917dda43cfdc1d": (e,t,r)=>{
        "use strict";
        r.d(t, {
            is: ()=>a.i
        });
        r("1f0f3f47e7d0195f2f75");
        var a = r("29133bc41b1e7dcf829f");
        r("2ca539090f17e1b084e6"),
        r("29df392f3133c6496e02"),
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature
    }
    ,
    "1f0f3f47e7d0195f2f75": ()=>{
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature
    }
    ,
    "29df392f3133c6496e02": (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("de098c4daf91477f9cbc")
          , standardized_audio_context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("f9fd2a53d9d77b928861")
          , standardized_audio_context__WEBPACK_IMPORTED_MODULE_0___default = __webpack_require__.n(standardized_audio_context__WEBPACK_IMPORTED_MODULE_0__)
          , _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("6515cd559c65eab0c80c")
          , _utils_unmute__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("6792dda0bcc4906dd1ad");
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        class AudioEngineRepositoryWebAudio {
            constructor() {
                this.isBackgrounded = !1,
                this.audioContext = void 0,
                this.offlineContext = void 0,
                this.vocalsGain = void 0,
                this.otherGain = void 0,
                this.drumsGain = void 0,
                this.bassGain = void 0,
                this.vocalsSource = void 0,
                this.otherSource = void 0,
                this.drumsSource = void 0,
                this.bassSource = void 0,
                this.vocalsBuffer = void 0,
                this.otherBuffer = void 0,
                this.drumsBuffer = void 0,
                this.bassBuffer = void 0,
                this.vocalsLoaded = !1,
                this.drumsLoaded = !1,
                this.otherLoaded = !1,
                this.bassLoaded = !1,
                this.backgroundAudioHandler = void 0,
                this.onBackgrounded = (e=>{}
                ),
                this.getCurrentTimeForStem = (e=>0),
                this.audioContext = new standardized_audio_context__WEBPACK_IMPORTED_MODULE_0__.AudioContext,
                this.offlineContext = new standardized_audio_context__WEBPACK_IMPORTED_MODULE_0__.OfflineAudioContext({
                    length: 1,
                    numberOfChannels: 2,
                    sampleRate: 44100
                })
            }
            play() {
                Object.values(_audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA).forEach(e=>{
                    const t = this.getBuffer(e);
                    this.createSourceNode(e, t, ()=>{
                        this.getSource(e).start(0, 0)
                    }
                    )
                }
                ),
                this.resumeAudioContext()
            }
            pause() {
                Object.values(_audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA).forEach(e=>{
                    const t = this.getSource(e);
                    t && t.stop()
                }
                )
            }
            stop() {
                this.pause()
            }
            syncPlayheads() {}
            mute(e) {}
            unmute(e) {}
            unmuteAll() {}
            isolate(e) {}
            seekTo(e) {}
            getCurrentTime() {
                return 0
            }
            getDuration() {
                return 0
            }
            getDurationForStem(e) {
                return 0
            }
            getCurrentPositionPercent() {
                return 0
            }
            load(e, t) {
                this.unload();
                const r = (0,
                _utils_unmute__WEBPACK_IMPORTED_MODULE_2__.$)(this.audioContext, !0, !0);
                this.backgroundAudioHandler = r,
                this.loadAudio(_audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Vocals, e.stems.vocals, t),
                this.loadAudio(_audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Other, e.stems.other, t),
                this.loadAudio(_audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Drums, e.stems.drums, t),
                this.loadAudio(_audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Bass, e.stems.bass, t)
            }
            loadAudio(e, t, r) {
                var a = this;
                return (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.Z)(function*() {
                    const o = new XMLHttpRequest;
                    o.open("GET", encodeURI(t.url), !0),
                    o.setRequestHeader("Content-Type", "application/json"),
                    o.responseType = "blob",
                    o.onload = function() {
                        var t = (0,
                        _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.Z)(function*(t) {
                            var s = new Blob([o.response],{
                                type: "audio/aac"
                            });
                            const n = yield s.arrayBuffer();
                            a.loadBuffer(e, n, r)
                        });
                        return function(e) {
                            return t.apply(this, arguments)
                        }
                    }(),
                    o.send()
                })()
            }
            loadBuffer(e, t, r) {
                this.offlineContext.decodeAudioData(t, t=>{
                    switch (e) {
                    case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Vocals:
                        this.vocalsBuffer = t;
                        break;
                    case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Other:
                        this.otherBuffer = t;
                        break;
                    case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Drums:
                        this.drumsBuffer = t;
                        break;
                    case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Bass:
                        this.bassBuffer = t
                    }
                    this.createSourceNode(e, t, ()=>{
                        this.stemsAreReady && r()
                    }
                    )
                }
                )
            }
            getBuffer(e) {
                switch (e) {
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Vocals:
                    return this.vocalsBuffer;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Other:
                    return this.otherBuffer;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Drums:
                    return this.drumsBuffer;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Bass:
                    return this.bassBuffer
                }
            }
            onLoaded(e, t) {
                switch (e) {
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Vocals:
                    this.vocalsLoaded = !0;
                    break;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Other:
                    this.otherLoaded = !0;
                    break;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Drums:
                    this.drumsLoaded = !0;
                    break;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Bass:
                    this.bassLoaded = !0
                }
                t()
            }
            createSourceNode(e, t, r) {
                this.destroySourceNode(e);
                const a = this.audioContext.createBufferSource();
                switch (a.buffer = t,
                e) {
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Vocals:
                    this.vocalsSource = a;
                    break;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Other:
                    this.otherSource = a;
                    break;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Drums:
                    this.drumsSource = a;
                    break;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Bass:
                    this.bassSource = a
                }
                if (!(o = this.getGainNode(e)))
                    var o = this.createGainNode(e);
                a.connect(o),
                o.connect(this.audioContext.destination),
                this.onLoaded(e, r)
            }
            destroySourceNode(e) {
                const t = this.getSource(e);
                t && (delete t.buffer,
                t.disconnect(0))
            }
            getSource(e) {
                switch (e) {
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Vocals:
                    return this.vocalsSource;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Other:
                    return this.otherSource;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Drums:
                    return this.drumsSource;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Bass:
                    return this.bassSource
                }
            }
            createGainNode(e) {
                const t = this.audioContext.createGain();
                switch (e) {
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Vocals:
                    this.vocalsGain = t;
                    break;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Other:
                    this.otherGain = t;
                    break;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Drums:
                    this.drumsGain = t;
                    break;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Bass:
                    this.bassGain = t
                }
                return t
            }
            destroyGainNode(e) {
                const t = this.getGainNode(e);
                if (t)
                    switch (t.disconnect(),
                    e) {
                    case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Vocals:
                        this.vocalsGain = null;
                    case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Other:
                        this.otherGain = null;
                    case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Drums:
                        this.drumsGain = null;
                    case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Bass:
                        this.bassGain = null
                    }
            }
            getGainNode(e) {
                switch (e) {
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Vocals:
                    return this.vocalsGain;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Other:
                    return this.otherGain;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Drums:
                    return this.drumsGain;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Bass:
                    return this.bassGain
                }
            }
            unload() {
                var e;
                this.pause(),
                this.disonnectAll(),
                this.clearBuffers(),
                this.resetLoaded(),
                null === (e = this.backgroundAudioHandler) || void 0 === e || e.dispose(),
                this.backgroundAudioHandler = null
            }
            resetLoaded() {
                this.vocalsLoaded = !1,
                this.otherLoaded = !1,
                this.drumsLoaded = !1,
                this.bassLoaded = !1
            }
            disonnectAll() {
                Object.values(_audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA).forEach(e=>{
                    this.destroySourceNode(e),
                    this.destroyGainNode(e)
                }
                ),
                this.vocalsSource = null,
                this.otherSource = null,
                this.drumsSource = null,
                this.bassSource = null
            }
            clearBuffers() {
                this.vocalsBuffer = null,
                this.otherBuffer = null,
                this.drumsBuffer = null,
                this.bassBuffer = null
            }
            stemsAreReady() {
                return this.vocalsLoaded && this.otherLoaded && this.drumsLoaded && this.bassLoaded
            }
            resumeAudioContext() {
                "suspended" == this.audioContext.state && this.audioContext.resume()
            }
            setupSilentTrackForAutoPlay() {}
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && e.register(AudioEngineRepositoryWebAudio, "AudioEngineRepositoryWebAudio", "/home/vsts/work/1/s/src/contexts/audio-engine/repository/web-audio.ts")
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    "3f02c5877d4690b5563c": (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            HI: ()=>FirmwareUpdateContext,
            Ee: ()=>compareFirmwareVersions,
            Hm: ()=>firmwareIsOlderThan,
            ZP: ()=>__WEBPACK_DEFAULT_EXPORT__
        });
        var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("990057777e9b2b7543e8")
          , _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("de098c4daf91477f9cbc")
          , react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("8af190b70a6bc55c6f1b");
        function ownKeys(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var a = Object.getOwnPropertySymbols(e);
                t && (a = a.filter(function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                })),
                r.push.apply(r, a)
            }
            return r
        }
        function _objectSpread(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = null != arguments[t] ? arguments[t] : {};
                t % 2 ? ownKeys(Object(r), !0).forEach(function(t) {
                    (0,
                    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e, t, r[t])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : ownKeys(Object(r)).forEach(function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                })
            }
            return e
        }
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const FirmwareUpdateContext = react__WEBPACK_IMPORTED_MODULE_1__.createContext({});
        function compareFirmwareVersions(e, t) {
            const [r,a,o] = e.split(".").map(e=>parseInt(e, 10))
              , [s,n,i] = t.split(".").map(e=>parseInt(e, 10));
            return Number.isInteger(r) && Number.isInteger(a) && Number.isInteger(o) && !Number.isInteger(s) && Number.isInteger(n) && Number.isInteger(i) ? r === s ? a === n ? o === i ? 0 : o < i ? -1 : 1 : a < n ? -1 : 1 : r < s ? -1 : 1 : e < t ? -1 : e > t ? 1 : 0
        }
        function firmwareIsOlderThan(e, t) {
            return -1 === compareFirmwareVersions(e, t)
        }
        function firmwareIsNewerThan(e, t) {
            return 1 === compareFirmwareVersions(e, t)
        }
        class FirmwareUpdateProvider extends react__WEBPACK_IMPORTED_MODULE_1__.PureComponent {
            constructor(e) {
                var t;
                super(e),
                t = this,
                this.queryEndpoint = void 0,
                this.activeRequests = void 0,
                this.setHasUpdateStarted = (e=>{
                    this.setState({
                        hasUpdateStarted: e
                    })
                }
                ),
                this.getAvailableUpdates = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.Z)(function*(e) {
                        const r = yield fetch(t.queryEndpoint, {
                            headers: {
                                "Cache-Control": "max-age=0"
                            },
                            signal: e
                        });
                        if (r.ok) {
                            return yield r.json()
                        }
                        throw new Error(`Received ${r.status}: ${r.statusText}`)
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.hasPreferredUpdate = ((e,t)=>!!firmwareIsOlderThan(t.bootloaderVersion, "0.1.1010") || (!!firmwareIsOlderThan(t.bootloaderVersion, e.bootloader.preferredMinimumVersion) || (!(t.bluetoothVersion && !firmwareIsOlderThan(t.bluetoothVersion, e.bluetooth.preferredMinimumVersion)) || !!firmwareIsOlderThan(t.appVersion, e.firmware.preferredMinimumVersion)))),
                this.hasCrucialUpdate = ((e,t)=>null !== e && null !== t && (!!firmwareIsOlderThan(t.bootloaderVersion, "0.1.1010") || (!!firmwareIsOlderThan(t.bootloaderVersion, e.bootloader.minimumVersion) || (!(t.bluetoothVersion && !firmwareIsOlderThan(t.bluetoothVersion, e.bluetooth.minimumVersion)) || firmwareIsOlderThan(t.appVersion, e.firmware.minimumVersion))))),
                this.calculateUpdates = ((e,t)=>{
                    const r = [];
                    let a = !1;
                    if (null === e || null === t)
                        return r;
                    firmwareIsOlderThan(t.bootloaderVersion, "0.1.1010") ? (r.push({
                        filename: "samara.dfu",
                        url: e.bootloader.dfuUrl
                    }),
                    a = !0) : firmwareIsOlderThan(t.bootloaderVersion, e.bootloader.version) && (r.push({
                        filename: "1_blua.dfu",
                        url: e.bootloader.dfuUrl
                    }),
                    a = !0),
                    t.bluetoothVersion && !firmwareIsOlderThan(t.bluetoothVersion, e.bluetooth.version) || (r.push({
                        filename: "2_btua.dfu",
                        url: e.bluetooth.dfuUrl
                    }),
                    r.push({
                        filename: "rehex.hex",
                        url: e.bluetooth.hexUrl
                    }),
                    a = !0),
                    (a || firmwareIsOlderThan(t.appVersion, e.firmware.version)) && (r.push({
                        filename: "config.txt",
                        url: e.config.configUrl
                    }),
                    r.push({
                        filename: "3_stpl.dfu",
                        url: e.firmware.dfuUrl
                    }));
                    const o = r.find(e=>"rehex.hex" === e.filename);
                    return this.setState({
                        updateType: o ? "bluetooth" : "firmware"
                    }),
                    r
                }
                ),
                this.downloadUpdates = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.Z)(function*(e) {
                        const t = [];
                        for (let r of e) {
                            const e = yield fetch(r.url);
                            if (!e.ok)
                                throw new Error(`Received ${e.status}: ${e.statusText}`);
                            {
                                const a = yield e.blob();
                                t.push(new File([a],r.filename))
                            }
                        }
                        return t
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.queryEndpoint = this.props.config.KB_UPDATE_QUERY_ENDPOINT,
                this.state = {
                    updateType: null,
                    hasUpdateStarted: !1
                }
            }
            render() {
                const e = {
                    firmwareUpdateClient: _objectSpread(_objectSpread({}, {
                        getAvailableUpdates: this.getAvailableUpdates,
                        calculateUpdates: this.calculateUpdates,
                        hasCrucialUpdate: this.hasCrucialUpdate,
                        hasPreferredUpdate: this.hasPreferredUpdate,
                        downloadUpdates: this.downloadUpdates,
                        setHasUpdateStarted: this.setHasUpdateStarted
                    }), this.state)
                };
                return react__WEBPACK_IMPORTED_MODULE_1__.createElement(FirmwareUpdateContext.Provider, {
                    value: e
                }, this.props.children)
            }
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        const _default = FirmwareUpdateProvider
          , __WEBPACK_DEFAULT_EXPORT__ = _default;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(FirmwareUpdateContext, "FirmwareUpdateContext", "/home/vsts/work/1/s/src/contexts/firmware-update/firmware-update-context.tsx"),
            e.register(compareFirmwareVersions, "compareFirmwareVersions", "/home/vsts/work/1/s/src/contexts/firmware-update/firmware-update-context.tsx"),
            e.register(firmwareIsOlderThan, "firmwareIsOlderThan", "/home/vsts/work/1/s/src/contexts/firmware-update/firmware-update-context.tsx"),
            e.register(firmwareIsNewerThan, "firmwareIsNewerThan", "/home/vsts/work/1/s/src/contexts/firmware-update/firmware-update-context.tsx"),
            e.register(FirmwareUpdateProvider, "FirmwareUpdateProvider", "/home/vsts/work/1/s/src/contexts/firmware-update/firmware-update-context.tsx"),
            e.register(_default, "default", "/home/vsts/work/1/s/src/contexts/firmware-update/firmware-update-context.tsx"))
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    e1212da5b2e14234c7a1: (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>d
        });
        var a = r("cc5a1791ca69c601dde3")
          , o = r("b02a35033e7f8e6fa1e0")
          , s = r("8af190b70a6bc55c6f1b")
          , n = r("3f02c5877d4690b5563c")
          , i = r("5ef9de3df8d92ea0e41c")
          , c = r.n(i);
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const _ = e=>{
            const t = t=>{
                const {wrappedComponentRef: r} = t
                  , i = (0,
                o.Z)(t, ["wrappedComponentRef"]);
                return s.createElement(n.HI.Consumer, null, t=>s.createElement(e, (0,
                a.Z)({}, i, t, {
                    ref: r
                })))
            }
            ;
            return t.WrappedComponent = e,
            c()(t, e)
        }
          , l = _
          , d = l;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(_, "withFirmwareUpdateClient", "/home/vsts/work/1/s/src/contexts/firmware-update/hoc.tsx"),
            e.register(l, "default", "/home/vsts/work/1/s/src/contexts/firmware-update/hoc.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    c1bece57111e2d76e639: (e,t,r)=>{
        "use strict";
        r.d(t, {
            E: ()=>a.ZP,
            J: ()=>o.Z
        });
        var a = r("3f02c5877d4690b5563c")
          , o = r("e1212da5b2e14234c7a1");
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature
    }
    ,
    c84f0674dd266fe19a17: (e,t,r)=>{
        "use strict";
        var a = r("cc5a1791ca69c601dde3")
          , o = r("b02a35033e7f8e6fa1e0")
          , s = r("8af190b70a6bc55c6f1b")
          , n = r("8256549a766e1cb27712")
          , i = r("5ef9de3df8d92ea0e41c")
          , c = r.n(i);
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const _ = e=>{
            const t = t=>{
                const {wrappedComponentRef: r} = t
                  , i = (0,
                o.Z)(t, ["wrappedComponentRef"]);
                return s.createElement(n.uj.Consumer, null, t=>s.createElement(e, (0,
                a.Z)({}, i, t, {
                    ref: r
                })))
            }
            ;
            return t.WrappedComponent = e,
            c()(t, e)
        }
          , l = _;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(_, "withNotificationClient", "/home/vsts/work/1/s/src/contexts/notifications/hoc.tsx"),
            e.register(l, "default", "/home/vsts/work/1/s/src/contexts/notifications/hoc.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    ceede5265ca6ca2cb4b1: (e,t,r)=>{
        "use strict";
        r.d(t, {
            JB: ()=>a.ZP
        });
        var a = r("8256549a766e1cb27712");
        r("c84f0674dd266fe19a17"),
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature
    }
    ,
    "8256549a766e1cb27712": (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            uj: ()=>NotificationContext,
            ZP: ()=>__WEBPACK_DEFAULT_EXPORT__
        });
        var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("990057777e9b2b7543e8")
          , react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("8af190b70a6bc55c6f1b")
          , _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("8a5d22dd0b24a6092d3e");
        function ownKeys(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var a = Object.getOwnPropertySymbols(e);
                t && (a = a.filter(function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                })),
                r.push.apply(r, a)
            }
            return r
        }
        function _objectSpread(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = null != arguments[t] ? arguments[t] : {};
                t % 2 ? ownKeys(Object(r), !0).forEach(function(t) {
                    (0,
                    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e, t, r[t])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : ownKeys(Object(r)).forEach(function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                })
            }
            return e
        }
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const NotificationContext = react__WEBPACK_IMPORTED_MODULE_1__.createContext({});
        let NotificationType;
        !function(e) {
            e[e.OSUpdate = 0] = "OSUpdate",
            e[e.OSCrucialUpdate = 1] = "OSCrucialUpdate",
            e[e.MusicUpdate = 2] = "MusicUpdate"
        }(NotificationType || (NotificationType = {}));
        class NotificationProvider extends react__WEBPACK_IMPORTED_MODULE_1__.PureComponent {
            constructor(e) {
                super(e),
                this.getNotificationName = (e=>{
                    return {
                        [NotificationType.OSUpdate]: "OS Update",
                        [NotificationType.MusicUpdate]: "Music Update",
                        [NotificationType.OSCrucialUpdate]: "Crucial Update"
                    }[e]
                }
                ),
                this.resetNotifications = (()=>{
                    this.setState({
                        notifications: []
                    })
                }
                ),
                this.addNotification = ((e,t=(()=>{}
                ))=>{
                    const {notifications: r} = this.state;
                    if (r.find(t=>t.notification === e))
                        return;
                    const a = [...r, {
                        notification: e,
                        callback: t
                    }];
                    this.setState({
                        notifications: a
                    })
                }
                ),
                this.removeNotification = (e=>{
                    const {notifications: t} = this.state
                      , r = [...t]
                      , a = r.findIndex(t=>t.notification === e);
                    -1 !== a && (r.splice(a, 1),
                    this.setState({
                        notifications: r
                    }))
                }
                ),
                this.state = {
                    notifications: []
                }
            }
            render() {
                const e = {
                    notificationClient: _objectSpread(_objectSpread({}, {
                        addNotification: this.addNotification,
                        removeNotification: this.removeNotification,
                        getNotificationName: this.getNotificationName,
                        resetNotifications: this.resetNotifications
                    }), this.state)
                };
                return react__WEBPACK_IMPORTED_MODULE_1__.createElement(NotificationContext.Provider, {
                    value: e
                }, this.props.children)
            }
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        const _default = (0,
        _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_2__.j)({
            module: "notifications"
        })(NotificationProvider)
          , __WEBPACK_DEFAULT_EXPORT__ = _default;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(NotificationContext, "NotificationContext", "/home/vsts/work/1/s/src/contexts/notifications/notification-context.tsx"),
            e.register(NotificationProvider, "NotificationProvider", "/home/vsts/work/1/s/src/contexts/notifications/notification-context.tsx"),
            e.register(_default, "default", "/home/vsts/work/1/s/src/contexts/notifications/notification-context.tsx"))
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    "1368faf58685f2c8dc6c": (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>d
        });
        var a = r("cc5a1791ca69c601dde3")
          , o = r("b02a35033e7f8e6fa1e0")
          , s = r("8af190b70a6bc55c6f1b")
          , n = r("5ef9de3df8d92ea0e41c")
          , i = r.n(n)
          , c = r("8e3e448917f6413c5c1b");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const _ = e=>{
            const t = t=>{
                const {wrappedComponentRef: r} = t
                  , n = (0,
                o.Z)(t, ["wrappedComponentRef"]);
                return s.createElement(c._.Consumer, null, t=>s.createElement(e, (0,
                a.Z)({}, n, t, {
                    ref: r
                })))
            }
            ;
            return t.WrappedComponent = e,
            i()(t, e)
        }
          , l = _
          , d = l;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(_, "withRemixClient", "/home/vsts/work/1/s/src/contexts/remix/hoc.tsx"),
            e.register(l, "default", "/home/vsts/work/1/s/src/contexts/remix/hoc.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "04580fa4bddd672dfde3": (e,t,r)=>{
        "use strict";
        r.d(t, {
            V: ()=>a.Z,
            o: ()=>o.Z
        });
        var a = r("8e3e448917f6413c5c1b")
          , o = r("1368faf58685f2c8dc6c");
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature
    }
    ,
    "8e3e448917f6413c5c1b": (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            _: ()=>RemixContext,
            Z: ()=>__WEBPACK_DEFAULT_EXPORT__
        });
        var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("990057777e9b2b7543e8")
          , _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("de098c4daf91477f9cbc")
          , react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("8af190b70a6bc55c6f1b")
          , react_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("395ade0bdd7d87af2885")
          , _webusb__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("f60aef9fa88f4e9ce07a");
        function ownKeys(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var a = Object.getOwnPropertySymbols(e);
                t && (a = a.filter(function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                })),
                r.push.apply(r, a)
            }
            return r
        }
        function _objectSpread(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = null != arguments[t] ? arguments[t] : {};
                t % 2 ? ownKeys(Object(r), !0).forEach(function(t) {
                    (0,
                    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e, t, r[t])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : ownKeys(Object(r)).forEach(function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                })
            }
            return e
        }
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const RemixContext = react__WEBPACK_IMPORTED_MODULE_1__.createContext({});
        class RemixProvider extends react__WEBPACK_IMPORTED_MODULE_1__.PureComponent {
            constructor(e) {
                var t;
                super(e),
                t = this,
                this.apiUrl = void 0,
                this.platformUrl = void 0,
                this.setIsViewingSharedRemix = (e=>this.setState({
                    isViewingSharedRemix: e
                })),
                this.getRecordingById = (e=>this.state.recordings.find(t=>t.id === e)),
                this.setRecordings = (e=>{
                    this.state.recordings.some(t=>t.id === e.id) || this.setState({
                        recordings: [...this.state.recordings, e]
                    })
                }
                ),
                this.setRecordingToShare = (e=>{
                    this.setState({
                        recordingToShare: e
                    }, ()=>{
                        e ? this.props.history.push("/remix") : this.props.webUSBClient.deviceConnected ? this.props.history.push("/connect/stem/tracks") : this.props.history.push("/")
                    }
                    )
                }
                ),
                this.uploadRemixFile = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.Z)(function*(e, t, r, a) {
                        let o = new FormData;
                        Object.keys(t).forEach(e=>{
                            let r = t[e];
                            o.append(e, r)
                        }
                        ),
                        o.append("file", r);
                        const s = yield fetch(e, {
                            method: "POST",
                            body: o,
                            signal: a
                        });
                        if (s.ok)
                            return s;
                        throw new Error("Failed to upload file")
                    });
                    return function(t, r, a, o) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.createRemixUpload = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.Z)(function*(e) {
                        const r = yield fetch(`${t.apiUrl}/remixes`, {
                            method: "POST",
                            body: JSON.stringify({
                                title: e
                            })
                        });
                        return (yield r.json()).data
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.createRemixFromStem = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.Z)(function*(e, r, a) {
                        a && a("Uploading");
                        try {
                            const {upload: a, id: o, url: s} = yield t.createRemixUpload(e);
                            return yield t.uploadRemixFile(a.url, a.fields, r),
                            {
                                id: o,
                                title: e,
                                downloadUrl: s,
                                shareUrl: `${t.platformUrl}/remix/${o}`
                            }
                        } catch (e) {
                            throw e
                        }
                    });
                    return function(t, r, a) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getRemixById = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.Z)(function*(e) {
                        const r = yield fetch(`${t.apiUrl}/remixes/${e}`, {
                            method: "GET"
                        });
                        return (yield r.json()).data
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getRemix = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.Z)(function*(e) {
                        try {
                            const {id: r, url: a, title: o} = yield t.getRemixById(e);
                            return {
                                id: r,
                                title: o,
                                downloadUrl: a,
                                shareUrl: `${t.platformUrl}/remix/${r}`
                            }
                        } catch (e) {
                            throw e
                        }
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.downloadRemixStem = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.Z)(function*(e) {
                        yield fetch(e.downloadUrl).then(e=>e.blob()).then(t=>{
                            const r = URL.createObjectURL(t)
                              , a = document.createElement("a");
                            a.style.display = "none",
                            a.href = r,
                            a.download = `${e.title}.mp3`,
                            a.click(),
                            URL.revokeObjectURL(r)
                        }
                        )
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.resetRemixState = (()=>{
                    this.setState({
                        recordings: [],
                        recordingToShare: null
                    })
                }
                ),
                this.apiUrl = e.config.KB_STEMIFY_API_URL,
                this.platformUrl = e.config.KB_APP_URL,
                this.state = {
                    recordingToShare: null,
                    recordings: [],
                    isViewingSharedRemix: null
                }
            }
            render() {
                const e = {
                    remixClient: _objectSpread(_objectSpread({}, {
                        setRecordingToShare: this.setRecordingToShare,
                        createRemixFromStem: this.createRemixFromStem,
                        downloadRemixStem: this.downloadRemixStem,
                        getRemix: this.getRemix,
                        getRecordingById: this.getRecordingById,
                        setRecordings: this.setRecordings,
                        resetRemixState: this.resetRemixState,
                        setIsViewingSharedRemix: this.setIsViewingSharedRemix
                    }), this.state)
                };
                return react__WEBPACK_IMPORTED_MODULE_1__.createElement(RemixContext.Provider, {
                    value: e
                }, this.props.children)
            }
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        const _default = (0,
        react_router__WEBPACK_IMPORTED_MODULE_4__.withRouter)((0,
        _webusb__WEBPACK_IMPORTED_MODULE_2__.MM)(RemixProvider))
          , __WEBPACK_DEFAULT_EXPORT__ = _default;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(RemixContext, "RemixContext", "/home/vsts/work/1/s/src/contexts/remix/remix-context.tsx"),
            e.register(RemixProvider, "RemixProvider", "/home/vsts/work/1/s/src/contexts/remix/remix-context.tsx"),
            e.register(_default, "default", "/home/vsts/work/1/s/src/contexts/remix/remix-context.tsx"))
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    "7c5fda3b28a2cb9d3bf6": (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>d
        });
        var a = r("cc5a1791ca69c601dde3")
          , o = r("b02a35033e7f8e6fa1e0")
          , s = r("8af190b70a6bc55c6f1b")
          , n = r("5ef9de3df8d92ea0e41c")
          , i = r.n(n)
          , c = r("661f68c254b5c15c9d92");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const _ = e=>{
            const t = t=>{
                const {wrappedComponentRef: r} = t
                  , n = (0,
                o.Z)(t, ["wrappedComponentRef"]);
                return s.createElement(c.ws.Consumer, null, t=>s.createElement(e, (0,
                a.Z)({}, n, t, {
                    ref: r
                })))
            }
            ;
            return t.WrappedComponent = e,
            i()(t, e)
        }
          , l = _
          , d = l;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(_, "withStemsClient", "/home/vsts/work/1/s/src/contexts/stems/hoc.tsx"),
            e.register(l, "default", "/home/vsts/work/1/s/src/contexts/stems/hoc.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    d92624744e8fb7e743e8: (e,t,r)=>{
        "use strict";
        r.d(t, {
            nZ: ()=>a.ZP,
            E9: ()=>o.Z,
            o9: ()=>s.o
        });
        var a = r("661f68c254b5c15c9d92")
          , o = r("7c5fda3b28a2cb9d3bf6")
          , s = r("4e1fab892d8fe6fce890");
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature
    }
    ,
    "661f68c254b5c15c9d92": (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            ws: ()=>StemsContext,
            ZP: ()=>__WEBPACK_DEFAULT_EXPORT__
        });
        var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("990057777e9b2b7543e8"), _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("de098c4daf91477f9cbc"), react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("8af190b70a6bc55c6f1b"), _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("8a5d22dd0b24a6092d3e"), _webusb__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("f60aef9fa88f4e9ce07a"), _account__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("ad21e61587d47603cd1c"), _utils_backOffRetry__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("557b135c7198835d5410"), _utils_downloads__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("ae7c73bc2a0288473236"), _dec, _class, _temp;
        function ownKeys(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var a = Object.getOwnPropertySymbols(e);
                t && (a = a.filter(function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                })),
                r.push.apply(r, a)
            }
            return r
        }
        function _objectSpread(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = null != arguments[t] ? arguments[t] : {};
                t % 2 ? ownKeys(Object(r), !0).forEach(function(t) {
                    (0,
                    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e, t, r[t])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : ownKeys(Object(r)).forEach(function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                })
            }
            return e
        }
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const StemsContext = react__WEBPACK_IMPORTED_MODULE_1__.createContext({})
          , unixTimeAsJSDate = e=>new Date(1e3 * e);
        let StemsProvider = (_dec = (0,
        _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_2__.j)({
            module: "stems_provider"
        }),
        _dec((_temp = class StemsProvider extends react__WEBPACK_IMPORTED_MODULE_1__.PureComponent {
            constructor(e) {
                var t;
                super(e),
                t = this,
                this.apiUrl = void 0,
                this.cachedWaveform = void 0,
                this.cachedPresignedUrl = void 0,
                this.fetchAndDownloadLatestStems = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(function*(e, r, a, o, s) {
                        const n = yield t.getLatestStems(e, r, a, o, s, !0);
                        return t.downloadStems(n.stems, s)
                    });
                    return function(t, r, a, o, s) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getTrackMix = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(function*(e, r, a, o) {
                        const {webUSBClient: {deviceInfo: s, authenticateDevice: n}, accountClient: {session: i, basicSession: c}} = t.props;
                        try {
                            let _, l = void 0;
                            if (i)
                                l = {
                                    Authorization: `bearer ${i.AccessToken}`
                                };
                            else if (s) {
                                const e = yield n();
                                l = {
                                    Authorization: `bearer ${e}`
                                }
                            } else
                                c && (l = {
                                    Authorization: `Basic ${c.AuthToken}`
                                });
                            const d = yield(0,
                            _utils_backOffRetry__WEBPACK_IMPORTED_MODULE_5__.Z)((0,
                            _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(function*() {
                                return fetch(`${t.apiUrl}/tracks/${e}?version=${r}&codec=${a}`, {
                                    signal: o,
                                    headers: l
                                })
                            }), {
                                functionName: "getTrackMix"
                            });
                            _ = yield d.json();
                            const {data: u} = _;
                            return u.file
                        } catch (t) {
                            throw console.log(t),
                            new Error(`Failed to get track ${e}`)
                        }
                    });
                    return function(t, r, a, o) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getTracksMixes = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(function*(e, r) {
                        const {webUSBClient: {deviceInfo: a, authenticateDevice: o}, accountClient: {session: s, basicSession: n}} = t.props;
                        try {
                            let i = void 0;
                            if (s)
                                i = {
                                    Authorization: `bearer ${s.AccessToken}`
                                };
                            else if (a) {
                                const e = yield o();
                                i = {
                                    Authorization: `bearer ${e}`
                                }
                            } else
                                n && (i = {
                                    Authorization: `Basic ${n.AuthToken}`
                                });
                            const c = yield(0,
                            _utils_backOffRetry__WEBPACK_IMPORTED_MODULE_5__.Z)((0,
                            _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(function*() {
                                return fetch(`${t.apiUrl}/tracks`, {
                                    method: "POST",
                                    signal: r,
                                    headers: i,
                                    body: JSON.stringify(e)
                                })
                            }), {
                                functionName: "getTracksMixes"
                            });
                            return (yield c.json()).data
                        } catch (e) {
                            throw console.log(e),
                            new Error("Failed to get tracks")
                        }
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getLatestStems = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(function*(e, r, a, o, s, n=!1) {
                        const {webUSBClient: {deviceInfo: i, authenticateDevice: c}} = t.props;
                        try {
                            const _ = t.getCachedPresignedUrl(e, r, a);
                            if (null !== _ && !1 === n)
                                return _.json.data;
                            const l = `${t.apiUrl}/stems?track_id=${e}&version=${r}&codec=${a}${!0 === n ? "&profile=stemplayer" : "&profile=web"}`;
                            let d = void 0;
                            if (o || t.props.accountClient.session)
                                d = {
                                    Authorization: `bearer ${t.props.accountClient.session.AccessToken}`
                                };
                            else if (i) {
                                const e = yield c();
                                d = {
                                    Authorization: `bearer ${e}`
                                }
                            }
                            const u = yield(0,
                            _utils_backOffRetry__WEBPACK_IMPORTED_MODULE_5__.Z)((0,
                            _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(function*() {
                                return fetch(l, {
                                    headers: d,
                                    signal: s
                                })
                            }), {
                                functionName: "getLatestStems"
                            })
                              , f = yield u.json();
                            return !1 === n && t.updatePresignedUrl(e, r, a, f),
                            f.data
                        } catch (t) {
                            throw new Error(`Failed to get stem track ${e}`)
                        }
                    });
                    return function(t, r, a, o, s) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getMultipleTracksStems = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(function*(e, r, a) {
                        const {webUSBClient: {deviceInfo: o, authenticateDevice: s}, accountClient: {session: n, basicSession: i}} = t.props;
                        try {
                            const n = {};
                            for (let r in e) {
                                var c;
                                if (null === t.getCachedPresignedUrl(r, e[r].version, e[r].codec))
                                    n[r] = {
                                        version: e[r].version,
                                        codec: e[r].codec,
                                        profile: null !== (c = e[r].profile) && void 0 !== c ? c : "web"
                                    }
                            }
                            if (Object.keys(n).length > 0) {
                                let e = void 0;
                                if (r || t.props.accountClient.session)
                                    e = {
                                        Authorization: `bearer ${t.props.accountClient.session.AccessToken}`
                                    };
                                else if (o) {
                                    const t = yield s();
                                    e = {
                                        Authorization: `bearer ${t}`
                                    }
                                }
                                const i = yield(0,
                                _utils_backOffRetry__WEBPACK_IMPORTED_MODULE_5__.Z)((0,
                                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(function*() {
                                    return fetch(`${t.apiUrl}/stems`, {
                                        method: "POST",
                                        signal: a,
                                        headers: e,
                                        body: JSON.stringify(n)
                                    })
                                }), {
                                    functionName: "getMultipleTracksStems"
                                })
                                  , c = yield i.json();
                                for (let e in n)
                                    c.data[e] && t.updatePresignedUrl(e, n[e].version, n[e].codec, {
                                        data: c.data[e]
                                    })
                            }
                            const i = {};
                            for (let r in e) {
                                const a = t.getCachedPresignedUrl(r, e[r].version, e[r].codec);
                                null !== a && (i[r] = a.json.data)
                            }
                            return i
                        } catch (e) {
                            throw console.log(e),
                            new Error("Failed to get tracks")
                        }
                    });
                    return function(t, r, a) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getCachedPresignedUrlId = ((e,t,r)=>`${e}_${t}_${r}`),
                this.getCachedPresignedUrl = ((e,t,r)=>{
                    const a = this.getCachedPresignedUrlId(e, t, r)
                      , o = this.cachedPresignedUrl[a];
                    return o ? this.isPresignUrlExpired(o.expires) ? null : o : null
                }
                ),
                this.updatePresignedUrl = ((e,t,r,a)=>{
                    try {
                        const o = new URL(a.data.stems.vocals)
                          , s = new URLSearchParams(o.search).get("Expires")
                          , n = this.getCachedPresignedUrlId(e, t, r)
                          , i = {
                            expires: 1 * s,
                            trackId: e,
                            version: t,
                            codec: r,
                            json: a
                        };
                        this.cachedPresignedUrl[n] = i
                    } catch (e) {
                        console.error(e)
                    }
                }
                ),
                this.isPresignUrlExpired = (e=>{
                    return unixTimeAsJSDate(e) < new Date
                }
                ),
                this.getWaveformData = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(function*(e, r, a, o) {
                        const {webUSBClient: {deviceInfo: s, authenticateDevice: n}} = t.props;
                        try {
                            let i;
                            if (r && null !== (i = t.getCachedWaveform(r)))
                                return i;
                            const c = `${e}`;
                            let _ = void 0;
                            if (a || t.props.accountClient.session)
                                _ = {
                                    Authorization: `bearer ${t.props.accountClient.session.AccessToken}`
                                };
                            else if (s) {
                                const e = yield n();
                                _ = {
                                    Authorization: `bearer ${e}`
                                }
                            }
                            const l = yield(0,
                            _utils_backOffRetry__WEBPACK_IMPORTED_MODULE_5__.Z)((0,
                            _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(function*() {
                                return fetch(c, {
                                    headers: _,
                                    signal: o
                                })
                            }), {
                                functionName: "getWaveformData"
                            })
                              , d = yield l.json();
                            return r && t.updateCachedWaveform(r, e, d),
                            d
                        } catch (t) {
                            throw console.error(t),
                            new Error(`Failed to get waveform ${e}, ${t}`)
                        }
                    });
                    return function(t, r, a, o) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getMultipleWaveformData = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(function*(e, r) {
                        const {webUSBClient: {deviceInfo: a, authenticateDevice: o}} = t.props
                          , s = "https://d1qsqh3utn6cwx.cloudfront.net/waveform-data.json";
                        try {
                            let n = void 0;
                            if (e || t.props.accountClient.session)
                                n = {
                                    Authorization: `bearer ${t.props.accountClient.session.AccessToken}`
                                };
                            else if (a) {
                                const e = yield o();
                                n = {
                                    Authorization: `bearer ${e}`
                                }
                            }
                            const i = yield(0,
                            _utils_backOffRetry__WEBPACK_IMPORTED_MODULE_5__.Z)((0,
                            _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(function*() {
                                return fetch(s, {
                                    headers: n,
                                    signal: r
                                })
                            }), {
                                functionName: "getMultipleWaveformData"
                            })
                              , c = yield i.json();
                            t.addDataIntoCache("stemplayer", s, JSON.stringify(c));
                            for (const e in c)
                                t.updateCachedWaveform(e, null, c[e]);
                            return c
                        } catch (e) {
                            throw new Error(`Failed to get waveform ${s}, ${e}`)
                        }
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.downloadStems = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(function*({vocals: e, bass: r, drums: a, other: o}, s) {
                        const {tracking: {trackEvent: n}} = t.props
                          , i = Date.now()
                          , c = yield Promise.all([(0,
                        _utils_downloads__WEBPACK_IMPORTED_MODULE_6__.S)(e, "vocals", s), (0,
                        _utils_downloads__WEBPACK_IMPORTED_MODULE_6__.S)(r, "bass", s), (0,
                        _utils_downloads__WEBPACK_IMPORTED_MODULE_6__.S)(a, "drums", s), (0,
                        _utils_downloads__WEBPACK_IMPORTED_MODULE_6__.S)(o, "other", s)])
                          , _ = {
                            vocals: c[0],
                            bass: c[1],
                            drums: c[2],
                            other: c[3]
                        };
                        return n({
                            event: "download_stems_complete",
                            data: {
                                time: Date.now() - i
                            }
                        }),
                        _
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getLatestAlbumStemVersion = ((e,t)=>{
                    const r = t.tracks.find(t=>t.id === e.global_id);
                    return r ? r.stems_version : e.stems_version
                }
                ),
                this.getSizeOfStems = (e=>{
                    const {webUSBClient: {getDeviceFileSize: t}} = this.props;
                    return t(e.bass) + t(e.drums) + t(e.other) + t(e.vocals)
                }
                ),
                this.hasSpaceForStems = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(function*(e, r) {
                        const {webUSBClient: {getRemainingSize: a}, tracking: {trackEvent: o}} = t.props
                          , s = t.getSizeOfStems(e)
                          , n = (yield a()) > s;
                        return n || o({
                            event: "device_full_during_update_restore",
                            data: {
                                trackTitle: r
                            }
                        }),
                        n
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getCachedWaveform = (e=>e && void 0 !== this.cachedWaveform[e] ? this.cachedWaveform[e] : null),
                this.updateCachedWaveform = ((e,t,r)=>{
                    e && (this.cachedWaveform[e] = r,
                    null !== t && this.addDataIntoCache("stemplayer", t, JSON.stringify(r)))
                }
                ),
                this.addDataIntoCache = ((e,t,r)=>{
                    const a = new Response(r);
                    "caches"in window && caches.open(e).then(e=>e.put(t, a))
                }
                ),
                this.apiUrl = `${e.config.KB_STEMIFY_API_URL}/content`,
                this.cachedWaveform = {},
                this.cachedPresignedUrl = {},
                this.getMultipleWaveformData()
            }
            render() {
                const e = {
                    stemsClient: _objectSpread(_objectSpread({}, {
                        fetchAndDownloadLatestStems: this.fetchAndDownloadLatestStems,
                        getLatestStems: this.getLatestStems,
                        getMultipleTracksStems: this.getMultipleTracksStems,
                        getWaveformData: this.getWaveformData,
                        downloadStems: this.downloadStems,
                        getLatestAlbumStemVersion: this.getLatestAlbumStemVersion,
                        getSizeOfStems: this.getSizeOfStems,
                        hasSpaceForStems: this.hasSpaceForStems,
                        getTrackMix: this.getTrackMix,
                        getTracksMixes: this.getTracksMixes
                    }), this.state)
                };
                return react__WEBPACK_IMPORTED_MODULE_1__.createElement(StemsContext.Provider, {
                    value: e
                }, this.props.children)
            }
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        ,
        _class = _temp)) || _class);
        const __TEST__StemsProvider = StemsProvider
          , _default = (0,
        _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_2__.j)({
            module: "stems_provider"
        })((0,
        _webusb__WEBPACK_IMPORTED_MODULE_3__.MM)((0,
        _account__WEBPACK_IMPORTED_MODULE_4__.o)(StemsProvider)))
          , __WEBPACK_DEFAULT_EXPORT__ = _default;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(StemsContext, "StemsContext", "/home/vsts/work/1/s/src/contexts/stems/stems-context.tsx"),
            e.register(unixTimeAsJSDate, "unixTimeAsJSDate", "/home/vsts/work/1/s/src/contexts/stems/stems-context.tsx"),
            e.register(StemsProvider, "StemsProvider", "/home/vsts/work/1/s/src/contexts/stems/stems-context.tsx"),
            e.register(__TEST__StemsProvider, "__TEST__StemsProvider", "/home/vsts/work/1/s/src/contexts/stems/stems-context.tsx"),
            e.register(_default, "default", "/home/vsts/work/1/s/src/contexts/stems/stems-context.tsx"))
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    "4e1fab892d8fe6fce890": (e,t,r)=>{
        "use strict";
        r.d(t, {
            o: ()=>o
        });
        var a = r("de098c4daf91477f9cbc");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const o = function() {
            var e = (0,
            a.Z)(function*(e, t, r, a) {
                const o = e.findIndex(e=>{
                    return (e.id ? e.id : e.global_id) === t
                }
                );
                r = r % 2 == 1 ? r + 1 : r;
                const s = o - Math.floor(r / 2)
                  , n = [...Array(r + 1).keys()].map(e=>e + s).map(t=>t < 0 ? e.length + t < 0 ? -1 : e.length + t : t > e.length - 1 ? -e.length + t > e.length - 1 ? -1 : -e.length + t : t === o ? -1 : t).filter((e,t,r)=>r.indexOf(e) == t)
                  , i = {} || {};
                n.forEach(t=>{
                    -1 !== t && (i[e[t].id] = {
                        version: e[t].version,
                        codec: "mp3"
                    })
                }
                ),
                a.getMultipleTracksStems(i)
            });
            return function(t, r, a, o) {
                return e.apply(this, arguments)
            }
        }();
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && e.register(o, "fetchPresignedUrl", "/home/vsts/work/1/s/src/contexts/stems/utils.ts")
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    cc568cf4493256150123: (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>d
        });
        var a = r("cc5a1791ca69c601dde3")
          , o = r("b02a35033e7f8e6fa1e0")
          , s = r("8af190b70a6bc55c6f1b")
          , n = r("9a38c66934fd9dbd5f9c")
          , i = r("5ef9de3df8d92ea0e41c")
          , c = r.n(i);
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const _ = e=>{
            const t = t=>{
                const {wrappedComponentRef: r} = t
                  , i = (0,
                o.Z)(t, ["wrappedComponentRef"]);
                return s.createElement(n.Rg.Consumer, null, t=>s.createElement(e, (0,
                a.Z)({}, i, t, {
                    ref: r
                })))
            }
            ;
            return t.WrappedComponent = e,
            c()(t, e)
        }
          , l = _
          , d = l;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(_, "withTrackApiClient", "/home/vsts/work/1/s/src/contexts/trackapi/hoc.tsx"),
            e.register(l, "default", "/home/vsts/work/1/s/src/contexts/trackapi/hoc.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "09e5b40f0abea70b7ff4": (e,t,r)=>{
        "use strict";
        r.d(t, {
            G: ()=>a.ZP,
            j: ()=>o.Z
        });
        var a = r("9a38c66934fd9dbd5f9c")
          , o = r("cc568cf4493256150123");
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature
    }
    ,
    "9a38c66934fd9dbd5f9c": (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            Rg: ()=>TrackApiContext,
            ZP: ()=>__WEBPACK_DEFAULT_EXPORT__
        });
        var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("990057777e9b2b7543e8")
          , _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("de098c4daf91477f9cbc")
          , react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("8af190b70a6bc55c6f1b")
          , _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("8a5d22dd0b24a6092d3e")
          , _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("2f0f179fdd043e994433")
          , _stems__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("d92624744e8fb7e743e8")
          , _utils_ids__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("a251fa0b0449b11ba1dd")
          , _utils_colors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("c90b79b40c6328f03c9e")
          , _utils_misc__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("a60417c8351c73d4238a")
          , _utils_downloads__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("ae7c73bc2a0288473236")
          , _utils_api_request_pagination__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("1cbf6a093bab4cc54764");
        function ownKeys(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var a = Object.getOwnPropertySymbols(e);
                t && (a = a.filter(function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                })),
                r.push.apply(r, a)
            }
            return r
        }
        function _objectSpread(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = null != arguments[t] ? arguments[t] : {};
                t % 2 ? ownKeys(Object(r), !0).forEach(function(t) {
                    (0,
                    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e, t, r[t])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : ownKeys(Object(r)).forEach(function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                })
            }
            return e
        }
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const TrackApiContext = react__WEBPACK_IMPORTED_MODULE_1__.createContext({});
        class TrackApiProvider extends react__WEBPACK_IMPORTED_MODULE_1__.PureComponent {
            constructor(e) {
                var t;
                super(e),
                t = this,
                this.apiUrl = void 0,
                this.platformUrl = void 0,
                this.activeRequests = void 0,
                this.getRecordingById = (e=>this.state.recordings.find(t=>t.id === e)),
                this.setRecordings = (e=>{
                    this.state.recordings.some(t=>t.id === e.id) || this.setState({
                        recordings: [...this.state.recordings, e]
                    })
                }
                ),
                this.setTracksLoading = (e=>{
                    this.setState({
                        tracksLoading: e
                    })
                }
                ),
                this.setUserLibraryTracksLoading = (e=>{
                    this.setState({
                        userLibraryTracksLoading: e
                    })
                }
                ),
                this.createAudioUpload = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*(e, r) {
                        const a = yield fetch(`${t.apiUrl}/audio-uploads`, {
                            method: "POST",
                            signal: e,
                            body: JSON.stringify(r)
                        });
                        return (yield a.json()).data
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.uploadFile = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*(e, t, r) {
                        if (200 !== (yield fetch(e, {
                            method: "PUT",
                            body: t,
                            headers: {
                                "Content-Type": ""
                            },
                            signal: r
                        })).status)
                            throw new Error("Failed to upload file")
                    });
                    return function(t, r, a) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.createTrack = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*(e, r, a) {
                        let o = {
                            method: "POST",
                            body: e.audio_file_ids ? JSON.stringify({
                                audio_file_ids: e.audio_file_ids,
                                fallback_track_title: e.fallback_track_title
                            }) : JSON.stringify(e),
                            signal: a
                        };
                        r && (o.headers = {
                            Authorization: `bearer ${r}`
                        });
                        const s = yield fetch(`${t.apiUrl}/track-creator/tracks`, o)
                          , n = yield s.json();
                        if (!s.ok) {
                            if (422 === s.status && n.error && ("invalid link" === n.error.message || "track download error" === n.error.message))
                                throw new Error("Invalid link");
                            if (422 === s.status && "video geo-restricted" === n.error.message)
                                throw new Error("Invalid link: video geo-restricted");
                            if (422 === s.status)
                                throw new Error("Track is too long");
                            try {
                                const e = yield s.json();
                                throw new Error(e.error.message)
                            } catch (e) {
                                throw new Error("Stemifying failed")
                            }
                        }
                        if (n.error)
                            throw new Error(n.error.message);
                        return n.data
                    });
                    return function(t, r, a) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getTracks = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*(e, r) {
                        try {
                            const a = [];
                            for (let r of e) {
                                null === t.getCachedPresignedUrl(r) && 0 === a.filter(e=>e === r).length && a.push(r)
                            }
                            const o = `${t.apiUrl}/track-creator/tracks?`
                              , s = (0,
                            _utils_api_request_pagination__WEBPACK_IMPORTED_MODULE_9__.T)(a, o, 4094)
                              , n = {}
                              , i = {};
                            yield Promise.all(s.map(function() {
                                var e = (0,
                                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*(e) {
                                    if (Object.keys(e.items).length > 0) {
                                        const a = yield fetch(e.url, {
                                            signal: r
                                        });
                                        if (!a.ok)
                                            throw new Error(`Unable to download track(s) (Status: ${a.status})`);
                                        const o = yield a.json();
                                        for (let r of e.items)
                                            o.data[r] && ("ready" === o.data[r].status || o.data[r].error && o.data[r].error && 400 === o.data[r].error.code ? t.updatePresignedUrl(r, o.data[r]) : i[r] = o.data[r])
                                    }
                                });
                                return function(t) {
                                    return e.apply(this, arguments)
                                }
                            }()));
                            for (let r of e) {
                                const e = t.getCachedPresignedUrl(r);
                                null !== e ? n[r] = e : i[r] && (n[r] = i[r])
                            }
                            return n
                        } catch (e) {
                            throw new Error(`Failed to get tracks: ${e}`)
                        }
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.cachedPresignedUrl = void 0,
                this.getCachedPresignedUrlId = (e=>`${e}`),
                this.getCachedPresignedUrl = (e=>{
                    const t = this.getCachedPresignedUrlId(e)
                      , r = this.cachedPresignedUrl[t];
                    return r || null
                }
                ),
                this.updatePresignedUrl = ((e,t)=>{
                    try {
                        const r = this.getCachedPresignedUrlId(e);
                        this.cachedPresignedUrl[r] = t
                    } catch (e) {
                        console.error(e)
                    }
                }
                ),
                this.getReadyTrack = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*(e, r, a) {
                        return new Promise((o,s)=>{
                            const n = ()=>{
                                setTimeout((0,
                                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*() {
                                    try {
                                        const i = (yield t.getTracks([e], a))[e];
                                        if ("ready" === i.status) {
                                            if (!r || t.trackHasHighQualityStems(i))
                                                return o(i);
                                            n()
                                        } else if ("failed" === i.status) {
                                            let e = "Failed to stemify";
                                            throw i.errors && i.errors.length > 0 && i.errors[0].message && (e = i.errors[0].message),
                                            new Error(e)
                                        }
                                        n()
                                    } catch (e) {
                                        return s(e)
                                    }
                                }), 1e3)
                            }
                            ;
                            n()
                        }
                        )
                    });
                    return function(t, r, a) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.createTrackFromMultiFiles = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*(e, r, a, o) {
                        const s = e[0].name.replace(/\.\w+$/i, "");
                        let n = ["vocals", "drums", "bass", "other"];
                        const i = new AbortController
                          , c = e.every(e=>e.name.match(/\.mp3$/i)) ? "mp3" : "wav"
                          , _ = {};
                        let l = {};
                        for (let a = 0; a < e.length; a++) {
                            const o = n[a]
                              , s = e[a];
                            r("Uploading");
                            try {
                                const {audio_file_id: e, upload_url: r} = yield t.createAudioUpload(i.signal);
                                yield t.uploadFile(r, s, i.signal),
                                _[o] = e
                            } catch (e) {
                                console.log("err", e)
                            }
                        }
                        try {
                            const e = yield t.createTrack({
                                stem_codec: c,
                                fallback_track_title: s,
                                audio_file_ids: _
                            }, a, i.signal)
                              , {id: r} = e
                              , {stems: n} = yield t.getReadyTrack(r, o, i.signal)
                              , d = t.state.userLibraryTrackIds.some(e=>e == r);
                            if (d)
                                throw new Error("Duplicate Track");
                            !d && a && t.addTrackToUserLibrary([r], a),
                            l = {
                                id: r,
                                stems: n
                            }
                        } catch (e) {
                            console.log("error", e)
                        }
                        return {
                            vocals: e[0],
                            bass: e[1],
                            drums: e[2],
                            other: e[3],
                            id: l.id,
                            album: "Other",
                            artist: "Other",
                            title: (0,
                            _utils_misc__WEBPACK_IMPORTED_MODULE_7__.BS)(s, _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.Kz),
                            bpm: 90,
                            colors: [(0,
                            _utils_colors__WEBPACK_IMPORTED_MODULE_6__.lY)(), (0,
                            _utils_colors__WEBPACK_IMPORTED_MODULE_6__.lY)()]
                        }
                    });
                    return function(t, r, a, o) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.createTrackFromFile = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*(e, r, a, o, s, n) {
                        const {stemsClient: {downloadStems: i}} = t.props
                          , c = (0,
                        _utils_ids__WEBPACK_IMPORTED_MODULE_5__.T)();
                        t.startActiveRequest(c);
                        const _ = new AbortController;
                        let l = !1;
                        a && a(()=>{
                            _.abort(),
                            l = !0
                        }
                        ),
                        r && r("Splitting");
                        try {
                            const {audio_file_id: a, upload_url: d} = yield t.createAudioUpload(_.signal);
                            yield t.uploadFile(d, e, _.signal);
                            const u = yield t.createTrack({
                                audio_file_id: a,
                                stem_codec: "mp3",
                                fallback_track_title: e.name
                            }, o, _.signal)
                              , {id: f} = u
                              , {metadata: {album: m, artist: h, duration: p, title: b, bpm: v}, stems: E} = yield t.getReadyTrack(f, s, _.signal);
                            if (l)
                                throw new Error("Cancelled");
                            const g = t.state.userLibraryTrackIds.some(e=>e == f);
                            if (!n && g)
                                throw new Error("Duplicate Track");
                            !g && o && t.addTrackToUserLibrary([f], o),
                            r && r("Importing");
                            const y = yield i(E, _.signal);
                            return _objectSpread(_objectSpread({
                                id: f,
                                album: m,
                                artist: (0,
                                _utils_misc__WEBPACK_IMPORTED_MODULE_7__.BS)(h, _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.h1),
                                duration: p,
                                title: (0,
                                _utils_misc__WEBPACK_IMPORTED_MODULE_7__.BS)(b || e.name, _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.Kz),
                                bpm: v
                            }, y), {}, {
                                colors: [(0,
                                _utils_colors__WEBPACK_IMPORTED_MODULE_6__.lY)(), (0,
                                _utils_colors__WEBPACK_IMPORTED_MODULE_6__.lY)()]
                            })
                        } catch (e) {
                            if (e.name && "AbortError" === e.name)
                                throw new Error("Cancelled");
                            throw e
                        } finally {
                            t.endActiveRequest(c)
                        }
                    });
                    return function(t, r, a, o, s, n) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.setUserLibraryTrackIds = (e=>{
                    this.setState({
                        userLibraryTrackIds: e
                    })
                }
                ),
                this.createTrackFromLink = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*(e, r, a, o, s) {
                        const {stemsClient: {downloadStems: n}} = t.props
                          , i = (0,
                        _utils_ids__WEBPACK_IMPORTED_MODULE_5__.T)();
                        t.startActiveRequest(i);
                        const c = new AbortController;
                        let _ = !1;
                        a && a(()=>{
                            c.abort(),
                            _ = !0
                        }
                        ),
                        r && r("Splitting");
                        try {
                            const a = yield t.createTrack({
                                link: e,
                                stem_codec: "mp3"
                            }, o, c.signal);
                            let l = null;
                            const {id: d} = a
                              , u = t.state.userLibraryTrackIds.some(e=>e == d);
                            if (u)
                                throw new Error("Duplicate Track");
                            "ready" !== a.status ? l = yield t.getReadyTrack(d, s, c.signal) : (l = a,
                            s && !t.trackHasHighQualityStems(l) && (l = yield t.getReadyTrack(d, s, c.signal)));
                            const {metadata: {album: f, artist: m, duration: h, title: p, bpm: b}, stems: v} = l;
                            if (_)
                                throw new Error("Cancelled");
                            !u && o && t.addTrackToUserLibrary([d], o),
                            r && r("Importing");
                            const E = yield n(v, c.signal);
                            return _objectSpread(_objectSpread({
                                id: d,
                                album: f,
                                artist: (0,
                                _utils_misc__WEBPACK_IMPORTED_MODULE_7__.BS)(m, _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.h1),
                                duration: h,
                                title: (0,
                                _utils_misc__WEBPACK_IMPORTED_MODULE_7__.BS)(p, _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.Kz),
                                bpm: b
                            }, E), {}, {
                                colors: [(0,
                                _utils_colors__WEBPACK_IMPORTED_MODULE_6__.lY)(), (0,
                                _utils_colors__WEBPACK_IMPORTED_MODULE_6__.lY)()],
                                metadata: l.metadata
                            })
                        } catch (e) {
                            if (e.name && "AbortError" === e.name)
                                throw new Error("Cancelled");
                            throw e
                        } finally {
                            t.endActiveRequest(i)
                        }
                    });
                    return function(t, r, a, o, s) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.addTrackToUserLibrary = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*(e, r) {
                        const a = {
                            trackList: []
                        };
                        for (const t of e)
                            a.trackList.push({
                                track_id: t
                            });
                        const o = {
                            error: null
                        };
                        try {
                            const e = yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/user-library`, {
                                method: "POST",
                                headers: {
                                    Authorization: `bearer ${r}`
                                },
                                body: JSON.stringify(a)
                            });
                            return e.ok ? (yield e.json(),
                            o) : (o.error = "Upload failed. Please try again later.",
                            o)
                        } catch (e) {
                            return o.error = "Upload failed. Please try again later.",
                            o
                        }
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getUserAccountTracks = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*(e) {
                        const r = {
                            error: null
                        };
                        try {
                            const a = yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/user-library`, {
                                method: "GET",
                                headers: {
                                    Authorization: `bearer ${e}`
                                }
                            });
                            if (!a.ok)
                                return r.error = "Failed to fetch library.",
                                console.error(r),
                                [];
                            const o = (yield a.json()).data.filter(e=>["02", "03"].includes(e.track_id.slice(0, 2)))
                              , s = o.map(e=>e.track_id);
                            return 0 === s.length ? [] : (t.setState({
                                userLibraryTrackIds: s
                            }),
                            o)
                        } catch (e) {
                            return r.error = "Failed to fetch library.",
                            console.error(r),
                            []
                        }
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.deleteUserAccountTracks = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*(e, r) {
                        const a = {
                            trackList: e
                        }
                          , o = {
                            error: null
                        };
                        try {
                            const e = yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/user-library`, {
                                method: "DELETE",
                                headers: {
                                    Authorization: `bearer ${r}`
                                },
                                body: JSON.stringify(a)
                            });
                            return e.ok ? (yield e.json(),
                            o) : (o.error = "Delete failed. Please try again later.",
                            o)
                        } catch (e) {
                            return o.error = "Delete failed. Please try again later.",
                            o
                        }
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.createStem = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*(e) {
                        return fetch(`${t.apiUrl}/stems`, {
                            method: "POST",
                            body: JSON.stringify({
                                audio_file_id: e
                            })
                        }).then(e=>e.json()).then(e=>e.data).catch(e=>{
                            throw e
                        }
                        )
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getStem = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*(e) {
                        return fetch(`${t.apiUrl}/stems/${e}`, {}).then(e=>e.json()).then(e=>e.data).catch(e=>{
                            throw e
                        }
                        )
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getReadyStem = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*(e) {
                        return new Promise((r,a)=>{
                            const o = ()=>setTimeout((0,
                            _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*() {
                                try {
                                    const s = yield t.getStem(e);
                                    if (s.no_change || "ready" === s.status)
                                        return r(s);
                                    o()
                                } catch (e) {
                                    return a(e)
                                }
                            }), 1e3);
                            o()
                        }
                        )
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.createStemFromFile = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*(e, r, a) {
                        const o = (0,
                        _utils_ids__WEBPACK_IMPORTED_MODULE_5__.T)();
                        t.startActiveRequest(o),
                        a && a("Mastering");
                        try {
                            const {audio_file_id: s, upload_url: n} = yield t.createAudioUpload();
                            yield t.uploadFile(n, e);
                            const i = yield t.createStem(s)
                              , {url: c, no_change: _} = yield t.getReadyStem(i.id);
                            if (a && a("Importing"),
                            _)
                                return t.endActiveRequest(o),
                                null;
                            const l = yield(0,
                            _utils_downloads__WEBPACK_IMPORTED_MODULE_8__.S)(c, r);
                            return t.endActiveRequest(o),
                            l
                        } catch (e) {
                            throw e
                        }
                    });
                    return function(t, r, a) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.startActiveRequest = (e=>{
                    this.activeRequests.add(e),
                    this.state.trackApiActive || this.setState({
                        trackApiActive: !0
                    })
                }
                ),
                this.endActiveRequest = (e=>{
                    this.activeRequests.delete(e),
                    this.state.trackApiActive && 0 === this.activeRequests.size && this.setState({
                        trackApiActive: !1
                    })
                }
                ),
                this.trackHasHighQualityStems = (e=>{
                    var t;
                    return !(null === (t = e.stem_variants) || void 0 === t || !t.find(e=>"demucs" === e.splitting_source.toLowerCase()))
                }
                ),
                this.apiUrl = e.config.KB_STEMIFY_API_URL,
                this.platformUrl = e.config.KB_APP_URL,
                this.activeRequests = new Set,
                this.state = {
                    trackApiActive: !1,
                    recordings: [],
                    tracksLoading: !0,
                    userLibraryTracksLoading: !0,
                    userLibraryTrackIds: []
                },
                this.cachedPresignedUrl = {}
            }
            render() {
                const e = {
                    trackApiClient: _objectSpread(_objectSpread({}, {
                        createStemFromFile: this.createStemFromFile,
                        createTrackFromFile: this.createTrackFromFile,
                        createTrackFromMultiFiles: this.createTrackFromMultiFiles,
                        createTrackFromLink: this.createTrackFromLink,
                        getTracks: this.getTracks,
                        setTracksLoading: this.setTracksLoading,
                        setUserLibraryTracksLoading: this.setUserLibraryTracksLoading,
                        getUserAccountTracks: this.getUserAccountTracks,
                        deleteUserAccountTracks: this.deleteUserAccountTracks,
                        setUserLibraryTrackIds: this.setUserLibraryTrackIds
                    }), this.state)
                };
                return react__WEBPACK_IMPORTED_MODULE_1__.createElement(TrackApiContext.Provider, {
                    value: e
                }, this.props.children)
            }
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        const __TEST__TrackApiProvider = TrackApiProvider
          , _default = (0,
        _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_2__.j)({
            module: "track_api"
        })((0,
        _stems__WEBPACK_IMPORTED_MODULE_4__.E9)(TrackApiProvider))
          , __WEBPACK_DEFAULT_EXPORT__ = _default;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(TrackApiContext, "TrackApiContext", "/home/vsts/work/1/s/src/contexts/trackapi/track-api-context.tsx"),
            e.register(TrackApiProvider, "TrackApiProvider", "/home/vsts/work/1/s/src/contexts/trackapi/track-api-context.tsx"),
            e.register(__TEST__TrackApiProvider, "__TEST__TrackApiProvider", "/home/vsts/work/1/s/src/contexts/trackapi/track-api-context.tsx"),
            e.register(_default, "default", "/home/vsts/work/1/s/src/contexts/trackapi/track-api-context.tsx"))
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    "62c5c68fae4c59b9a093": (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>d
        });
        var a = r("cc5a1791ca69c601dde3")
          , o = r("b02a35033e7f8e6fa1e0")
          , s = r("8af190b70a6bc55c6f1b")
          , n = r("5ef9de3df8d92ea0e41c")
          , i = r.n(n)
          , c = r("c8274a236c515829d380");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const _ = e=>{
            const t = t=>{
                const {wrappedComponentRef: r} = t
                  , n = (0,
                o.Z)(t, ["wrappedComponentRef"]);
                return s.createElement(c.w.Consumer, null, t=>s.createElement(e, (0,
                a.Z)({}, n, t, {
                    ref: r
                })))
            }
            ;
            return t.WrappedComponent = e,
            i()(t, e)
        }
          , l = _
          , d = l;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(_, "withViewManagerClient", "/home/vsts/work/1/s/src/contexts/view-manager/hoc.tsx"),
            e.register(l, "default", "/home/vsts/work/1/s/src/contexts/view-manager/hoc.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "3e17aee31846974e528a": (e,t,r)=>{
        "use strict";
        r.d(t, {
            d: ()=>a.Z,
            q: ()=>o.Z
        });
        var a = r("c8274a236c515829d380")
          , o = r("62c5c68fae4c59b9a093");
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature
    }
    ,
    c8274a236c515829d380: (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            w: ()=>ViewManagerContext,
            Z: ()=>__WEBPACK_DEFAULT_EXPORT__
        });
        var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("990057777e9b2b7543e8")
          , react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("8af190b70a6bc55c6f1b")
          , react_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("395ade0bdd7d87af2885")
          , _utils_promises__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("971fd0ff834a938d5a3d")
          , uuid_v4__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("c7b40aca13c4330396a9")
          , uuid_v4__WEBPACK_IMPORTED_MODULE_3___default = __webpack_require__.n(uuid_v4__WEBPACK_IMPORTED_MODULE_3__);
        function ownKeys(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var a = Object.getOwnPropertySymbols(e);
                t && (a = a.filter(function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                })),
                r.push.apply(r, a)
            }
            return r
        }
        function _objectSpread(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = null != arguments[t] ? arguments[t] : {};
                t % 2 ? ownKeys(Object(r), !0).forEach(function(t) {
                    (0,
                    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e, t, r[t])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : ownKeys(Object(r)).forEach(function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                })
            }
            return e
        }
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const ViewManagerContext = react__WEBPACK_IMPORTED_MODULE_1__.createContext({});
        class ViewManagerProvider extends react__WEBPACK_IMPORTED_MODULE_1__.PureComponent {
            constructor(e) {
                super(e),
                this.apiUrl = void 0,
                this.platformUrl = void 0,
                this.createModal = (()=>{
                    const e = uuid_v4__WEBPACK_IMPORTED_MODULE_3___default()()
                      , t = react__WEBPACK_IMPORTED_MODULE_1__.createRef()
                      , r = new _utils_promises__WEBPACK_IMPORTED_MODULE_2__.C;
                    return this.setState(a=>({
                        modals: a.modals.concat([{
                            id: e,
                            container: t,
                            ready: r
                        }])
                    })),
                    {
                        id: e,
                        container: t,
                        ready: r,
                        destroy: ()=>{
                            this.setState(t=>({
                                modals: t.modals.filter(t=>t.id !== e)
                            }))
                        }
                    }
                }
                ),
                this.closeAllModals = (()=>{
                    this.setState({
                        modals: []
                    })
                }
                ),
                this.setNewTrack = (e=>{
                    this.setState({
                        newTrack: e
                    })
                }
                ),
                this.setDeviceFullUploadError = (e=>{
                    this.setState({
                        deviceFullUploadError: e
                    })
                }
                ),
                this.setNewTransformedAudioEngineTrack = (e=>{
                    this.setState({
                        transformedAudioEngineTrack: e
                    })
                }
                ),
                this.setPreviousLocation = (e=>{
                    this.setState({
                        previousLocation: e
                    })
                }
                ),
                this.navigate = (e=>{
                    this.props.history.push(e)
                }
                ),
                this.goBack = ((e="/")=>{
                    const {previousLocation: t} = this.state
                      , r = this.props.location.pathname + this.props.location.search;
                    t && t !== r ? this.navigate(t) : this.navigate(e)
                }
                ),
                this.state = {
                    modals: [],
                    newTrack: null,
                    deviceFullUploadError: !1,
                    transformedAudioEngineTrack: null,
                    previousLocation: null
                }
            }
            render() {
                const e = {
                    viewManagerClient: _objectSpread(_objectSpread({}, {
                        createModal: this.createModal,
                        setNewTrack: this.setNewTrack,
                        setDeviceFullUploadError: this.setDeviceFullUploadError,
                        setNewTransformedAudioEngineTrack: this.setNewTransformedAudioEngineTrack,
                        setPreviousLocation: this.setPreviousLocation,
                        navigate: this.navigate,
                        goBack: this.goBack
                    }), this.state)
                };
                return react__WEBPACK_IMPORTED_MODULE_1__.createElement(ViewManagerContext.Provider, {
                    value: e
                }, this.props.children)
            }
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        const _default = (0,
        react_router__WEBPACK_IMPORTED_MODULE_4__.withRouter)(ViewManagerProvider)
          , __WEBPACK_DEFAULT_EXPORT__ = _default;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(ViewManagerContext, "ViewManagerContext", "/home/vsts/work/1/s/src/contexts/view-manager/view-manager-context.tsx"),
            e.register(ViewManagerProvider, "ViewManagerProvider", "/home/vsts/work/1/s/src/contexts/view-manager/view-manager-context.tsx"),
            e.register(_default, "default", "/home/vsts/work/1/s/src/contexts/view-manager/view-manager-context.tsx"))
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    "2e23121d141c228196a0": (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>d
        });
        var a = r("cc5a1791ca69c601dde3")
          , o = r("b02a35033e7f8e6fa1e0")
          , s = r("8af190b70a6bc55c6f1b")
          , n = r("a7b043367627a4b04036")
          , i = r("5ef9de3df8d92ea0e41c")
          , c = r.n(i);
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const _ = e=>{
            const t = t=>{
                const {wrappedComponentRef: r} = t
                  , i = (0,
                o.Z)(t, ["wrappedComponentRef"]);
                return s.createElement(n.qj.Consumer, null, t=>s.createElement(e, (0,
                a.Z)({}, i, t, {
                    ref: r
                })))
            }
            ;
            return t.WrappedComponent = e,
            c()(t, e)
        }
          , l = _
          , d = l;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(_, "withWebUSBClient", "/home/vsts/work/1/s/src/contexts/webusb/hoc.tsx"),
            e.register(l, "default", "/home/vsts/work/1/s/src/contexts/webusb/hoc.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    f60aef9fa88f4e9ce07a: (e,t,r)=>{
        "use strict";
        r.d(t, {
            Ye: ()=>a.ZP,
            wO: ()=>a.wO,
            MM: ()=>o.Z
        });
        var a = r("a7b043367627a4b04036")
          , o = r("2e23121d141c228196a0");
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature
    }
    ,
    a7b043367627a4b04036: (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            wO: ()=>_kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.wO,
            Ye: ()=>calculateTrackMoves,
            ll: ()=>calculateAlbumMoves,
            qj: ()=>WebUSBContext,
            ZP: ()=>__WEBPACK_DEFAULT_EXPORT__
        });
        var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("990057777e9b2b7543e8")
          , _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("de098c4daf91477f9cbc")
          , react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("8af190b70a6bc55c6f1b")
          , react_router_dom__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("657c5d0bc31a26770cad")
          , react_router_dom__WEBPACK_IMPORTED_MODULE_15___default = __webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_15__)
          , _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("8a5d22dd0b24a6092d3e")
          , _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("2f0f179fdd043e994433")
          , _account__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("ad21e61587d47603cd1c")
          , _utils_promises__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("971fd0ff834a938d5a3d")
          , _contexts_firmware_update_firmware_update_context__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("3f02c5877d4690b5563c")
          , _assets_images_album_art_blank_png__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("5fc49946715057305344")
          , _assets_images_album_art_donda_png__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("f82e462f9208bbad1e7d")
          , _assets_images_album_art_jesus_is_king_png__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("5c27a08769d295c50ba7")
          , _assets_images_album_art_wash_us_in_the_blood_png__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("9f2316eeebc9c27ecc70")
          , _assets_images_album_art_life_of_the_party_png__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("fbf27e791db133ce7130")
          , _assets_images_album_art_recordings_png__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("6d601a08887d6ace5f82")
          , _utils_cancel_controller__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("3145f0c7f3b91ffef7d2");
        function ownKeys(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var a = Object.getOwnPropertySymbols(e);
                t && (a = a.filter(function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                })),
                r.push.apply(r, a)
            }
            return r
        }
        function _objectSpread(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = null != arguments[t] ? arguments[t] : {};
                t % 2 ? ownKeys(Object(r), !0).forEach(function(t) {
                    (0,
                    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e, t, r[t])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : ownKeys(Object(r)).forEach(function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                })
            }
            return e
        }
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const CHARGE_POLLING_INTERVAL = 6e4
          , MAGIC_MP3_WAV_CONVERSION = 8;
        function calculateTrackMoves(e, t, r, a) {
            const o = []
              , s = t
              , n = t.tracks;
            o.push({
                albumOld: e.id,
                trackOld: r,
                albumNew: t.id,
                trackNew: a
            });
            const i = n.map(e=>parseInt(e.id.substr(1)))
              , c = n.map((e,t)=>({
                oldId: i[t],
                newId: t + 1
            })).filter(e=>e.oldId !== e.newId);
            for (; c.length > 0; ) {
                let e = 0;
                for (let t = 0; t < c.length; t += 1) {
                    const r = c[t];
                    if (i.indexOf(r.newId) < 0) {
                        o.push({
                            albumOld: s.id,
                            trackOld: `T${r.oldId}`,
                            albumNew: s.id,
                            trackNew: `T${r.newId}`
                        });
                        const a = i.indexOf(r.oldId);
                        i.splice(a, 1, r.newId),
                        c.splice(t, 1),
                        e += 1
                    }
                }
                if (!e) {
                    const e = c.map(e=>e.newId)
                      , t = c.findIndex(t=>e.indexOf(t.oldId) >= 0)
                      , r = c[t];
                    c.splice(t, 1);
                    let a = Math.max(...i) + 5;
                    for (; e.indexOf(a) >= 0; )
                        a += 1;
                    o.push({
                        albumOld: s.id,
                        trackOld: `T${r.oldId}`,
                        albumNew: s.id,
                        trackNew: `T${a}`
                    });
                    const n = i.indexOf(r.oldId);
                    i.splice(n, 1, a),
                    c.push({
                        oldId: a,
                        newId: r.newId
                    })
                }
            }
            return o
        }
        function calculateAlbumMoves(e) {
            const t = e.map(e=>parseInt(e.id.substr(1)))
              , r = []
              , a = e.map((e,t)=>({
                oldId: parseInt(e.id.substr(1)),
                newId: t + 1
            })).filter(e=>e.oldId !== e.newId);
            for (; a.length > 0; ) {
                let e = 0;
                for (let o = 0; o < a.length; o += 1) {
                    const s = a[o];
                    if (t.indexOf(s.newId) < 0) {
                        r.push({
                            oldId: `A${s.oldId}`,
                            newId: `A${s.newId}`
                        });
                        const n = t.indexOf(s.oldId);
                        t.splice(n, 1, s.newId),
                        a.splice(o, 1),
                        e += 1
                    }
                }
                if (!e) {
                    const e = a.map(e=>e.newId)
                      , o = a.findIndex(t=>e.indexOf(t.oldId) >= 0)
                      , s = a[o];
                    a.splice(o, 1);
                    let n = Math.max(...t) + 5;
                    for (; e.indexOf(n) >= 0; )
                        n += 1;
                    r.push({
                        oldId: `A${s.oldId}`,
                        newId: `A${n}`
                    });
                    const i = t.indexOf(s.oldId);
                    t.splice(i, 1, n),
                    a.push({
                        oldId: n,
                        newId: s.newId
                    })
                }
            }
            return r
        }
        const WebUSBContext = react__WEBPACK_IMPORTED_MODULE_1__.createContext({});
        class WebUSBProvider extends react__WEBPACK_IMPORTED_MODULE_1__.PureComponent {
            constructor(e) {
                var t;
                super(e),
                t = this,
                this.device = void 0,
                this.activeRequests = void 0,
                this.chargeStateInterval = void 0,
                this.conversionValue = 1048576,
                this._isMounted = !1,
                this.resetState = (()=>{
                    this.stopChargeStatePolling(),
                    this._isMounted && (this.setState({
                        deviceConnected: !1,
                        deviceAlbums: {},
                        deviceInfo: null,
                        deviceConfig: null,
                        deviceRecordedSlots: null,
                        deviceStorageUsed: null,
                        deviceStorageSize: null,
                        deviceChargeState: null,
                        deviceTransferActive: !1,
                        deviceUpdating: !1
                    }),
                    this.resetUploadData())
                }
                ),
                this.beforeUnloadHandler = (e=>{
                    if (this.state.deviceTransferActive)
                        return e.preventDefault(),
                        e.returnValue = "Transfer in process, exiting site may cause an error. Continue?",
                        "Transfer in process, exiting site may cause an error. Continue?"
                }
                ),
                this.setDeviceIsUpdating = (e=>{
                    this._isMounted && this.setState({
                        deviceUpdating: e
                    })
                }
                ),
                this.setDeviceTransferActive = (e=>{
                    e !== this.state.deviceTransferActive && this._isMounted && this.setState({
                        deviceTransferActive: e
                    })
                }
                ),
                this.resetUploadData = (()=>{
                    this._isMounted && (this.setState({
                        uploadProgress: null,
                        cancelController: null
                    }),
                    this.setDeviceTransferActive(!1))
                }
                ),
                this.handleCancelUpload = (()=>{
                    const {cancelController: e} = this.state;
                    e && e.cancel()
                }
                ),
                this.connect = (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*() {
                    const {device: e} = t
                      , {deviceTransferActive: r} = t.state;
                    if (!r) {
                        t.setDeviceTransferActive(!0);
                        try {
                            e.connected ? yield t.onConnect() : (yield e.connect(),
                            yield t.onConnect()),
                            t.setDeviceTransferActive(!1)
                        } catch (e) {
                            throw t._isMounted && (t.setState({
                                deviceConnected: !1,
                                deviceTransferActive: !1
                            }),
                            t.setDeviceTransferActive(!1)),
                            e.message
                        }
                    }
                }),
                this.disconnect = (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*() {
                    const {device: e} = t
                      , {deviceTransferActive: r} = t.state;
                    if (!r) {
                        t.setDeviceTransferActive(!0),
                        t.stopChargeStatePolling();
                        try {
                            yield e.endSession(),
                            yield e.disconnect()
                        } catch (e) {
                            throw e.message
                        } finally {
                            t._isMounted && t.setState({
                                deviceConnected: !1,
                                deviceTransferActive: !1,
                                _deviceToken: null
                            })
                        }
                    }
                }),
                this.reboot = (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*() {
                    const {device: e} = t;
                    try {
                        yield e.reboot(),
                        t._isMounted && t.setState({
                            deviceConnected: !1,
                            deviceTransferActive: !1
                        })
                    } catch (e) {
                        throw e.message
                    }
                }),
                this.onConnect = (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*() {
                    if (t.activeRequests.has("onConnect"))
                        return t.activeRequests.get("onConnect").promise;
                    const e = new _utils_promises__WEBPACK_IMPORTED_MODULE_5__.C
                      , {tracking: {trackEvent: r}} = t.props;
                    t.activeRequests.set("onConnect", e),
                    t.setDeviceTransferActive(!0);
                    try {
                        yield t.device.startSession(),
                        yield(0,
                        _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.wO)(250),
                        t._isMounted && t.setState({
                            deviceConnected: !0
                        }),
                        yield t.fetchDeviceAlbums(),
                        yield t.fetchDeviceRecordedSlots(),
                        yield t.fetchDeviceInfo(),
                        yield t.fetchDeviceConfig(),
                        yield t.fetchDeviceStorageInfo(),
                        t.authenticateDevice();
                        const a = (yield t.updateDeviceChargeState()).lastBt
                          , o = null === a ? "None" : a ? a.split(new RegExp("(..)")).filter(Boolean).reverse().join(":") : "UNKNOWN";
                        let s = 0;
                        null !== t.state.deviceRecordedSlots && (s = t.state.deviceRecordedSlots.reduce((e,t)=>e + (t ? 1 : 0), 0)),
                        r({
                            event: "device_connected",
                            data: _objectSpread(_objectSpread({}, t.state.deviceInfo), {}, {
                                lastBluetoothAddress: o,
                                recordings: s
                            })
                        }),
                        "/" !== t.props.location.pathname && "/updating" !== t.props.location.pathname || t.props.history.push("/connect/stem")
                    } catch (e) {
                        throw r({
                            error: {
                                name: "on_connect",
                                stack: "Failed to connect to device",
                                message: JSON.stringify(e.message || e)
                            }
                        }),
                        e.message
                    } finally {
                        t.setDeviceTransferActive(!1),
                        e.resolve(!0),
                        t.activeRequests.delete("onConnect")
                    }
                }),
                this.onDisconnect = (()=>this.resetState()),
                this.fetchDeviceInfo = (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*() {
                    const {device: e} = t
                      , r = yield e.getDeviceInfo();
                    return t._isMounted && t.setState({
                        deviceInfo: r
                    }),
                    r
                }),
                this.fetchDeviceConfig = (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*() {
                    const {device: e} = t
                      , r = yield e.getDeviceConfig();
                    t._isMounted && t.setState({
                        deviceConfig: r
                    })
                }),
                this.fetchDeviceStorageInfo = (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*() {
                    const {device: e} = t
                      , r = yield e.getStorageInfo()
                      , {free: a, size: o} = r;
                    t._isMounted && t.setState({
                        deviceStorageSize: o / t.conversionValue,
                        deviceStorageUsed: (o - a) / t.conversionValue
                    })
                }),
                this.authenticateDevice = (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*() {
                    const {deviceInfo: e} = t.state;
                    if (null === e)
                        return null;
                    if ((0,
                    _contexts_firmware_update_firmware_update_context__WEBPACK_IMPORTED_MODULE_6__.Hm)(e.appVersion, "1.0.1747"))
                        return null;
                    if (t.state._deviceToken)
                        return t.state._deviceToken.promise;
                    const {device: r} = t
                      , {serialNumber: a} = e
                      , {accountClient: o} = t.props
                      , s = new _utils_promises__WEBPACK_IMPORTED_MODULE_5__.C;
                    let n = null;
                    t._isMounted && t.setState({
                        _deviceToken: s
                    });
                    try {
                        const e = yield o.requestDeviceChallenge(a);
                        if (e.error)
                            throw new Error(`Unable to authenticate device: ${e.error}`);
                        let i;
                        try {
                            i = yield r.deviceAuth(e.challenge)
                        } catch (e) {
                            throw new Error(`Unable to authenticate device: ${e}`)
                        }
                        const c = yield o.completeDeviceChallenge(a, i);
                        if (c.error)
                            throw new Error(`Unable to authenticate device: ${c.error}`);
                        n = c.token
                    } catch (e) {
                        return s.reject(e),
                        t._isMounted && t.setState({
                            _deviceToken: null
                        }),
                        s.promise
                    }
                    return s.resolve(n),
                    s.promise
                }),
                this.updateDeviceChargeState = (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*() {
                    const {device: e} = t
                      , {soc: r, "last-bt": a} = yield e.getChargeState();
                    return t._isMounted && t.setState({
                        deviceChargeState: r
                    }),
                    {
                        soc: r,
                        lastBt: a
                    }
                }),
                this.startChargeStatePolling = (()=>{
                    this.chargeStateInterval || (this.chargeStateInterval = setInterval(()=>this.updateDeviceChargeState(), CHARGE_POLLING_INTERVAL))
                }
                ),
                this.stopChargeStatePolling = (()=>{
                    this.chargeStateInterval && (clearInterval(this.chargeStateInterval),
                    this.chargeStateInterval = null)
                }
                ),
                this.fetchDeviceRecordedSlots = (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*() {
                    const {device: e} = t
                      , r = yield e.getRecordedSlots()
                      , a = Object.values(r);
                    t._isMounted && t.setState({
                        deviceRecordedSlots: a
                    })
                }),
                this.setCover = ((e,t)=>(0,
                _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.qP)(e, "Donda") ? _assets_images_album_art_donda_png__WEBPACK_IMPORTED_MODULE_8__ : (0,
                _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.qP)(e, "Jesus is King") ? _assets_images_album_art_jesus_is_king_png__WEBPACK_IMPORTED_MODULE_9__ : (0,
                _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.qP)(e, "Life of The Party") ? _assets_images_album_art_life_of_the_party_png__WEBPACK_IMPORTED_MODULE_11__ : (0,
                _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.qP)(e, "Wash Us In The Blood") ? _assets_images_album_art_wash_us_in_the_blood_png__WEBPACK_IMPORTED_MODULE_10__ : t && (0,
                _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.o7)(t, "RECORD") ? _assets_images_album_art_recordings_png__WEBPACK_IMPORTED_MODULE_12__ : _assets_images_album_art_blank_png__WEBPACK_IMPORTED_MODULE_7__),
                this.fetchDeviceAlbums = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*(e) {
                        const {device: r} = t
                          , a = yield r.listTracks();
                        if (e && e.aborted)
                            throw t.setDeviceTransferActive(!1),
                            new Error("Cancelled");
                        const o = a.albums.reduce((e,r)=>{
                            let a = Object.assign({}, r);
                            a.title = (0,
                            _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.o7)(a.id, "RECORD") ? "RECORDINGS" : a.title;
                            const o = t.setCover(a.title, a.id)
                              , s = Object.assign({
                                cover: o
                            }, a);
                            return _objectSpread(_objectSpread({}, e), {}, {
                                [a.id]: s
                            })
                        }
                        , {});
                        return t._isMounted && t.setState(e=>({
                            deviceAlbums: o,
                            deviceAlbumsUpdated: e.deviceAlbumsUpdated ? e.deviceAlbumsUpdated + 1 : 1
                        })),
                        o
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getDeviceFileSize = (e=>{
                    switch (e.name.split(".").pop()) {
                    case "mp3":
                    case "mpga":
                        return e.size * MAGIC_MP3_WAV_CONVERSION;
                    case "wav":
                        return e.size;
                    default:
                        return 2 * e.size
                    }
                }
                ),
                this.hasAvailableSpace = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*(e) {
                        return (yield t.getRemainingSize()) > e.bass.file.size + e.vocals.file.size + e.drums.file.size + e.other.file.size
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getRemainingSize = (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*() {
                    const {device: e} = t
                      , r = yield e.getStorageInfo()
                      , {free: a} = r;
                    return 1e3 * a - 3 * Math.pow(1e3, 2)
                }),
                this.hasSpaceForTrack = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*(e) {
                        const {tracking: {trackEvent: r}} = t.props
                          , a = (yield t.getRemainingSize()) > t.getDeviceFileSize(e.bass) + t.getDeviceFileSize(e.vocals) + t.getDeviceFileSize(e.drums) + t.getDeviceFileSize(e.other);
                        return a || r({
                            event: "device_full_adding_new_track",
                            data: {
                                track: {
                                    title: e.title,
                                    artist: e.artist,
                                    duration: e.duration
                                }
                            }
                        }),
                        a
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.hasSpaceForAlbum = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*(e, r) {
                        if (r && r.aborted)
                            throw new Error("[hasSpaceForAlbum] Cancelled");
                        return (yield t.getRemainingSize()) > e.tracks.reduce((e,t)=>{
                            return e + Object.values(t.metadata.stem_size).reduce((e,t)=>e + t, 0)
                        }
                        , 0)
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.uploadFirmwareUpdate = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*(e) {
                        t.setDeviceTransferActive(!0);
                        const {device: r} = t
                          , {tracking: {trackEvent: a}} = t.props;
                        try {
                            yield r.uploadFirmwareUpdate(e),
                            a({
                                event: "firmware_update_success",
                                data: {
                                    file: e.name,
                                    size: e.size
                                }
                            }),
                            t.setDeviceTransferActive(!1)
                        } catch (e) {
                            throw a({
                                error: {
                                    name: "firware_update",
                                    stack: "Failed to update firmware",
                                    message: JSON.stringify(e.message || e)
                                }
                            }),
                            t.setDeviceTransferActive(!1),
                            e
                        }
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.updateDeviceConfig = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*(e) {
                        t.setDeviceTransferActive(!0);
                        const {tracking: {trackEvent: r}} = t.props;
                        try {
                            yield t.device.updateDeviceConfig(e),
                            r({
                                event: "device_config_update_success"
                            }),
                            t.setDeviceTransferActive(!1)
                        } catch (e) {
                            throw r({
                                error: {
                                    name: "device_config_update",
                                    stack: "Failed to update device config",
                                    message: JSON.stringify(e.message || e)
                                }
                            }),
                            t.setDeviceTransferActive(!1),
                            e
                        }
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getTrack = ((e,t)=>{
                    const {deviceAlbums: r} = this.state;
                    if (!(e in r))
                        return null;
                    let a = null;
                    const o = r[e]
                      , s = o.tracks.filter(e=>(0,
                    _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.O8)(e.id, t));
                    if (s.length > 0) {
                        const {id: e, title: t, colors: r, bpm: n, meta_version: i, stems_version: c} = s[0];
                        a = {
                            id: e,
                            title: t,
                            colors: r,
                            bpm: n,
                            album: o.title,
                            artist: o.artist,
                            meta_version: i || null,
                            stems_version: c || null,
                            duration: 0,
                            bass: null,
                            vocals: null,
                            drums: null,
                            other: null
                        }
                    }
                    return a
                }
                ),
                this.addTrackSimple = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*(e, r, a) {
                        const {device: o} = t;
                        let s, n = null, i = !1;
                        a && a(()=>{
                            t.setDeviceTransferActive(!1),
                            n && n.cancel(),
                            i = !0
                        }
                        );
                        try {
                            if (n = o.addTrack(e, e=>r(e)),
                            i)
                                throw new Error("Cancelled");
                            if (s = yield n.promise,
                            i)
                                throw new Error("Cancelled");
                            if (yield t.fetchDeviceAlbums(),
                            i)
                                throw new Error("Cancelled");
                            if (yield t.fetchDeviceStorageInfo(),
                            i)
                                throw new Error("Cancelled")
                        } catch (e) {
                            console.log("error", e),
                            console.log("ERROR: ", e.message)
                        } finally {
                            t.setState({
                                uploadProgress: null
                            })
                        }
                        return s
                    });
                    return function(t, r, a) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.setUploadProgressState = (e=>{
                    this.setState({
                        uploadProgress: e
                    })
                }
                ),
                this.addTrack = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*(e, r, a) {
                        if (t.setDeviceTransferActive(!0),
                        !(yield t.hasAvailableSpace(e)))
                            return console.error("No available space on device"),
                            r(null),
                            void t.setDeviceTransferActive(!1);
                        const o = yield t.addTrackSimple(e, r, a);
                        return t.setDeviceTransferActive(!1),
                        o
                    });
                    return function(t, r, a) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.editTrackMetadataSimple = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*(e, r, a) {
                        const {device: o} = t;
                        try {
                            yield o.editTrackMetadata(e, r, a)
                        } catch (e) {
                            return console.error(e),
                            t.setDeviceTransferActive(!1),
                            void t.props.tracking.trackEvent({
                                error: {
                                    name: "edit_track",
                                    stack: "Failed to edit track",
                                    message: JSON.stringify(e.message || e)
                                }
                            })
                        }
                        yield t.fetchDeviceAlbums(),
                        yield t.fetchDeviceStorageInfo()
                    });
                    return function(t, r, a) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.editTrackMetadata = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*(e, r, a) {
                        t.setDeviceTransferActive(!0),
                        yield t.editTrackMetadataSimple(e, r, a),
                        t.setDeviceTransferActive(!1)
                    });
                    return function(t, r, a) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.deleteTrack = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*(e, r, a) {
                        const {tracking: {trackEvent: o}} = t.props;
                        t.setDeviceTransferActive(!0);
                        const {device: s} = t;
                        try {
                            yield s.deleteTrack(e, r),
                            o({
                                event: "track_deleted",
                                data: {
                                    albumid: e,
                                    trackid: r
                                }
                            })
                        } catch (e) {
                            throw t.setDeviceTransferActive(!1),
                            o({
                                error: {
                                    name: "delete_track",
                                    stack: "Failed to delete track",
                                    message: JSON.stringify(e.message || e)
                                }
                            }),
                            e
                        }
                        yield t.fetchDeviceAlbums(a),
                        yield t.fetchDeviceStorageInfo(),
                        yield t.fetchDeviceRecordedSlots(),
                        t.setDeviceTransferActive(!1)
                    });
                    return function(t, r, a) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.deleteAlbum = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*(e) {
                        const {tracking: {trackEvent: r}} = t.props
                          , {deviceAlbums: a} = t.state;
                        t.setDeviceTransferActive(!0);
                        const {device: o} = t;
                        try {
                            var s;
                            yield o.deleteAlbum(e),
                            r({
                                event: "album_deleted",
                                data: {
                                    albumId: e,
                                    albumName: null === (s = a[e]) || void 0 === s ? void 0 : s.title
                                }
                            })
                        } catch (e) {
                            throw t.setDeviceTransferActive(!1),
                            r({
                                error: {
                                    name: "delete_album",
                                    stack: "Failed to delete album",
                                    message: JSON.stringify(e.message || e)
                                }
                            }),
                            e
                        }
                        yield t.fetchDeviceAlbums(),
                        t.setDeviceTransferActive(!1)
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.moveTracksSimple = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*(e) {
                        try {
                            for (let r = 0; r < e.length; r++)
                                yield t.moveTrack(e[r])
                        } catch (e) {
                            throw console.error(e),
                            t.props.tracking.trackEvent({
                                error: {
                                    name: "move_tracks",
                                    stack: "Failed to move track",
                                    message: JSON.stringify(e.message || e)
                                }
                            }),
                            t.setDeviceTransferActive(!1),
                            e
                        }
                        yield t.fetchDeviceAlbums()
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.moveTracks = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*(e) {
                        t.setDeviceTransferActive(!0),
                        yield t.moveTracksSimple(e),
                        t.setDeviceTransferActive(!1)
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.moveTrack = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*({albumOld: e, trackOld: r, albumNew: a, trackNew: o}) {
                        const {device: s} = t;
                        try {
                            yield s.moveTrack(e, r, a, o)
                        } catch (e) {
                            throw console.error(e),
                            e
                        }
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getRecordedStem = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*(e, r=(()=>{}
                    )) {
                        const {device: a} = t;
                        try {
                            return a.downloadTrackStem("RECORD", "T1", e, r)
                        } catch (e) {
                            throw console.error(e),
                            e
                        }
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.addAlbum = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*(e, r="Unknown", a, o) {
                        const {device: s} = t;
                        try {
                            const n = yield s.addAlbum(a || null, r, e, o);
                            return yield t.fetchDeviceAlbums(),
                            n
                        } catch (a) {
                            if (a.message && "Cancelled" !== a.message && ["jesus is king", "donda", "donda 2", "life of the party", "wash us in the blood"].includes(null === e || void 0 === e ? void 0 : e.toLowerCase())) {
                                const a = "DONDA" === e ? "A2" : "A1";
                                return yield t.deleteAlbum(a),
                                yield t.addAlbum(e, r)
                            }
                            throw console.error(a),
                            a
                        }
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.moveAlbumsSimple = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*(e) {
                        try {
                            for (let r = 0; r < e.length; r++)
                                yield t.moveAlbum(e[r])
                        } catch (e) {
                            throw console.error(e),
                            t.props.tracking.trackEvent({
                                error: {
                                    name: "move_albums",
                                    stack: "Failed to move albums",
                                    message: JSON.stringify(e.message || e)
                                }
                            }),
                            t.setDeviceTransferActive(!1),
                            e
                        }
                        yield t.fetchDeviceAlbums()
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.moveAlbums = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*(e) {
                        t.setDeviceTransferActive(!0),
                        yield t.moveAlbumsSimple(e),
                        t.setDeviceTransferActive(!1)
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.moveAlbum = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*({oldId: e, newId: r}) {
                        const {device: a} = t;
                        try {
                            yield a.renameAlbum(e, r)
                        } catch (e) {
                            throw console.error(e),
                            e
                        }
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.updateAlbumTitle = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*(e, r) {
                        const {device: a} = t;
                        try {
                            yield a.updateAlbumTitle(e, r),
                            yield t.fetchDeviceAlbums()
                        } catch (e) {
                            throw console.error(e),
                            e
                        }
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.updateAlbumVersion = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*(e, r) {
                        const {device: a} = t;
                        try {
                            yield a.updateAlbumVersion(e, r),
                            yield t.fetchDeviceAlbums()
                        } catch (e) {
                            throw console.error(e),
                            e
                        }
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.setUploadFeedback = (e=>{
                    this.setState({
                        uploadFeedback: e
                    })
                }
                ),
                this.uploadStems = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*(e, r) {
                        try {
                            t.setState({
                                uploading: "uploading",
                                uploadProgress: null,
                                uploadingTrack: e,
                                uploadFeedback: null,
                                uploadCancelled: !1
                            });
                            const a = new _utils_cancel_controller__WEBPACK_IMPORTED_MODULE_13__.f;
                            t._isMounted && t.setState({
                                cancelController: a
                            });
                            const o = yield t.addTrack(e, e=>t.setState({
                                uploadProgress: Object.assign({}, e)
                            }), a.register);
                            if (void 0 === o)
                                throw new Error("Upload cancelled (2)");
                            t.setState({
                                uploadedTrackLocation: o
                            }),
                            r.album !== t.state.deviceAlbums[o.album].title && (yield t.moveTrackToAlbum(o.album, o.id, r.album)),
                            t.setState({
                                uploading: "uploaded"
                            })
                        } catch (e) {
                            if (e.message && "Cancelled" === e.message)
                                throw t.setState({
                                    uploadProgress: null,
                                    uploading: !1,
                                    uploadFeedback: "Upload cancelled",
                                    uploadCancelled: !0
                                }),
                                t.setDeviceTransferActive(!1),
                                new Error("Cancelled");
                            if (e.message && "Upload cancelled (2)" === e.message)
                                throw t.setState({
                                    uploadProgress: null,
                                    uploading: !1,
                                    uploadFeedback: "Upload cancelled",
                                    uploadCancelled: !0
                                }),
                                t.setDeviceTransferActive(!1),
                                new Error("Cancelled");
                            t.state.deviceConnected ? t.setState({
                                uploading: "error",
                                uploadFeedback: "Upload cancelled"
                            }) : t.setState({
                                uploading: "uploaded",
                                uploadFeedback: "Uploaded"
                            })
                        } finally {
                            t.setDeviceTransferActive(!1),
                            t.setState({
                                uploading: !1,
                                uploadCancelled: !1
                            })
                        }
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.resetUploadedTrackLocation = (()=>{
                    this.setState({
                        uploadedTrackLocation: null
                    })
                }
                ),
                this.moveTrackToAlbum = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_14__.Z)(function*(e, r, a) {
                        let o, s, n = Object.values(t.state.deviceAlbums).find(e=>(0,
                        _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.qP)(e.title, a));
                        if (n) {
                            const e = n.tracks.map(e=>parseInt(e.id.substring(1)));
                            o = n.id,
                            s = `T${Math.max(0, ...e) + 1}`
                        } else
                            o = yield t.addAlbum(a, void 0, void 0, "1"),
                            s = "T1";
                        return yield t.moveTracks([{
                            albumOld: e,
                            albumNew: o,
                            trackOld: r,
                            trackNew: s
                        }]),
                        {
                            albumId: o,
                            trackId: s
                        }
                    });
                    return function(t, r, a) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.device = new _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.FF,
                this.device.onConnect(()=>{
                    this.onConnect()
                }
                ),
                this.device.onDisconnect(()=>{
                    this.onDisconnect()
                }
                ),
                this.activeRequests = new Map,
                this.state = {
                    deviceConnected: !1,
                    deviceAlbums: {},
                    deviceAlbumsUpdated: null,
                    deviceInfo: null,
                    deviceConfig: null,
                    deviceRecordedSlots: null,
                    deviceStorageUsed: null,
                    deviceStorageSize: null,
                    deviceChargeState: null,
                    deviceTransferActive: !1,
                    _deviceToken: null,
                    deviceUpdating: !1,
                    uploadProgress: null,
                    uploading: !1,
                    uploadedTrackLocation: null,
                    uploadFeedback: null,
                    uploadingTrack: null,
                    cancelController: null,
                    uploadCancelled: !1
                }
            }
            componentDidMount() {
                this._isMounted = !0,
                window.location.hash && "#connect" === window.location.hash && this.setState({
                    deviceConnected: !0,
                    deviceAlbums: {},
                    deviceAlbumsUpdated: null,
                    deviceInfo: {
                        appVersion: "1",
                        bluetoothVersion: "1",
                        bootloaderVersion: "1",
                        serialNumber: "1"
                    }
                }),
                this.device.findPairedDevice(),
                window.addEventListener("beforeunload", this.beforeUnloadHandler, {
                    capture: !0
                })
            }
            componentWillUnmount() {
                this.stopChargeStatePolling(),
                window.removeEventListener("beforeunload", this.beforeUnloadHandler, {
                    capture: !0
                }),
                this._isMounted = !1
            }
            render() {
                const e = {
                    webUSBClient: _objectSpread(_objectSpread({}, {
                        connect: this.connect,
                        disconnect: this.disconnect,
                        reboot: this.reboot,
                        setDeviceIsUpdating: this.setDeviceIsUpdating,
                        setDeviceTransferActive: this.setDeviceTransferActive,
                        uploadFirmwareUpdate: this.uploadFirmwareUpdate,
                        getTrack: this.getTrack,
                        addTrack: this.addTrack,
                        addTrackSimple: this.addTrackSimple,
                        editTrackMetadata: this.editTrackMetadata,
                        editTrackMetadataSimple: this.editTrackMetadataSimple,
                        deleteTrack: this.deleteTrack,
                        moveTracks: this.moveTracks,
                        moveTracksSimple: this.moveTracksSimple,
                        getRecordedStem: this.getRecordedStem,
                        updateDeviceChargeState: this.updateDeviceChargeState,
                        updateDeviceConfig: this.updateDeviceConfig,
                        startDeviceChargePolling: this.startChargeStatePolling,
                        stopDeviceChargePolling: this.stopChargeStatePolling,
                        addAlbum: this.addAlbum,
                        deleteAlbum: this.deleteAlbum,
                        moveAlbums: this.moveAlbums,
                        moveAlbumsSimple: this.moveAlbumsSimple,
                        updateAlbumTitle: this.updateAlbumTitle,
                        updateAlbumVersion: this.updateAlbumVersion,
                        setCover: this.setCover,
                        fetchDeviceAlbums: this.fetchDeviceAlbums,
                        fetchDeviceInfo: this.fetchDeviceInfo,
                        getState: ()=>this.state,
                        hasSpaceForTrack: this.hasSpaceForTrack,
                        hasSpaceForAlbum: this.hasSpaceForAlbum,
                        getRemainingSize: this.getRemainingSize,
                        getDeviceFileSize: this.getDeviceFileSize,
                        conversionValue: this.conversionValue,
                        authenticateDevice: this.authenticateDevice,
                        uploadStems: this.uploadStems,
                        handleCancelUpload: this.handleCancelUpload,
                        setUploadFeedback: this.setUploadFeedback,
                        setUploadProgressState: this.setUploadProgressState,
                        resetUploadedTrackLocation: this.resetUploadedTrackLocation
                    }), this.state)
                };
                return react__WEBPACK_IMPORTED_MODULE_1__.createElement(WebUSBContext.Provider, {
                    value: e
                }, this.props.children)
            }
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        const __TEST__WebUSBProvider = WebUSBProvider
          , _default = (0,
        _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_2__.j)({
            module: "web_usb_provider"
        })((0,
        react_router_dom__WEBPACK_IMPORTED_MODULE_15__.withRouter)((0,
        _account__WEBPACK_IMPORTED_MODULE_4__.o)(WebUSBProvider)))
          , __WEBPACK_DEFAULT_EXPORT__ = _default;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(CHARGE_POLLING_INTERVAL, "CHARGE_POLLING_INTERVAL", "/home/vsts/work/1/s/src/contexts/webusb/webusb-context.tsx"),
            e.register(MAGIC_MP3_WAV_CONVERSION, "MAGIC_MP3_WAV_CONVERSION", "/home/vsts/work/1/s/src/contexts/webusb/webusb-context.tsx"),
            e.register(calculateTrackMoves, "calculateTrackMoves", "/home/vsts/work/1/s/src/contexts/webusb/webusb-context.tsx"),
            e.register(calculateAlbumMoves, "calculateAlbumMoves", "/home/vsts/work/1/s/src/contexts/webusb/webusb-context.tsx"),
            e.register(WebUSBContext, "WebUSBContext", "/home/vsts/work/1/s/src/contexts/webusb/webusb-context.tsx"),
            e.register(WebUSBProvider, "WebUSBProvider", "/home/vsts/work/1/s/src/contexts/webusb/webusb-context.tsx"),
            e.register(__TEST__WebUSBProvider, "__TEST__WebUSBProvider", "/home/vsts/work/1/s/src/contexts/webusb/webusb-context.tsx"),
            e.register(_default, "default", "/home/vsts/work/1/s/src/contexts/webusb/webusb-context.tsx"))
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    b52edfef829e09f7985c: (module,__unused_webpack___webpack_exports__,__webpack_require__)=>{
        "use strict";
        var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("8af190b70a6bc55c6f1b")
          , react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("63f14ac74ce296f77f4d")
          , fontfaceobserver__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("260f3680b921ede7f717")
          , fontfaceobserver__WEBPACK_IMPORTED_MODULE_2___default = __webpack_require__.n(fontfaceobserver__WEBPACK_IMPORTED_MODULE_2__)
          , react_router_dom__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__("657c5d0bc31a26770cad")
          , react_router_dom__WEBPACK_IMPORTED_MODULE_22___default = __webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_22__)
          , _sentry_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("eb88800281880750dee6")
          , _sentry_react__WEBPACK_IMPORTED_MODULE_21___default = __webpack_require__.n(_sentry_react__WEBPACK_IMPORTED_MODULE_21__)
          , _sentry_tracing__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("82d14b9db5598b921c79")
          , _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("8a5d22dd0b24a6092d3e")
          , _utils_history__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("4f64e9a1f5202b774215")
          , _contexts_webusb__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("f60aef9fa88f4e9ce07a")
          , _contexts_trackapi__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("09e5b40f0abea70b7ff4")
          , _contexts_firmware_update__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("c1bece57111e2d76e639")
          , _contexts_notifications__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("ceede5265ca6ca2cb4b1")
          , _contexts_album_restore__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("16c6bde65fb4831cea2e")
          , _contexts_remix__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("04580fa4bddd672dfde3")
          , _contexts_stems__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("d92624744e8fb7e743e8")
          , _contexts_account__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("ad21e61587d47603cd1c")
          , _contexts_view_manager__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("3e17aee31846974e528a")
          , _containers_App__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("909d96d96697555397ee")
          , _file_loader_name_name_ext_assets_favicon_ico__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("2cc3443f170f92e6c07f")
          , file_loader_name_htaccess_htaccess__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("49c109a56bd7c2e379fd")
          , _contexts_audio_engine__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("77d9647920c06e8befd6")
          , _utils_feature_flags__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("c0326c9d650a633c92d0")
          , _utils_themes__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("957d24b63b1050799be8");
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const config = {
            TARGET_ENV: "staging",
            NODE_ENV: "staging",
            KB_APP_VERSION: "1.1.2723",
            KB_APP_REVISION: "08e5ceeef7048d33ffd3b14284d1e8357751ce9e",
            KB_APP_NAME: "stem-player-client",
            KB_APP_TITLE: "STEMPLAYER - Staging",
            KB_APP_URL: "https://staging-stemplatform.netlify.app",
            KB_API_URL: "https://worldapi.nonprod.kano.me",
            KB_CMS_URL: "https://staging.content.kano.me",
            KB_FEED_URL: "https://feed.nonprod.kano.me",
            KB_TRACKING_URL: "https://telemetry.nonprod.kano.me/batch",
            KB_SHARING_URL: "https://staging.sharing.kano.me",
            KB_AUTH_INTEGRATION_URL: "https://b.auth.kano.me/integration.js",
            KB_AUTH_SIGNUP_URL: "https://b.auth.kano.me/index.html?env=staging#signup",
            KB_AUTH_LOGIN_URL: "https://b.auth.kano.me/index.html?env=staging#login",
            KB_KANO_WORLD_URL: "https://staging.world.kano.me",
            KB_MAKE_ART_URL: "https://staging.art.kano.me",
            KB_PIXEL_MOTION_URL: "https://staging.beta.pixel.kano.me",
            KB_ARTOPIA_URL: "https://beta.artopia.app",
            KB_ARTOPIA_ACCESSKEY_URL: "https://beta.artopia.app/?accesskey=kano-club",
            KB_KANO_CODE_URL: "https://staging.code.kano.me",
            KB_HOW_COMPUTERS_WORK_URL: "https://staging.computers.kano.me",
            KB_KANO_CREATE_URL: "https://make-p5.netlify.app/",
            KB_UWP_ROOT_PATH: "ms-appx-web:///WebApp",
            KB_STEMIFY_API_URL: "https://api.sycamore-nonprod.kano.me",
            KB_UPDATE_QUERY_ENDPOINT: "https://stemplayer-dl.sycamore-nonprod.kano.me/latest-firmware.json",
            KB_FW_ENDPOINT: "https://stemplayer-dl.sycamore-nonprod.kano.me/latest-firmware.dfu",
            KB_SHOPIFY_US_DOMAIN: "shop.sycamore-nonprod.kano.me",
            KB_SHOPIFY_US_TOKEN: "e1b1b8c1927568fe33f9bd94dae06358",
            KB_SHOPIFY_UK_DOMAIN: "gb.shop.sycamore-nonprod.kano.me",
            KB_SHOPIFY_UK_TOKEN: "e1b1b8c1927568fe33f9bd94dae06358",
            KB_SENTRY_SAMPLE_RATE: "1.0",
            KB_REPO_URL: "https://github.com/KanoComputing/stem-player"
        }
          , telemetryConfig = {
            app: config.KB_APP_NAME,
            appVersion: config.KB_APP_VERSION,
            url: config.KB_TRACKING_URL,
            env: config.TARGET_ENV,
            hasCrossDomainStorage: !1
        }
          , font2Observer = new (fontfaceobserver__WEBPACK_IMPORTED_MODULE_2___default())("Helvetica Neue LT W05 65 Medium",{});
        Promise.all([font2Observer.load()]).then(()=>{
            document.body.classList.add("fontLoaded")
        }
        ),
        _sentry_react__WEBPACK_IMPORTED_MODULE_21__.init({
            dsn: "https://cceb14840d684b1baad838c0d88f5c42@o829757.ingest.sentry.io/5812480",
            integrations: [new _sentry_tracing__WEBPACK_IMPORTED_MODULE_3__.jK.BrowserTracing],
            environment: config.TARGET_ENV,
            release: `${config.KB_APP_NAME}@${config.KB_APP_VERSION}`,
            tracesSampleRate: parseFloat(config.KB_SENTRY_SAMPLE_RATE),
            beforeSend(e) {
                var t, r, a, o, s;
                const n = null === (t = e.exception) || void 0 === t ? void 0 : null === (r = t.values) || void 0 === r ? void 0 : r[0];
                return null !== n && void 0 !== n && null !== (a = n.value) && void 0 !== a && a.match(/ResizeObserver loop limit exceeded/i) ? null : null !== n && void 0 !== n && null !== (o = n.type) && void 0 !== o && o.match(/UnhandledRejection/) && null !== n && void 0 !== n && null !== (s = n.value) && void 0 !== s && s.match(/Non-Error promise rejection captured with value: undefined/) ? null : e
            }
        }),
        _utils_feature_flags__WEBPACK_IMPORTED_MODULE_19__.V.updateFromUrlParams(),
        _utils_feature_flags__WEBPACK_IMPORTED_MODULE_19__.V.hasFlag("theme-dark") ? (0,
        _utils_themes__WEBPACK_IMPORTED_MODULE_20__.D)(_utils_themes__WEBPACK_IMPORTED_MODULE_20__.y.dark) : _utils_feature_flags__WEBPACK_IMPORTED_MODULE_19__.V.hasFlag("theme-light") ? (0,
        _utils_themes__WEBPACK_IMPORTED_MODULE_20__.D)(_utils_themes__WEBPACK_IMPORTED_MODULE_20__.y.light) : (0,
        _utils_themes__WEBPACK_IMPORTED_MODULE_20__.D)(_utils_themes__WEBPACK_IMPORTED_MODULE_20__.y.default);
        const MOUNT_NODE = document.getElementById("app")
          , render = e=>{
            react_dom__WEBPACK_IMPORTED_MODULE_1__.render(react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_22__.Router, {
                history: _utils_history__WEBPACK_IMPORTED_MODULE_5__.Z
            }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_4__.Yi, {
                providerConfig: telemetryConfig
            }, ({trackUser: e})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_account__WEBPACK_IMPORTED_MODULE_13__.u, {
                config: config
            }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_webusb__WEBPACK_IMPORTED_MODULE_6__.Ye, {
                config: config
            }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_stems__WEBPACK_IMPORTED_MODULE_12__.nZ, {
                config: config
            }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_audio_engine__WEBPACK_IMPORTED_MODULE_18__.Z, {
                config: config
            }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_remix__WEBPACK_IMPORTED_MODULE_11__.V, {
                config: config
            }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_trackapi__WEBPACK_IMPORTED_MODULE_7__.G, {
                config: config
            }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_firmware_update__WEBPACK_IMPORTED_MODULE_8__.E, {
                config: config
            }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_album_restore__WEBPACK_IMPORTED_MODULE_10__._, {
                config: config
            }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_notifications__WEBPACK_IMPORTED_MODULE_9__.JB, {
                config: config
            }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_view_manager__WEBPACK_IMPORTED_MODULE_14__.d, null, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_containers_App__WEBPACK_IMPORTED_MODULE_15__.Z, {
                config: config,
                trackUser: e
            }))))))))))))), e || MOUNT_NODE)
        }
        ;
        if (window.Shell) {
            class KashApp {
                constructor() {
                    this.root = void 0,
                    this.root = document.createElement("div"),
                    render(this.root)
                }
                __reactstandin__regenerateByEval(key, code) {
                    this[key] = eval(code)
                }
            }
            window.Shell.define(KashApp)
        } else
            render();
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(config, "config", "/home/vsts/work/1/s/src/index.tsx"),
            e.register(telemetryConfig, "telemetryConfig", "/home/vsts/work/1/s/src/index.tsx"),
            e.register(font2Observer, "font2Observer", "/home/vsts/work/1/s/src/index.tsx"),
            e.register(MOUNT_NODE, "MOUNT_NODE", "/home/vsts/work/1/s/src/index.tsx"),
            e.register(render, "render", "/home/vsts/work/1/s/src/index.tsx"))
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    "1cbf6a093bab4cc54764": (e,t,r)=>{
        "use strict";
        r.d(t, {
            T: ()=>a
        }),
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const a = (e,t,r)=>{
            const a = []
              , o = e=>{
                if (0 === e.length)
                    return;
                let s = t;
                for (const [t,n] of e.entries()) {
                    const i = `id=${n}&`;
                    if ((s += i).length >= r) {
                        s = s.replace(i, "").slice(0, -1),
                        a.push({
                            url: s,
                            items: e.slice(0, t)
                        }),
                        o(e.slice(t));
                        break
                    }
                    if (t === e.length - 1) {
                        a.push({
                            url: s.slice(0, -1),
                            items: e
                        });
                        break
                    }
                }
            }
            ;
            return o(e),
            a
        }
        ;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && e.register(a, "returnPaginatedUrls", "/home/vsts/work/1/s/src/utils/api-request-pagination.ts")
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    d6e61794281205c7e43a: (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>o
        }),
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const a = ["audio/aiff", "audio/basic", "audio/flac", "audio/x-flac", "audio/it", "audio/L24", "audio/make.my.funk", "audio/make", "audio/mid", "audio/midi", "audio/mod", "audio/mp4", "audio/m4a", "audio/x-m4a", "audio/mpeg", "audio/mpeg3", "audio/nspaudio", "audio/ogg", "audio/s3m", "audio/tsp-audio", "audio/tsplayer", "audio/vnd.qcelp", "audio/vnd.rn-realaudio", "audio/vnd.wav", "audio/voc", "audio/vorbis", "audio/voxware", "audio/wav", "audio/x-adpcm", "audio/x-aiff", "audio/x-au", "audio/x-gsm", "audio/x-jam", "audio/x-liveaudio", "audio/x-mid", "audio/x-midi", "audio/x-mod", "audio/x-mpeg-3", "audio/x-mpeg", "audio/x-mpegurl", "audio/x-mpequrl", "audio/x-nspaudio", "audio/x-pn-realaudio-plugin", "audio/x-pn-realaudio", "audio/x-psid", "audio/x-realaudio", "audio/x-twinvq-plugin", "audio/x-twinvq", "audio/x-vnd.audioexplosion.mjuicemediafile", "audio/x-voc", "audio/x-wav", "audio/x-xm", "audio/xm"]
          , o = a;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && e.register(a, "default", "/home/vsts/work/1/s/src/utils/audioMimeTypes.js")
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "557b135c7198835d5410": (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>c
        });
        var a = r("de098c4daf91477f9cbc")
          , o = r("eb88800281880750dee6");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const s = e=>new Promise(t=>setTimeout(t, e))
          , n = function() {
            var e = (0,
            a.Z)(function*(e, t) {
                const {maxRetries: r=5, retry: a=1, functionName: i=e.name} = null !== t && void 0 !== t ? t : {};
                try {
                    return yield e()
                } catch (t) {
                    var c;
                    if (null !== t && void 0 !== t && null !== (c = t.message) && void 0 !== c && c.match(/user aborted/i))
                        throw t;
                    if (a === r)
                        throw o.captureException(t),
                        new Error(`${i} has been retried ${r} times.`);
                    if (a <= r)
                        return yield s(Math.pow(a, 6)),
                        yield n(e, {
                            maxRetries: r,
                            retry: a + 1,
                            functionName: i
                        })
                }
            });
            return function(t, r) {
                return e.apply(this, arguments)
            }
        }()
          , i = n
          , c = i;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(s, "wait", "/home/vsts/work/1/s/src/utils/backOffRetry.ts"),
            e.register(n, "backOffRetry", "/home/vsts/work/1/s/src/utils/backOffRetry.ts"),
            e.register(i, "default", "/home/vsts/work/1/s/src/utils/backOffRetry.ts"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "5347e167343c470dbdfe": (e,t,r)=>{
        "use strict";
        r.d(t, {
            G6: ()=>s,
            qs: ()=>l,
            gn: ()=>d,
            nz: ()=>u,
            fq: ()=>f
        }),
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const a = !!window.opr && !!window.opr.addons || !!window.opera || navigator.userAgent.indexOf(" OPR/") >= 0
          , o = "undefined" !== typeof window.InstallTrigger
          , s = /constructor/i.test(window.HTMLElement) || function(e) {
            return "[object SafariRemoteNotification]" === (!window["safari"] || typeof window.safari !== "undefined" && window.safari.pushNotification).toString()
        }()
          , n = !!document.documentMode
          , i = !n && !!window.StyleMedia
          , c = !!window.chrome && (!!window.chrome.webstore || !!window.chrome.runtime || !!window.chrome.loadTimes)
          , _ = navigator.userAgent.match(/SamsungBrowser/i)
          , l = ()=>a ? "Opera" : _ ? "Samsung" : o ? "Firefox" : s ? "Safari" : n ? "IE" : i ? "Edge" : c ? "Chrome" : void 0
          , d = ()=>!!navigator.userAgent.match(/iphone|ipod|ipad/i)
          , u = ()=>!!navigator.userAgent.match(/iphone|ipod|ipad/i) && !!navigator.userAgent.match("Version")
          , f = ()=>!!window.navigator.userAgent.match(/Trident\/7\./i);
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(a, "isOpera", "/home/vsts/work/1/s/src/utils/browser-detection.ts"),
            e.register(o, "isFirefox", "/home/vsts/work/1/s/src/utils/browser-detection.ts"),
            e.register(s, "isSafari", "/home/vsts/work/1/s/src/utils/browser-detection.ts"),
            e.register(n, "isIE", "/home/vsts/work/1/s/src/utils/browser-detection.ts"),
            e.register(i, "isEdge", "/home/vsts/work/1/s/src/utils/browser-detection.ts"),
            e.register(c, "isChrome", "/home/vsts/work/1/s/src/utils/browser-detection.ts"),
            e.register(_, "isSamsung", "/home/vsts/work/1/s/src/utils/browser-detection.ts"),
            e.register(l, "getBrowser", "/home/vsts/work/1/s/src/utils/browser-detection.ts"),
            e.register(d, "isIOS", "/home/vsts/work/1/s/src/utils/browser-detection.ts"),
            e.register(u, "isIOSSafari", "/home/vsts/work/1/s/src/utils/browser-detection.ts"),
            e.register(f, "isIE11", "/home/vsts/work/1/s/src/utils/browser-detection.ts"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "3145f0c7f3b91ffef7d2": (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            f: ()=>CancelController
        }),
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        class CancelController {
            constructor() {
                this.methods = [],
                this.cancelled = !1,
                this.register = (e=>(this.methods.push(e),
                this.cancelled))
            }
            cancel() {
                this.cancelled = !0,
                this.methods.map(e=>e())
            }
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && e.register(CancelController, "CancelController", "/home/vsts/work/1/s/src/utils/cancel-controller.ts")
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    c90b79b40c6328f03c9e: (e,t,r)=>{
        "use strict";
        r.d(t, {
            lY: ()=>_
        }),
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        function a(e) {
            var t = "0123456789abcdef"
              , r = e;
            return 0 == r || isNaN(e) ? "00" : (r = Math.round(Math.min(Math.max(0, r), 255)),
            t.charAt((r - r % 16) / 16) + t.charAt(r % 16))
        }
        function o(e) {
            return a(e[0]) + a(e[1]) + a(e[2])
        }
        function s(e) {
            return "#" == e.charAt(0) ? e.substring(1, 7) : e
        }
        function n(e) {
            var t = [];
            return t[0] = parseInt(s(e).substring(0, 2), 16),
            t[1] = parseInt(s(e).substring(2, 4), 16),
            t[2] = parseInt(s(e).substring(4, 6), 16),
            t
        }
        function i(e, t, r) {
            r /= 100;
            const a = t * Math.min(r, 1 - r) / 100
              , o = t=>{
                const o = (t + e / 30) % 12
                  , s = r - a * Math.max(Math.min(o - 3, 9 - o, 1), -1);
                return Math.round(255 * s).toString(16).padStart(2, "0")
            }
            ;
            return `#${o(0)}${o(8)}${o(4)}`
        }
        function c(e, t) {
            return Math.floor(Math.random() * (t - e) + e)
        }
        function _() {
            return i(c(0, 360), 100, 50)
        }
        function l() {
            const e = c(0, 360)
              , t = (e + c(55, 305)) % 360;
            return [i(e, 100, 50), i(t, 100, 50)]
        }
        function d(e, t, r) {
            var a = n(e)
              , s = n(t)
              , i = r
              , c = 0
              , _ = [];
            for (let e = 0; e < i; e++) {
                var l = [];
                c += 1 / i,
                l[0] = a[0] * c + (1 - c) * s[0],
                l[1] = a[1] * c + (1 - c) * s[1],
                l[2] = a[2] * c + (1 - c) * s[2],
                _.push("#" + o(l))
            }
            return _
        }
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(a, "hex", "/home/vsts/work/1/s/src/utils/colors.ts"),
            e.register(o, "convertToHex", "/home/vsts/work/1/s/src/utils/colors.ts"),
            e.register(s, "trim", "/home/vsts/work/1/s/src/utils/colors.ts"),
            e.register(n, "hexToRGB", "/home/vsts/work/1/s/src/utils/colors.ts"),
            e.register(i, "hslToHex", "/home/vsts/work/1/s/src/utils/colors.ts"),
            e.register(c, "getRandomInt", "/home/vsts/work/1/s/src/utils/colors.ts"),
            e.register(_, "getBrightHexColor", "/home/vsts/work/1/s/src/utils/colors.ts"),
            e.register(l, "getRandomColorPair", "/home/vsts/work/1/s/src/utils/colors.ts"),
            e.register(d, "getColorGradient", "/home/vsts/work/1/s/src/utils/colors.ts"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    b194d90914e83db0f428: (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>s
        }),
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        function a(e, t, r, a) {
            if (a && (e *= 100,
            t = t.map(e=>100 * e),
            r = r.map(e=>100 * e)),
            e < t[0] || e > t[1])
                return NaN;
            var o = t[1] - t[0]
              , s = r[1] - r[0];
            const n = (e - t[0]) * s / o + r[0];
            return a ? n / 100 : n
        }
        const o = a
          , s = o;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(a, "convertToRange", "/home/vsts/work/1/s/src/utils/convertToRange.ts"),
            e.register(o, "default", "/home/vsts/work/1/s/src/utils/convertToRange.ts"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "4f28e23b4abf5c56b2d8": (e,t,r)=>{
        "use strict";
        r.d(t, {
            l: ()=>s
        });
        var a = r("de098c4daf91477f9cbc")
          , o = r("557b135c7198835d5410");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const s = function() {
            var e = (0,
            a.Z)(function*(e, t) {
                const r = yield(0,
                o.Z)((0,
                a.Z)(function*() {
                    return fetch(e, {
                        signal: t
                    })
                }), {
                    functionName: "downloadBlob"
                });
                if (!r.ok)
                    throw new Error("Request failed");
                return yield r.blob()
            });
            return function(t, r) {
                return e.apply(this, arguments)
            }
        }();
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && e.register(s, "downloadBlob", "/home/vsts/work/1/s/src/utils/downloadBlob.ts")
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    ae7c73bc2a0288473236: (e,t,r)=>{
        "use strict";
        r.d(t, {
            S: ()=>n
        });
        var a = r("de098c4daf91477f9cbc")
          , o = r("09bf4ee68fa3c88cf6b2")
          , s = r("4f28e23b4abf5c56b2d8");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const n = function() {
            var e = (0,
            a.Z)(function*(e, t, r) {
                const a = yield(0,
                s.l)(e, r)
                  , n = o.extension(a.type);
                return new File([a],`${t}.${n}`)
            });
            return function(t, r, a) {
                return e.apply(this, arguments)
            }
        }();
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && e.register(n, "downloadFile", "/home/vsts/work/1/s/src/utils/downloads.ts")
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    c0326c9d650a633c92d0: (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            V: ()=>featureFlags
        }),
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const FLAGS = ["theme-light", "theme-dark"]
          , LOCAL_STORAGE_KEY = "spFeatureFlags";
        class FeatureFlags {
            constructor(e, t) {
                this.flags = void 0,
                this.on = void 0,
                this.localStorageKey = void 0,
                this.flags = e,
                this.localStorageKey = t,
                this.on = [];
                const r = localStorage.getItem(this.localStorageKey);
                if (r && r.length > 0) {
                    const e = JSON.parse(r);
                    Array.isArray(e) && (this.on = e)
                }
            }
            updateFromUrlParams() {
                const e = new URLSearchParams(location.search);
                if (e.has("on")) {
                    const t = e.get("on");
                    this.setFlag(t)
                }
                if (e.has("off")) {
                    const t = e.get("off");
                    this.clearFlag(t)
                }
            }
            setFlag(e) {
                if (!this.flags.includes(e))
                    throw new Error(`Unknown feature flag ${e}`);
                this.on.includes(e) || (this.on.push(e),
                this.commitFlags())
            }
            clearFlag(e) {
                if (!this.flags.includes(e))
                    throw new Error(`Unknown feature flag ${e}`);
                this.on.includes(e) && (this.on = this.on.filter(t=>t !== e),
                this.commitFlags())
            }
            clearAll() {
                this.on = [],
                this.commitFlags()
            }
            hasFlag(e) {
                return this.flags.includes(e) && this.on.includes(e)
            }
            commitFlags() {
                localStorage.setItem(this.localStorageKey, JSON.stringify(this.on))
            }
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        const featureFlags = new FeatureFlags(FLAGS,LOCAL_STORAGE_KEY);
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(FLAGS, "FLAGS", "/home/vsts/work/1/s/src/utils/feature-flags.ts"),
            e.register(LOCAL_STORAGE_KEY, "LOCAL_STORAGE_KEY", "/home/vsts/work/1/s/src/utils/feature-flags.ts"),
            e.register(FeatureFlags, "FeatureFlags", "/home/vsts/work/1/s/src/utils/feature-flags.ts"),
            e.register(featureFlags, "featureFlags", "/home/vsts/work/1/s/src/utils/feature-flags.ts"))
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    "3c15b862d899a16e9481": (e,t,r)=>{
        "use strict";
        r.d(t, {
            vJ: ()=>a,
            ee: ()=>o,
            $r: ()=>s
        }),
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const a = e=>{
            var t;
            return (e.metadata && e.metadata.artists && e.metadata.artists.length > 0 ? e.metadata.artists[0] : null !== (t = e.metadata) && void 0 !== t && t.artist ? e.metadata.artist : e.artist ? e.artist : "").replace("VEVO", "")
        }
          , o = e=>{
            var t;
            let r = e.title ? e.title : e.metadata && e.metadata.title ? null === (t = e.metadata) || void 0 === t ? void 0 : t.title : "";
            return r = (r = (r = (r = (r = (r = (r = (r = (r = (r = (r = (r = (r = r.replace(" (Official Audio)", "")).replace("[Official Music Video]", "")).replace("(Official Music Video)", "")).replace("(Official Video)", "")).replace("(Official Lyric Video)", "")).replace("(lyrics Video).", "")).replace(".mp3", "")).replace(".wav", "")).replace("[W Lyrics]", "")).replace(" (Audio)", "")).replace("Lyrics video", "")).replace(" (Official)", "")).replace("-", "\u2013")
        }
          , s = (e,t)=>e.replace(`${t} - `, "");
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(a, "filteredTrackArtist", "/home/vsts/work/1/s/src/utils/filteredTrackMetadata.js"),
            e.register(o, "filterTrackTitle", "/home/vsts/work/1/s/src/utils/filteredTrackMetadata.js"),
            e.register(s, "filteredTrackTitle", "/home/vsts/work/1/s/src/utils/filteredTrackMetadata.js"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    da23a0dbab1fa75005eb: (e,t,r)=>{
        "use strict";
        r.d(t, {
            hA: ()=>o,
            kd: ()=>s,
            Rx: ()=>n,
            pG: ()=>i
        });
        var a = r("3f02c5877d4690b5563c");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const o = 120
          , s = 1
          , n = e=>{
            if (void 0 === e)
                return 180;
            return -1 === (0,
            a.Ee)(e, "1.0.1551") ? 180 : 250
        }
          , i = e=>{
            switch (e) {
            case 2:
                return "TWO";
            case 3:
                return "THREE";
            case 4:
                return "FOUR";
            default:
                return ""
            }
        }
        ;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(o, "DEFAULT_BPM", "/home/vsts/work/1/s/src/utils/forms.ts"),
            e.register(s, "MIN_BPM", "/home/vsts/work/1/s/src/utils/forms.ts"),
            e.register(n, "getMaxBpm", "/home/vsts/work/1/s/src/utils/forms.ts"),
            e.register(i, "numberAsWord", "/home/vsts/work/1/s/src/utils/forms.ts"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "4f64e9a1f5202b774215": (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>n
        });
        var a = r("89fa59dfd48f288c4600");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const o = (0,
        a.Z)()
          , s = o
          , n = s;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(o, "history", "/home/vsts/work/1/s/src/utils/history.ts"),
            e.register(s, "default", "/home/vsts/work/1/s/src/utils/history.ts"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    a251fa0b0449b11ba1dd: (e,t,r)=>{
        "use strict";
        r.d(t, {
            T: ()=>n
        });
        var a = r("c7b40aca13c4330396a9")
          , o = r.n(a);
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        function s() {
            return o()().replace(/-/g, "")
        }
        function n() {
            return s().substring(0, 8)
        }
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(s, "idGen", "/home/vsts/work/1/s/src/utils/ids.ts"),
            e.register(n, "shortId", "/home/vsts/work/1/s/src/utils/ids.ts"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    e2161c2bb2fb866f34ce: (e,t,r)=>{
        "use strict";
        r.d(t, {
            t: ()=>a
        }),
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        function a(e, t, r) {
            return e * (1 - r) + t * r
        }
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && e.register(a, "lerp", "/home/vsts/work/1/s/src/utils/lerp.ts")
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    a60417c8351c73d4238a: (e,t,r)=>{
        "use strict";
        r.d(t, {
            Rp: ()=>a,
            BS: ()=>s
        }),
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        function a(e, t, r) {
            if (r >= e.length) {
                let t = r - e.length + 1;
                for (; t--; )
                    e.push(void 0)
            }
            const a = e.splice(t, 1)[0];
            e.splice(r, 0, a)
        }
        const o = e=>{
            if (!e.target)
                return !1;
            let t = e.target;
            return "svg" === t.tagName ? t = e.target.parentNode : "path" === t.tagName && (t = e.target.parentNode.parentNode),
            !("BUTTON" !== t.tagName || !t.classList.contains("buy-button__play"))
        }
        ;
        function s(e, t) {
            return e && "string" === typeof e ? e.substring(0, t) : e
        }
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(a, "arrayMove", "/home/vsts/work/1/s/src/utils/misc.ts"),
            e.register(o, "clickedPlayButton", "/home/vsts/work/1/s/src/utils/misc.ts"),
            e.register(s, "maxLength", "/home/vsts/work/1/s/src/utils/misc.ts"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "33f12881a4b6c417b540": (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>o
        }),
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const a = e=>{
            window.preventScroll && e.preventDefault()
        }
          , o = a;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && e.register(a, "default", "/home/vsts/work/1/s/src/utils/preventScrollHandler.js")
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "971fd0ff834a938d5a3d": (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            C: ()=>DeferredPromise
        }),
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        class DeferredPromise {
            constructor() {
                this.promise = void 0,
                this.reject = void 0,
                this.resolve = void 0,
                this.promise = new Promise((e,t)=>{
                    this.reject = t,
                    this.resolve = e
                }
                )
            }
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && e.register(DeferredPromise, "DeferredPromise", "/home/vsts/work/1/s/src/utils/promises.ts")
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    "553c2c26a5c8a1e6fec3": (e,t,r)=>{
        "use strict";
        r.d(t, {
            s: ()=>o
        });
        var a = r("8af190b70a6bc55c6f1b");
        function o() {
            const e = (0,
            a.useRef)(!1);
            return (0,
            a.useEffect)(function() {
                return e.current = !0,
                function() {
                    e.current = !1
                }
            }, []),
            (0,
            a.useCallback)(function() {
                return e.current
            }, [e])
        }
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }(),
        ("undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        )(o, "useRef{mountedRef}\nuseEffect{}\nuseCallback{}"),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && e.register(o, "useMounted", "/home/vsts/work/1/s/src/utils/react-is-mounted.ts")
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "63922d5ff7825dcb0b86": (e,t,r)=>{
        "use strict";
        r.d(t, {
            b3: ()=>a,
            xb: ()=>o,
            vu: ()=>s
        }),
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        function a(e) {
            var t = document.createElement("a");
            return t.href = e,
            t.host && t.host != window.location.host
        }
        function o(e) {
            return !e || 0 === e.length
        }
        function s(e) {
            return !isNaN(Number(e))
        }
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(a, "validURL", "/home/vsts/work/1/s/src/utils/regex.ts"),
            e.register(o, "isEmpty", "/home/vsts/work/1/s/src/utils/regex.ts"),
            e.register(s, "isValidBpm", "/home/vsts/work/1/s/src/utils/regex.ts"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "5a530d159ab46bd0cea7": (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>s
        }),
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const a = ()=>{
            const e = document.querySelectorAll(".ye-waveform--loading")
              , t = document.querySelectorAll(".mini-player__stems--loading");
            e.length > 0 && e.forEach(e=>{
                e.style.animationName = "none",
                requestAnimationFrame(()=>{
                    setTimeout(()=>{
                        e.style.animationName = ""
                    }
                    , 0)
                }
                )
            }
            ),
            t.length > 0 && t.forEach(e=>{
                e.style.animationName = "none",
                requestAnimationFrame(()=>{
                    setTimeout(()=>{
                        e.style.animationName = ""
                    }
                    , 0)
                }
                )
            }
            )
        }
          , o = a
          , s = o;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(a, "restartLoadingAnimations", "/home/vsts/work/1/s/src/utils/restartLoadingAnimations.ts"),
            e.register(o, "default", "/home/vsts/work/1/s/src/utils/restartLoadingAnimations.ts"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "957d24b63b1050799be8": (e,t,r)=>{
        "use strict";
        r.d(t, {
            y: ()=>a,
            D: ()=>o
        }),
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const a = {
            default: {
                background: "#959595",
                main: "#252525"
            },
            light: {
                background: "white",
                main: "black"
            },
            dark: {
                background: "#6b7475",
                main: "#a8a28a"
            }
        };
        function o(e) {
            document.documentElement.style.setProperty("--color-background", e.background),
            document.documentElement.style.setProperty("--color-main", e.main)
        }
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(a, "THEMES", "/home/vsts/work/1/s/src/utils/themes.ts"),
            e.register(o, "setTheme", "/home/vsts/work/1/s/src/utils/themes.ts"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "6792dda0bcc4906dd1ad": (e,t,r)=>{
        "use strict";
        r.d(t, {
            $: ()=>a
        }),
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const a = (e,t,r)=>{
            var a;
            void 0 === t && (t = !1),
            void 0 === r && (r = !1),
            void 0 !== document.hidden ? a = {
                hidden: "hidden",
                visibilitychange: "visibilitychange"
            } : void 0 !== document.webkitHidden ? a = {
                hidden: "webkitHidden",
                visibilitychange: "webkitvisibilitychange"
            } : void 0 !== document.mozHidden ? a = {
                hidden: "mozHidden",
                visibilitychange: "mozvisibilitychange"
            } : void 0 !== document.msHidden && (a = {
                hidden: "msHidden",
                visibilitychange: "msvisibilitychange"
            });
            const o = (e,t,r,a,o)=>{
                for (var s = 0; s < t.length; ++s)
                    e.addEventListener(t[s], r, {
                        capture: a,
                        passive: o
                    })
            }
              , s = (e,t,r,a,o)=>{
                for (var s = 0; s < t.length; ++s)
                    e.removeEventListener(t[s], r, {
                        capture: a,
                        passive: o
                    })
            }
              , n = ()=>{}
            ;
            var i = navigator.userAgent.toLowerCase()
              , c = r || i.indexOf("iphone") >= 0 && i.indexOf("like iphone") < 0 || i.indexOf("ipad") >= 0 && i.indexOf("like ipad") < 0 || i.indexOf("ipod") >= 0 && i.indexOf("like ipod") < 0 || i.indexOf("mac os x") >= 0 && navigator.maxTouchPoints > 0;
            console.log("unmute is ios: ", c);
            var _ = !0;
            const l = ()=>{
                var e = !(!t && (a && document[a.hidden] || c && !document.hasFocus()));
                e !== _ && (_ = e,
                v(!1),
                f())
            }
              , d = ()=>{
                l()
            }
            ;
            a && o(document, [a.visibilitychange], d, !0, !0);
            const u = e=>{
                e && e.target !== window || l()
            }
            ;
            c && o(window, ["focus", "blur"], u, !0, !0);
            const f = ()=>{
                var t;
                _ ? "running" !== e.state && "closed" !== e.state && y && (t = e.resume()) && t.then(n, n).catch(n) : "running" === e.state && (t = e.suspend()) && t.then(n, n).catch(n)
            }
              , m = e=>{
                e && e.unmute_handled || (e.unmute_handled = !0,
                f())
            }
            ;
            o(e, ["statechange"], m, !0, !0),
            e.onstatechange || (e.onstatechange = m);
            var h = null;
            function p(e, t) {
                for (var r = t; e > 1; e--)
                    r += t;
                return r
            }
            var b = "data:audio/mpeg;base64,//uQx" + p(23, "A") + "WGluZwAAAA8AAAACAAACcQCA" + p(16, "gICA") + p(66, "/") + "8AAABhTEFNRTMuMTAwA8MAAAAAAAAAABQgJAUHQQAB9AAAAnGMHkkI" + p(320, "A") + "//sQxAADgnABGiAAQBCqgCRMAAgEAH" + p(15, "/") + "7+n/9FTuQsQH//////2NG0jWUGlio5gLQTOtIoeR2WX////X4s9Atb/JRVCbBUpeRUq" + p(18, "/") + "9RUi0f2jn/+xDECgPCjAEQAABN4AAANIAAAAQVTEFNRTMuMTAw" + p(97, "V") + "Q==";
            const v = e=>{
                if (c)
                    if (_) {
                        if (e) {
                            if (!h) {
                                var t = document.createElement("div");
                                t.innerHTML = "<audio x-webkit-airplay='deny'></audio>",
                                (h = t.children.item(0)).controls = !1,
                                h.disableRemotePlayback = !0,
                                h.preload = "auto",
                                h.src = b,
                                h.loop = !0,
                                h.load()
                            }
                            if (h.paused) {
                                var r = h.play();
                                r && r.then(n, E).catch(E)
                            }
                        }
                    } else
                        E()
            }
              , E = ()=>{
                h && (h.src = "about:blank",
                h.load(),
                h = null)
            }
            ;
            var g = ["click", "contextmenu", "auxclick", "dblclick", "mousedown", "mouseup", "touchend", "keydown", "keyup"]
              , y = !1;
            const A = ()=>{
                y = !0,
                v(!0),
                f()
            }
            ;
            return o(window, g, A, !0, !0),
            {
                dispose: ()=>{
                    E(),
                    a && s(document, [a.visibilitychange], d, !0, !0),
                    c && s(window, ["focus", "blur"], u, !0, !0),
                    s(window, g, A, !0, !0),
                    s(e, ["statechange"], m, !0, !0),
                    e.onstatechange === m && (e.onstatechange = null)
                }
            }
        }
        ;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && e.register(a, "unmute", "/home/vsts/work/1/s/src/utils/unmute.js")
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "50adafd66d905a6a5399": (e,t,r)=>{
        "use strict";
        r.d(t, {
            X: ()=>o
        });
        var a = r("de098c4daf91477f9cbc");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const o = function() {
            var e = (0,
            a.Z)(function*() {
                if (navigator && navigator.usb) {
                    const e = yield navigator.usb.getDevices();
                    return e.length > 0 && !!e.map(e=>e.productName ? e.productName : null).find(e=>"STEM PLAYER" === e.toUpperCase())
                }
                return !1
            });
            return function() {
                return e.apply(this, arguments)
            }
        }();
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && e.register(o, "isConnectedInAnotherTab", "/home/vsts/work/1/s/src/utils/usb.ts")
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "590e518eaa9efe3ab6d3": (e,t,r)=>{
        "use strict";
        r.d(t, {
            oH: ()=>a,
            uo: ()=>o
        }),
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        function a(e) {
            return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)
        }
        function o(e) {
            return !!(e.length >= 8)
        }
        function s(e) {
            if ("" === e.trim())
                return !1;
            if ("#" != e[0])
                return !1;
            if (4 != e.length && 7 != e.length)
                return !1;
            for (let t = 1; t < e.length; t++)
                if (!(e[t].charCodeAt(0) <= "0".charCodeAt(0) && e[t].charCodeAt(0) <= 9 || e[t].charCodeAt(0) >= "a".charCodeAt(0) && e[t].charCodeAt(0) <= "f".charCodeAt(0) || e[t].charCodeAt(0) >= "A".charCodeAt(0) || e[t].charCodeAt(0) <= "F".charCodeAt(0)))
                    return !1;
            return !0
        }
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(a, "validateEmail", "/home/vsts/work/1/s/src/utils/validate.ts"),
            e.register(o, "validatePassword", "/home/vsts/work/1/s/src/utils/validate.ts"),
            e.register(s, "validHexaCode", "/home/vsts/work/1/s/src/utils/validate.ts"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "238af0e74d3daf256b28": (e,t,r)=>{
        "use strict";
        r.d(t, {
            lo: ()=>o,
            f1: ()=>n,
            tX: ()=>i,
            xd: ()=>c,
            Jb: ()=>_
        });
        var a = r("e2161c2bb2fb866f34ce");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const o = [.1, .1];
        function s(e) {
            const t = {};
            return Object.keys(e).map(r=>{
                t[r] = e[r].map(e=>0 === e ? e : e / 100)
            }
            ),
            t
        }
        function n(e) {
            return e.map(e=>0 === e ? e : e / 100)
        }
        function i(e, t, r, a, o) {
            if (o || 0 === r || t === r)
                return 0;
            if (e) {
                const r = Math.round(t * a);
                return r >= e.length ? 0 : e[r] / 100
            }
            return 0
        }
        function c(e, t) {
            const r = e.length / t
              , o = Math.floor(r / 10) || 1;
            let s = [];
            if (t <= 0)
                return s;
            if (!e || 0 === e.length) {
                for (let e = 0; e < t; e += 1)
                    s.push(0);
                return s
            }
            if (e.length > t)
                for (let a = 0; a < t; a += 1) {
                    const t = Math.floor(a * r)
                      , n = Math.floor(t + r);
                    let i = 0;
                    for (let r = t; r < n; r += o) {
                        const t = (e[r] - 50) / 100;
                        t > i && (i = t)
                    }
                    s.push(i)
                }
            else if (e.length < t)
                for (let r = 0; r < t; r += 1) {
                    const o = t / (e.length - 1)
                      , n = Math.floor(r / o)
                      , i = n * o
                      , c = Math.min(i + o, t - 1) - i
                      , _ = (0,
                    a.t)(e[n], e[n + 1], (r - i) / c);
                    s.push(_)
                }
            else
                s = e;
            let n = 0;
            for (let e = 0; e < s.length; e += 1) {
                const t = s[e];
                t > n && (n = t)
            }
            return n > 0 ? s.map(e=>e / n) : s
        }
        function _(e) {
            return void 0 !== e && void 0 !== e.vocals.intensity
        }
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(o, "FALLBACK_WAVEFORM_DATA", "/home/vsts/work/1/s/src/utils/waveforms.ts"),
            e.register(s, "parseFetchedWaveformData", "/home/vsts/work/1/s/src/utils/waveforms.ts"),
            e.register(n, "parseFetchedWaveformDataIndividual", "/home/vsts/work/1/s/src/utils/waveforms.ts"),
            e.register(i, "getIntensityAtMoment", "/home/vsts/work/1/s/src/utils/waveforms.ts"),
            e.register(c, "getWaveformPeaks", "/home/vsts/work/1/s/src/utils/waveforms.ts"),
            e.register(_, "isIntensityWaveform", "/home/vsts/work/1/s/src/utils/waveforms.ts"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "49c109a56bd7c2e379fd": (e,t,r)=>{
        "use strict";
        r.p
    }
    ,
    "2cc3443f170f92e6c07f": (e,t,r)=>{
        "use strict";
        r.p
    }
    ,
    "5fc49946715057305344": e=>{
        "use strict";
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJMAAACTCAMAAAC9O9snAAAAM1BMVEVHcEzn5+eZmZk6Ojr///////8BAQH///////////8gICBaWlqAgIC/v79wcHDPz8+vr6/mwDFFAAAACnRSTlMA////kP//YJ/fL/cdewAAAjFJREFUeNrtm91yqzAMhCP5ZNv6l/d/2l4AJyIDLReZyZZZ3woNn7Etay18uxG2jy+29u/2cWdrn2ISk5jEdH0mMzYmB1CMiskBAImKKQEAMJiYZiRM+k5n5lMhW3eZbt1RxiftLWK6OpPVUgYXk2UAcCqmMu8txsTEuAcvTI2JqQMAsvHN8YkrFty9u93JmBTHxXR1JmuDjakCSNLm0uYv/U5Ue3ADAHQ+bV4VM8UkJmnznpJzMRn4tHmSNv+z2rzO2pxrjqeXpXQvjE9TlTYXk5jEJCYx7TC13h/phnkJ20XrvR2YjrRx7xY8esj4pl6PTM9MNQpsywDyiKYas8rfDuhL9Jg2HikmpY6no6sN05zArg+neKQ0bfKjfOK0yXc8ysZk8aX1gGlOghbP5dnFs0fTwIlMN8UOtsVjx7T0Nv/MlDZM4zEQ+7g/Dd3a/y1TjkyO54++YWo7Y5c3Y+fnx67GsbPYpdVkO6aDOb6+amyy/hId2wmRMmeeNc6udY7PBaNd004s8FI8ysg+jkyl/xoLvJQQPUp5LH/zFEwtmhTHxSQmMYlJTP/b8MbGVF72a8ilz8Sy6pynGm+ds3KtO0s5k9U2FMfFJKY3MI2UOeucXDGTuM7pTExZdc5zrfPlvpQaQXFcTJdnaj6R/V9gKRaMOJgY75Iw7nfS5id3O0ptXuj+O1QcF5OY3sDUEjLZfYSJ8N6GtPnfzVWcUZsT3r+jvKeoOC4mMYlJTO9h+gYFPa2rrt8HfgAAAABJRU5ErkJggg=="
    }
    ,
    f82e462f9208bbad1e7d: e=>{
        "use strict";
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGAQMAAABL4HDHAAAAA1BMVEUCAwX/uU74AAAADklEQVQYGWMYBaNgiAIAArwAAa44Of4AAAAASUVORK5CYII="
    }
    ,
    "94e777f63eff622615ee": e=>{
        "use strict";
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWUAAAFlAQMAAAAJS2v4AAAAA1BMVEUAAACnej3aAAAAJ0lEQVR42u3BAQ0AAADCoPdPbQ43oAAAAAAAAAAAAAAAAAAAAIAPA0AmAAEEUTbWAAAAAElFTkSuQmCC"
    }
    ,
    "5c27a08769d295c50ba7": e=>{
        "use strict";
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGAQMAAABL4HDHAAAAA1BMVEUCAwX/uU74AAAADklEQVQYGWMYBaNgiAIAArwAAa44Of4AAAAASUVORK5CYII="
    }
    ,
    fbf27e791db133ce7130: e=>{
        "use strict";
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGAQMAAABL4HDHAAAAA1BMVEUCAwX/uU74AAAADklEQVQYGWMYBaNgiAIAArwAAa44Of4AAAAASUVORK5CYII="
    }
    ,
    "6d601a08887d6ace5f82": e=>{
        "use strict";
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJMAAACTBAMAAAB4yzYmAAAAKlBMVEVHcEz////////////////////rMiP+6+n4savuSTvxZlr0hn370c71mJFl8R0cAAAABXRSTlMAQL/fn/FtsKQAAAH+SURBVGje7ZrBTsJAEIZ5B+Pdd/AFfInaBsrRoVA41oByBRM4U03UIw1oPKIE8ViVEI9i4tO43SEEWg7E/AmFzF44zPTr7rAz/+ymmQxuHByDxknm0ACNI0EJamso00OhLN/1QKgmUReECojKIJRP5KRvVsBYWX7JS9++knTeCsr8HaNQNaIGCPVMdJ2+dAaiZrgFXuDCbrR/JHF2G1UPUai8XwQKfUeEfjPUO9EAJfTBvSeJIygW+lEPKPTfOKEviNBvKvTFELWvvq4kcQQlqDUo+1W309Wh1s7pUBfPdiJfpmM2aGf7zeNnVlEzciMfn+6ifoqFvUbxtirH5XTChoAq+ow+LxtzlEnaSbkWuUdwuOvoJhqtMtcvZbDUM56u1pVllJpHZD1VP6EuwC7jC4mWRhlsZTgzjCy/vsmvX6CsOKr0b1RkbWjr6gI7iQU6OqLRe/OLBbqxsEcXHMrJ4eh2Obqx4pnl/6Opw66cK7yglbAb1oM+EV0+6odbPVbSl/hmaPEuGWlni52nT57koKAEtWZUYafUHCFPqahWLbWnVFSzPcGdUs3+jSSOoHjYfeQpdbDX6QxEAS/ogAXZqH5I4uw26hN2z5DD3X7MoEIPTOcyblYooQfe9QFvICUHd17og1sU6nzfhR77GQlK6POE+4ykHkriCEpQy6g/MGwBw1GBk80AAAAASUVORK5CYII="
    }
    ,
    "9f2316eeebc9c27ecc70": e=>{
        "use strict";
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGAQMAAABL4HDHAAAAA1BMVEUCAwX/uU74AAAADklEQVQYGWMYBaNgiAIAArwAAa44Of4AAAAASUVORK5CYII="
    }
}, e=>{
    e.O(0, [179], ()=>{
        [1840, 6521, 5083, 9014, 6743, 327, 5908, 9945, 2868, 5009, 9713, 4958].map(e.E)
    }
    , 5);
    var t = t=>e(e.s = t);
    e.O(0, [3593, 4244, 2015, 8142, 2017, 3617, 1216, 9025, 5105, 9371, 9990, 562], ()=>(t("5b15df55c1316f23e9d0"),
    t("b52edfef829e09f7985c")));
    e.O()
}
]);
