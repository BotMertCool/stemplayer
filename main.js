(self.webpackChunkblank_board = self.webpackChunkblank_board || []).push([[179], {
    "88e8bdd04c305099c2c9": (e,t,r)=>{
        "use strict";
        r.d(t, {
            WU: ()=>i
        });
        var o = r("8af190b70a6bc55c6f1b");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const a = ({width: e=17, height: t=19, fill: r="white"})=>o.createElement("svg", {
            width: e,
            height: t,
            viewBox: "0 0 17 19",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }, o.createElement("path", {
            d: "M15.1252 6.67829C17.1252 7.83299 17.1252 10.7197 15.1252 11.8744L5.02222 17.7074C3.02222 18.8621 0.522224 17.4187 0.522224 15.1093L0.522224 3.44337C0.522224 1.13397 3.02222 -0.309397 5.02222 0.845304L15.1252 6.67829Z",
            fill: r
        }))
          , n = ({width: e=25, height: t=25})=>o.createElement("svg", {
            width: "22",
            height: "25",
            viewBox: "0 0 22 25",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }, o.createElement("path", {
            d: "M19.2349 11.634C19.9015 12.0189 19.9015 12.9811 19.2349 13.366L3.38525 22.5168C2.71859 22.9017 1.88525 22.4206 1.88525 21.6508L1.88525 3.34922C1.88525 2.57942 2.71859 2.0983 3.38525 2.4832L19.2349 11.634Z",
            stroke: "currentColor",
            strokeWidth: "3"
        }))
          , s = ({width: e=31, height: t=35})=>o.createElement("svg", {
            width: e,
            height: t,
            viewBox: "0 0 31 35",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }, o.createElement("path", {
            d: "M30.2109 17.5L0.644537 34.5702L0.644539 0.429825L30.2109 17.5Z",
            fill: "white"
        }))
          , i = ({width: e=44, height: t=44, stroke: r="var(--color-main)"})=>o.createElement("svg", {
            width: e,
            height: t,
            viewBox: "0 0 44 44",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }, o.createElement("circle", {
            cx: "22",
            cy: "22",
            r: "20",
            stroke: r,
            strokeWidth: "4"
        }));
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(a, "Play", "/home/vsts/work/1/s/src/assets/icons/Play.tsx"),
            e.register(n, "PlayOutline", "/home/vsts/work/1/s/src/assets/icons/Play.tsx"),
            e.register(s, "PlayDonda2", "/home/vsts/work/1/s/src/assets/icons/Play.tsx"),
            e.register(i, "PlayNew", "/home/vsts/work/1/s/src/assets/icons/Play.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "98207642210e3d58d89a": (e,t,r)=>{
        "use strict";
        r.d(t, {
            _z: ()=>a,
            mE: ()=>n,
            ry: ()=>s
        });
        var o = r("8af190b70a6bc55c6f1b");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const a = ({width: e=74, height: t=33, color: r="var(--color-main)"})=>o.createElement("svg", {
            width: e,
            height: t,
            viewBox: "0 0 74 33",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }, o.createElement("path", {
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M16.28 28.96L57.72 28.96C64.723 28.96 70.4 23.283 70.4 16.28C70.4 9.27703 64.723 3.6 57.72 3.6L16.28 3.6C9.27703 3.6 3.6 9.27703 3.6 16.28C3.6 23.283 9.27703 28.96 16.28 28.96ZM57.72 32.56C66.7112 32.56 74 25.2712 74 16.28C74 7.2888 66.7112 -3.8147e-06 57.72 -3.8147e-06L16.28 -3.8147e-06C7.2888 -3.8147e-06 0 7.2888 0 16.28C0 25.2712 7.2888 32.56 16.28 32.56L57.72 32.56ZM51.7484 16.3636C51.7484 13.4886 54.0791 11.1579 56.9542 11.1579C59.8292 11.1579 62.1599 13.4886 62.1599 16.3636C62.1599 19.2387 59.8292 21.5694 56.9542 21.5694C54.0791 21.5694 51.7484 19.2387 51.7484 16.3636ZM16.6009 11.1579C13.7258 11.1579 11.3951 13.4886 11.3951 16.3636C11.3951 19.2387 13.7258 21.5694 16.6009 21.5694C19.4759 21.5694 21.8066 19.2387 21.8066 16.3636C21.8066 13.4886 19.4759 11.1579 16.6009 11.1579Z",
            fill: "var(--color-main)"
        }))
          , n = ({width: e=74, height: t=33, color: r="var(--color-main)"})=>o.createElement("svg", {
            width: e,
            height: t,
            viewBox: "0 0 74 33",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }, o.createElement("path", {
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M16.28 28.96L57.72 28.96C64.723 28.96 70.4 23.283 70.4 16.28C70.4 9.27703 64.723 3.6 57.72 3.6L16.28 3.6C9.27703 3.6 3.6 9.27703 3.6 16.28C3.6 23.283 9.27703 28.96 16.28 28.96ZM57.72 32.56C66.7112 32.56 74 25.2712 74 16.28C74 7.2888 66.7112 -3.8147e-06 57.72 -3.8147e-06L16.28 -3.8147e-06C7.2888 -3.8147e-06 0 7.2888 0 16.28C0 25.2712 7.2888 32.56 16.28 32.56L57.72 32.56ZM51.7484 16.3636C51.7484 13.4886 54.0791 11.1579 56.9542 11.1579C59.8292 11.1579 62.1599 13.4886 62.1599 16.3636C62.1599 19.2387 59.8292 21.5694 56.9542 21.5694C54.0791 21.5694 51.7484 19.2387 51.7484 16.3636ZM16.6009 11.1579C13.7258 11.1579 11.3951 13.4886 11.3951 16.3636C11.3951 19.2387 13.7258 21.5694 16.6009 21.5694C19.4759 21.5694 21.8066 19.2387 21.8066 16.3636C21.8066 13.4886 19.4759 11.1579 16.6009 11.1579Z",
            fill: "url(#paint0_linear_37_215)"
        }), o.createElement("defs", null, o.createElement("linearGradient", {
            id: "paint0_linear_37_215",
            x1: "2.12071e-07",
            y1: "16.56",
            x2: "74",
            y2: "16.56",
            gradientUnits: "userSpaceOnUse"
        }, o.createElement("stop", {
            stopColor: r
        }), o.createElement("stop", {
            offset: "0.609375",
            stopColor: r,
            stopOpacity: "0.35"
        }))))
          , s = ({width: e=74, height: t=33, color: r="var(--color-main)"})=>o.createElement("svg", {
            width: e,
            height: t,
            viewBox: "0 0 74 33",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }, o.createElement("path", {
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M57.72 3.6H16.28C9.27703 3.6 3.6 9.27703 3.6 16.28C3.6 23.283 9.27703 28.96 16.28 28.96H57.72C64.723 28.96 70.4 23.283 70.4 16.28C70.4 9.27703 64.723 3.6 57.72 3.6ZM16.28 0C7.28881 0 0 7.28881 0 16.28C0 25.2712 7.2888 32.56 16.28 32.56H57.72C66.7112 32.56 74 25.2712 74 16.28C74 7.28881 66.7112 0 57.72 0L16.28 0ZM22.2516 16.1964C22.2516 19.0714 19.9209 21.4021 17.0458 21.4021C14.1708 21.4021 11.8401 19.0714 11.8401 16.1964C11.8401 13.3213 14.1708 10.9906 17.0458 10.9906C19.9209 10.9906 22.2516 13.3213 22.2516 16.1964ZM57.3991 21.4021C60.2742 21.4021 62.6049 19.0714 62.6049 16.1964C62.6049 13.3213 60.2742 10.9906 57.3991 10.9906C54.5241 10.9906 52.1934 13.3213 52.1934 16.1964C52.1934 19.0714 54.5241 21.4021 57.3991 21.4021Z",
            fill: "url(#paint0_linear_37_215)"
        }), o.createElement("defs", null, o.createElement("linearGradient", {
            id: "paint0_linear_37_215",
            x1: "74",
            y1: "16",
            x2: "-2.12071e-07",
            y2: "16",
            gradientUnits: "userSpaceOnUse"
        }, o.createElement("stop", {
            stopColor: r
        }), o.createElement("stop", {
            offset: "0.609375",
            stopColor: r,
            stopOpacity: "0.35"
        }))));
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(a, "PrevNext", "/home/vsts/work/1/s/src/assets/icons/PrevNext.tsx"),
            e.register(n, "NextHighlighted", "/home/vsts/work/1/s/src/assets/icons/PrevNext.tsx"),
            e.register(s, "PrevHighlighted", "/home/vsts/work/1/s/src/assets/icons/PrevNext.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    cc0255108d6122cbc66a: (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>h
        });
        var o = r("8af190b70a6bc55c6f1b")
          , a = r("77d9647920c06e8befd6")
          , n = r("c90b79b40c6328f03c9e")
          , s = r("e2161c2bb2fb866f34ce")
          , i = r("20096a37950a1cbbc5cd");
        const c = "precision mediump float;\n\nattribute vec4 aPosition;\nattribute vec2 aTexCoord;\nvarying vec2 vTexCoord;\n\nvoid main() {\n    gl_Position = aPosition;\n\n    vTexCoord = aTexCoord;\n}";
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        var l = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const _ = {
            "single-gradient": {
                vs: c,
                fs: "precision mediump float;\n\nuniform float uTime;\nuniform float uAmplitudeDrums;\nuniform float uAmplitudeVocals;\nuniform float uAmplitudeBass;\nuniform float uAmplitudeOther;\nuniform float uWaveformYPosDrums;\nuniform float uWaveformYPosVocals;\nuniform float uWaveformYPosBass;\nuniform float uWaveformYPosOther;\nuniform vec2 uResolution;\nuniform vec4 uColor1;\nuniform vec4 uColor2;\n// uniform vec4 uColor3;\n// uniform vec4 uColor4;\n\nvarying vec2 vTexCoord;\n\nvec4 color1 = vec4(0.6, 0.6235, 0.6745, 1.0);\nvec4 color2 = vec4(0.8941, 0.8235, 0.815686, 1.0);\nvec4 color3 = vec4(0.90196, 0.70588, 0.63529, 1.0);\nvec4 color4 = vec4(0.6, 0.62745, 0.67843, 1.0);\n\nvec4 cornerGradient(vec2 uv, vec4 c1, vec4 c2, vec4 c3, vec4 c4, float xBalance, float yBalance) {\n    vec4 col = mix(\n        mix(c1, c2, uv.y * yBalance),\n        mix(c3, c4, uv.y * yBalance),\n        uv.x * xBalance\n    );\n\n    return col;\n}\n\nfloat random(float p) {\n    return fract(sin(p)*6000.);\n}\n\nfloat noise(vec2 p) {\n    return random(p.x + p.y*20000.);\n}\n\nvec2 sw(vec2 p) {return vec2( floor(p.x) , floor(p.y) );}\nvec2 se(vec2 p) {return vec2( ceil(p.x)  , floor(p.y) );}\nvec2 nw(vec2 p) {return vec2( floor(p.x) , ceil(p.y)  );}\nvec2 ne(vec2 p) {return vec2( ceil(p.x)  , ceil(p.y)  );}\n\nfloat smoothNoise(vec2 p) {\n    // get color\n    vec2 inter = smoothstep(0., 1., fract(p));\n    float s = mix(noise(sw(p)), noise(se(p)), inter.x);\n    float n = mix(noise(nw(p)), noise(ne(p)), inter.x);\n    return mix(s, n, inter.y);\n    return noise(nw(p));\n}\n\nfloat movingNoise(vec2 p) {\n    float total = 0.0;\n    total += smoothNoise(p     - (uTime / 2500.));\n    total += smoothNoise(p*2.  + (uTime / 2500.)) / 2.;\n    total += smoothNoise(p*4.  - (uTime / 2500.)) / 4.;\n    total += smoothNoise(p*8.  + (uTime / 2500.)) / 8.;\n    total += smoothNoise(p*16. - (uTime / 2500.)) / 16.;\n    total /= 1. + 1./2. + 1./4. + 1./8. + 1./16.;\n    return total;\n}\n\nfloat nestedNoise(vec2 p) {\n    float x = movingNoise(p);\n    float y = movingNoise(p + 1000.);\n    return movingNoise(p + vec2(x, y));\n}\n\nvoid main() {\n    float scaledTime = 0.0003 * uTime;\n    float aspectRatio = uResolution.x / uResolution.y;\n    vec2 scaledVTexCoord = vec2(vTexCoord.x * aspectRatio, vTexCoord.y);\n\n    // pixel position normalised to [-1, 1]\n\tvec2 cPos = -1. + 2.0 * vTexCoord;\n    cPos.x *= aspectRatio;\n    cPos.y += uWaveformYPosVocals;\n    // distance of current pixel from center\n\tfloat cLength = length(cPos);\n\n\tvec2 cPos2 = -1. + 2.0 * vTexCoord;\n    cPos2.x *= aspectRatio;\n    cPos2.y += uWaveformYPosOther;\n\n\tfloat cLength2 = length(cPos2);\n\n\tvec2 cPos3 = -1. + 2.0 * vTexCoord;\n    cPos3.x *= aspectRatio;\n    cPos3.y += uWaveformYPosBass;\n\tfloat cLength3 = length(cPos3);\n\n\tvec2 cPos4 = -1. + 2.0 * vTexCoord;\n    cPos4.x *= aspectRatio;\n    cPos4.y += uWaveformYPosDrums;\n\n\tfloat cLength4 = length(cPos4);\n\n\tvec2 uv = vTexCoord + (((cPos / (cLength))) * cos(cLength * (20. * uAmplitudeVocals)) * 0.03) + (((cPos2 / (cLength2))) * cos(cLength2 * (20. * uAmplitudeOther)) * 0.03) + (((cPos3 / (cLength3))) * cos(cLength3 * (20. * uAmplitudeBass)) * 0.03) + (((cPos4 / (cLength4))) * cos(cLength4 * (20. * uAmplitudeDrums)) * 0.03);\n\n    vec2 p = mix(scaledVTexCoord, uv, 0.32) * 6.;\n\n    float brightness = nestedNoise(p);\n\n    vec4 col = vec4(brightness, brightness, brightness, 1.0) * 0.7;\n\n    vec4 layer1 = mix(color1, color3, uv.y);\n    vec4 layer2 = mix(color2, color4, uv.x);\n\n    vec4 layers = mix(layer1, layer2, brightness);\n\n    gl_FragColor = layers;\n}\n"
            },
            gradients: {
                vs: c,
                fs: "precision mediump float;\n\nuniform float uTime;\n// uniform float uAmplitudeDrums;\n// uniform float uAmplitudeVocals;\n// uniform float uAmplitudeBass;\n// uniform float uAmplitudeOther;\n// uniform float uWaveformYPosDrums;\n// uniform float uWaveformYPosVocals;\n// uniform float uWaveformYPosBass;\n// uniform float uWaveformYPosOther;\nuniform vec2 uResolution;\nuniform vec4 uColor1;\nuniform vec4 uColor2;\nuniform vec4 uColor3;\nuniform vec4 uColor4;\n\nvarying vec2 vTexCoord;\n\n// vec4 color1 = mix(vec4(.7,.7,.7,1.), uColor1, .25);\n// vec4 color2 = mix(vec4(.7,.7,.7,1.), uColor2, .25);\n// vec4 color3 = mix(vec4(.6,.6,.6,1.), uColor1, .3);\n// vec4 color4 = mix(vec4(.6,.6,.6,1.), uColor2, .3);\nvec4 color1 = uColor1;\nvec4 color2 = uColor2;\nvec4 color3 = uColor3;\nvec4 color4 = uColor4;\n\nvec4 cornerGradient(vec2 uv, vec4 c1, vec4 c2, vec4 c3, vec4 c4, float xBalance, float yBalance) {\n    vec4 col = mix(\n        mix(c1, c2, uv.y * yBalance),\n        mix(c3, c4, uv.y * yBalance),\n        uv.x * xBalance\n    );\n\n    return col;\n}\n\nfloat random(float p) {\n    return fract(sin(p)*6000.);\n}\n\nfloat noise(vec2 p) {\n    return random(p.x + p.y*20000.);\n}\n\nvec2 sw(vec2 p) {return vec2( floor(p.x) , floor(p.y) );}\nvec2 se(vec2 p) {return vec2( ceil(p.x)  , floor(p.y) );}\nvec2 nw(vec2 p) {return vec2( floor(p.x) , ceil(p.y)  );}\nvec2 ne(vec2 p) {return vec2( ceil(p.x)  , ceil(p.y)  );}\n\nfloat smoothNoise(vec2 p) {\n    // get color\n    vec2 inter = smoothstep(0., 1., fract(p));\n    float s = mix(noise(sw(p)), noise(se(p)), inter.x);\n    float n = mix(noise(nw(p)), noise(ne(p)), inter.x);\n    return mix(s, n, inter.y);\n    return noise(nw(p));\n}\n\nfloat movingNoise(vec2 p) {\n    float total = 0.0;\n    total += smoothNoise(p     - (uTime / 2500.));\n    total += smoothNoise(p*2.  + (uTime / 2500.)) / 2.;\n    total += smoothNoise(p*4.  - (uTime / 2500.)) / 4.;\n    total += smoothNoise(p*8.  + (uTime / 2500.)) / 8.;\n    total += smoothNoise(p*16. - (uTime / 2500.)) / 16.;\n    total /= 1. + 1./2. + 1./4. + 1./8. + 1./16.;\n    return total;\n}\n\nfloat nestedNoise(vec2 p) {\n    float x = movingNoise(p);\n    float y = movingNoise(p + 1000.);\n    return movingNoise(p + vec2(x, y));\n}\n\nvoid main() {\n    float scaledTime = 0.0003 * uTime;\n    float aspectRatio = uResolution.x / uResolution.y;\n    vec2 scaledVTexCoord = vec2(vTexCoord.x * aspectRatio, vTexCoord.y);\n\n    // // pixel position normalised to [-1, 1]\n\t// vec2 cPos = -1. + 2.0 * vTexCoord;\n    // cPos.x *= aspectRatio;\n    // cPos.y += uWaveformYPosVocals;\n    // // distance of current pixel from center\n\t// float cLength = length(cPos);\n\n\t// vec2 cPos2 = -1. + 2.0 * vTexCoord;\n    // cPos2.x *= aspectRatio;\n    // cPos2.y += uWaveformYPosOther;\n\n\t// float cLength2 = length(cPos2);\n\n\t// vec2 cPos3 = -1. + 2.0 * vTexCoord;\n    // cPos3.x *= aspectRatio;\n    // cPos3.y += uWaveformYPosBass;\n\t// float cLength3 = length(cPos3);\n\n\t// vec2 cPos4 = -1. + 2.0 * vTexCoord;\n    // cPos4.x *= aspectRatio;\n    // cPos4.y += uWaveformYPosDrums;\n\n\t// float cLength4 = length(cPos4);\n\n\t// vec2 uv = vTexCoord + (((cPos / (cLength))) * cos(cLength * (20. * uAmplitudeVocals)) * 0.03) + (((cPos2 / (cLength2))) * cos(cLength2 * (20. * uAmplitudeOther)) * 0.03) + (((cPos3 / (cLength3))) * cos(cLength3 * (20. * uAmplitudeBass)) * 0.03) + (((cPos4 / (cLength4))) * cos(cLength4 * (20. * uAmplitudeDrums)) * 0.03);\n\n    // vec2 p = mix(scaledVTexCoord, uv, 0.26) * 6.;\n    vec2 p = mix(scaledVTexCoord, scaledVTexCoord, 0.26) * 6.;\n\n    float brightness = nestedNoise(p);\n\n    vec4 col = vec4(brightness, brightness, brightness, 1.0) * 0.7;\n\n    // vec4 layer1 = mix(color1, color4, uv.x);\n    // vec4 layer2 = mix(color2, color3, uv.y);\n\n    vec4 layer1 = mix(color1, color4, scaledVTexCoord.x);\n    vec4 layer2 = mix(color2, color3, scaledVTexCoord.y);\n\n\n    vec4 layers = mix(layer1, layer2, brightness);\n\n    gl_FragColor = layers;\n}\n"
            }
        };
        function d(e, t, r) {
            const o = e.createShader(e.VERTEX_SHADER)
              , a = e.createShader(e.FRAGMENT_SHADER);
            if (e.shaderSource(o, t),
            e.shaderSource(a, r),
            e.compileShader(o),
            !e.getShaderParameter(o, e.COMPILE_STATUS))
                return void console.error("ERROR compiling vertex shader", e.getShaderInfoLog(o));
            if (e.compileShader(a),
            !e.getShaderParameter(a, e.COMPILE_STATUS))
                return void console.error("ERROR compiling fragment shader", e.getShaderInfoLog(a));
            const n = e.createProgram();
            if (e.attachShader(n, o),
            e.attachShader(n, a),
            e.linkProgram(n),
            e.getProgramParameter(n, e.LINK_STATUS)) {
                if (e.validateProgram(n),
                e.getProgramParameter(n, e.VALIDATE_STATUS))
                    return e.useProgram(n),
                    n;
                console.error("ERROR validating program", e.getProgramInfoLog(n))
            } else
                console.error("ERROR linking program", e.getProgramInfoLog(n))
        }
        function u(e, t) {
            const r = new Float32Array([-1, 1, 1, 1, 1, -1, -1, 1, 1, -1, -1, -1])
              , o = e.createBuffer();
            e.bindBuffer(e.ARRAY_BUFFER, o),
            e.bufferData(e.ARRAY_BUFFER, r, e.STATIC_DRAW);
            const a = e.getAttribLocation(t, "aPosition");
            e.vertexAttribPointer(a, 2, e.FLOAT, !1, 0, 0),
            e.enableVertexAttribArray(a);
            const n = e.getAttribLocation(t, "aTexCoord")
              , s = e.createBuffer();
            return e.bindBuffer(e.ARRAY_BUFFER, s),
            e.bufferData(e.ARRAY_BUFFER, new Float32Array([0, 0, 1, 0, 1, 1, 0, 0, 1, 1, 0, 1]), e.STATIC_DRAW),
            e.enableVertexAttribArray(n),
            e.vertexAttribPointer(n, 2, e.FLOAT, !1, 0, 0),
            r.length / 2
        }
        l(d, "useProgram{}");
        const f = [[.2475, .3529, .3529], [.6275, .7333, .7412]]
          , m = ({audioEngine: e, loading: t, type: r})=>{
            const a = (0,
            o.useRef)()
              , c = (0,
            o.useRef)()
              , l = (0,
            o.useRef)();
            l.current = e.currentTrack,
            (0,
            o.useRef)().current = e.playbackState;
            const m = (0,
            o.useRef)(f)
              , p = (0,
            o.useRef)(!0);
            return (0,
            o.useEffect)(()=>{
                const e = ()=>{
                    const e = a.current
                      , t = e.clientWidth
                      , r = e.clientHeight;
                    (e.width !== t || e.height !== r) && (e.width = t,
                    e.height = r),
                    c.current.viewport(0, 0, e.clientWidth, e.clientHeight)
                }
                ;
                window.addEventListener("resize", e);
                const t = a.current;
                let o;
                t.width = t.clientWidth,
                t.height = t.clientHeight;
                var f = t.getContext("webgl");
                if (f) {
                    c.current = f,
                    e();
                    const a = _[r]
                      , h = d(f, a.vs, a.fs)
                      , b = u(f, h)
                      , v = f.getUniformLocation(h, "uTime")
                      , E = f.getUniformLocation(h, "uResolution")
                      , g = f.getUniformLocation(h, "uColor1")
                      , A = f.getUniformLocation(h, "uColor2")
                      , y = f.getUniformLocation(h, "uColor3")
                      , P = f.getUniformLocation(h, "uColor4");
                    let M = 0
                      , O = !1
                      , T = 1;
                    const D = e=>{
                        f.clearColor(0, 0, 0, 1),
                        f.clear(f.COLOR_BUFFER_BIT),
                        f.uniform1f(v, e),
                        f.uniform2f(E, t.clientWidth, t.clientHeight);
                        const r = l.current;
                        let a, c, _, d;
                        const [u,h] = m.current;
                        if (r) {
                            const e = r.colors.map(e=>(0,
                            n.oo)(e.substring(1)).map(e=>e / 255))
                              , t = m.current.every((t,r)=>(0,
                            i.Y)(t, e[r], .001));
                            t || O || (O = !0,
                            M = 0),
                            O && (M += .008,
                            m.current = m.current.map((t,r)=>{
                                const o = e[r];
                                return t.map((e,t)=>(0,
                                s.t)(e, o[t], M))
                            }
                            ),
                            p.current && (T = (0,
                            s.t)(T, .3, M)),
                            t && (O = !1,
                            M = 0,
                            m.current = e,
                            p.current = !1)),
                            M >= 1 && (O = !1,
                            M = 0,
                            m.current = e,
                            p.current = !1);
                            const o = p.current ? T : .3;
                            a = (0,
                            n.Dk)([.7, .7, .7], u, o),
                            c = (0,
                            n.Dk)([.7, .7, .7], h, o),
                            _ = (0,
                            n.Dk)([.6, .6, .6], u, o),
                            d = (0,
                            n.Dk)([.6, .6, .6], h, o)
                        } else
                            a = u,
                            c = h,
                            _ = u,
                            d = h,
                            p.current || (p.current = !0);
                        f.uniform4f(g, a[0], a[1], a[2], 1),
                        f.uniform4f(A, c[0], c[1], c[2], 1),
                        f.uniform4f(y, _[0], _[1], _[2], 1),
                        f.uniform4f(P, d[0], d[1], d[2], 1),
                        f.drawArrays(f.TRIANGLES, 0, b),
                        o = requestAnimationFrame(D)
                    }
                    ;
                    D(0)
                }
                return ()=>{
                    window.removeEventListener("resize", e),
                    o && cancelAnimationFrame(o)
                }
            }
            , []),
            o.createElement("div", {
                className: `background-shader ${t ? "loading" : ""}`
            }, o.createElement("canvas", {
                className: "background-shader__canvas",
                ref: a
            }))
        }
        ;
        l(m, "useRef{canvasRef}\nuseRef{glRef}\nuseRef{currentTrackRef}\nuseRef{playbackStateRef}\nuseRef{backgroundColorsRgbPercentRef}\nuseRef{isDefaultColorsRef}\nuseEffect{}");
        const p = (0,
        a.f)(m)
          , h = p;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(_, "SHADERS", "/home/vsts/work/1/s/src/components/BackgroundShader/index.tsx"),
            e.register(d, "initShaders", "/home/vsts/work/1/s/src/components/BackgroundShader/index.tsx"),
            e.register(u, "initVertexBuffers", "/home/vsts/work/1/s/src/components/BackgroundShader/index.tsx"),
            e.register(f, "defaultBackgroundColorsRgbPercent", "/home/vsts/work/1/s/src/components/BackgroundShader/index.tsx"),
            e.register(m, "BackgroundShader", "/home/vsts/work/1/s/src/components/BackgroundShader/index.tsx"),
            e.register(p, "default", "/home/vsts/work/1/s/src/components/BackgroundShader/index.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "611644a0797bcf6f7bf2": (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>p
        });
        var o = r("8af190b70a6bc55c6f1b")
          , a = r("6515cd559c65eab0c80c")
          , n = r("77d9647920c06e8befd6")
          , s = r("c90b79b40c6328f03c9e");
        const i = "precision mediump float;\n\nattribute vec4 aPosition;\nattribute vec2 aTexCoord;\nvarying vec2 vTexCoord;\n\nvoid main() {\n    gl_Position = aPosition;\n\n    vTexCoord = aTexCoord;\n}";
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        var c = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const l = {
            ripples: {
                vs: i,
                fs: "precision mediump float;\n\nuniform float uTime;\nuniform vec2 uResolution;\nuniform vec4 uColor1;\nuniform vec4 uColor2;\nuniform vec4 uColor3;\nuniform vec4 uColor4;\n// uniform float uDrumsStemSamples[240];\n\nuniform sampler2D uVocals;\nuniform sampler2D uOther;\nuniform sampler2D uDrums;\nuniform sampler2D uBass;\n\nuniform float uTrackPosition;\nuniform float uTrackSamples;\n\nuniform float uVocalsVolume;\nuniform float uOtherVolume;\nuniform float uDrumsVolume;\nuniform float uBassVolume;\nuniform float uStoppedAt;\n\nvarying vec2 vTexCoord;\n\nvec4 color1 = mix(uColor1, vec4(1.0,1.0,1.0,1.0), 0.0);\nvec4 color2 = mix(uColor2, vec4(1.0,1.0,1.0,1.0), 0.0);\nvec4 color3 = mix(uColor3, vec4(1.0,1.0,1.0,1.0), 0.0);\nvec4 color4 = mix(uColor4, vec4(1.0,1.0,1.0,1.0), 0.0);\n\nvec4 cornerGradient(vec2 uv, vec4 c1, vec4 c2, vec4 c3, vec4 c4, float xBalance, float yBalance) {\n    vec4 col = mix(\n        mix(c1, c2, uv.y * yBalance),\n        mix(c3, c4, uv.y * yBalance),\n        uv.x * xBalance\n    );\n\n    return col;\n}\n\n// Author: blackpolygon\n// Title: Turbulence\n// Date: December 2016\n\n// Based on the example from @patriciogv for Fractal Brownian Motion\n// https://thebookofshaders.com/13/\n\n\n#define PI 3.14159265359\n#define TWO_PI 6.28318530718\n\nfloat random (in vec2 _st) {\n    return fract(sin(dot(_st.xy, vec2(12.9898,78.233))) * 43758.54531237);\n}\n\n// Based on Morgan McGuire @morgan3d\n// https://www.shadertoy.com/view/4dS3Wd\nfloat noise (in vec2 _st) {\n    vec2 i = floor(_st);\n    vec2 f = fract(_st);\n\n    // Four corners in 2D of a tile\n    float a = random(i);\n    float b = random(i + vec2(1.0, 0.0));\n    float c = random(i + vec2(0.0, 1.0));\n    float d = random(i + vec2(1.0, 1.0));\n\n    vec2 u = f * f * (3. - 2.0 * f);\n\n    return mix(a, b, u.x) +\n            (c - a)* u.y * (1. - u.x) +\n            (d - b) * u.x * u.y;\n}\n\n#define NUM_OCTAVES 2\n\nfloat fbm ( in vec2 _st) {\n    float v = 0.0;\n    float a = 0.5;\n    vec2 shift = vec2(20.0);\n    // Rotate to reduce axial bias\n    mat2 rot = mat2(cos(0.5), sin(0.5),\n                    -sin(0.5), cos(0.50));\n    for (int i = 0; i < NUM_OCTAVES; ++i) {\n        v += a * noise(_st);\n        _st = rot * _st * 2.2 + shift;\n        a *= 0.5;\n    }\n    return v;\n}\n\nvec4 noisyTexture(vec2 uv, float scaledTime) {\n    // (fragCoord.xy - 0.5*iResolution.xy )/min(iResolution.x,iResolution.y)\n    float coef = .25;\n    vec2 fragCoord = uv * uResolution;\n    vec2 st = (fragCoord.xy - 0.5*uResolution.xy ) / min(uResolution.x, uResolution.y);\n    st *= coef;\n\n    vec3 color = vec3(0.);\n    vec2 a = vec2(0.);\n    vec2 b = vec2(0.);\n    vec2 c = vec2(60.,800.);\n\n    a.x = fbm( st);\n    a.y = fbm( st + vec2(1.0));\n\n    b.x = fbm( st + 4.*a);\n    b.y = fbm( st);\n\n    c.x = fbm( st + 7.0*b + vec2(10.7,.2)+ 0.215*scaledTime );\n    c.y = fbm( st + 3.944*b + vec2(.3,12.8)+ 0.16*scaledTime);\n\n    float f = fbm(st+b+c);\n\n    vec3 color1 = vec3(0.445,0.002,0.419);\n    vec3 color2 = vec3(1.000,0.467,0.174);\n    //vec3 color3 = vec3(0.413,0.524,0.880);\n    // vec3 colorB1 = vec3(1.0, 1.0, 1.0);\n    // vec3 colorB2 = vec3(1.0, 1.0, 1.0);\n    // vec3 color1 = vec3(1.0, .25, .25);\n    // vec3 color2 = vec3(.25, .25, 1.0);\n    // vec3 color1 = uColor1.xyz;\n    // vec3 color2 = uColor2.xyz;\n    //vec3 color3 = vec3(.5, 0.5, 0.5);\n    vec3 color3 = mix(color1, color2, /*sin(uv.x + scaledTime) + cos(uv.y + scaledTime)*/uv.x);\n\n    color = mix(color1, color2, clamp((f*f),0.2, 1.0));\n    color = mix(color, color3, clamp(length(c.x),0.480, 0.92));\n\n    st = st/coef;\n\n\n    vec3 finalColor = vec3(f*1.9*color);\n\n    return vec4( finalColor, 1.);\n}\n\n\n\nfloat clamp01(float v)\n{\n    return clamp(v, 0.0, 1.0);\n}\n\n// float getData(int index) {\n//     for (int i=0; i<240; i++) {\n//         if (i == index) return uDrumsStemSamples[i];\n//     }\n//     return 1.;\n// }\nfloat getStemSample(sampler2D buffer, float sampleNo) {\n    float pixelNo = sampleNo / 4.;\n    float bufferPos = floor(pixelNo);\n    float row = floor(bufferPos / 128.);\n    float column = bufferPos - row * 128.;\n    float sampleOffset = floor((pixelNo - floor(pixelNo)) * 4.);\n\n    vec4 pixel = texture2D(buffer, vec2(column / 128., row / 128.));\n\n    if (sampleOffset == 0.0) {\n        return pixel.r;\n    } else if (sampleOffset == 1.0) {\n        return pixel.g;\n    } else if (sampleOffset == 2.0) {\n        return pixel.b;\n    } else if (sampleOffset == 3.0) {\n        return pixel.a;\n    }\n\n    return 0.5;\n}\n\nfloat interpolate(float x, vec2 x0, vec2 x1, vec2 x2) {\n    return (((x - x1.x) * (x - x2.x)) / ((x0.x - x1.x) * (x0.x - x2.x))) * x0.y\n        + (((x - x0.x) * (x - x2.x)) / ((x1.x - x0.x) * (x1.x - x2.x))) * x1.y\n        + (((x - x0.x) * (x - x1.x)) / ((x2.x - x0.x) * (x2.x - x1.x))) * x2.y;\n}\n\nfloat distortionHeight(vec2 uv, vec2 pos, float time, sampler2D buf, float volume)\n{\n\tfloat l = length(pos - uv);\n    // float dist = (1.0 - l) * 100.0;\n    // float index = floor(dist);\n    // float rem = dist - floor(dist);\n    // float nextIndex = index + 1.;\n\n    // int sampleIndex = int(floor((1.0 - l) * 30.0));\n    // float waveValue = mix(getData(int(index)), getData(int(nextIndex)), rem);\n\n    // Smoothly stops the playback\n    float lOffset = 0.;\n    float fade = 1.0;\n    if (uStoppedAt > 0.) {\n        lOffset = min(1., (uTime - uStoppedAt) / 500.);\n        fade = max(0., 1. - (uTime - uStoppedAt) / 500.);\n    }\n    float rawSampleNo = uTrackPosition * uTrackSamples - 120. + (1. - l + lOffset) * 120.;\n    if (rawSampleNo < 0.0) {\n        return 0.0;\n    }\n\n    float sampleNo = floor(rawSampleNo);\n    float rem = rawSampleNo - sampleNo;\n    float nextSampleNo = sampleNo + 1.;\n    float waveValue = mix(getStemSample(buf, sampleNo), getStemSample(buf, nextSampleNo), rem);\n\n    // float waveValue = interpolate(\n    //     0.5 + l,\n    //     vec2(0., getStemSample(buf, sampleNo)),\n    //     vec2(1., getStemSample(buf, sampleNo + 1.0)),\n    //     vec2(2., getStemSample(buf, sampleNo + 2.0))\n    // );\n    // float waveValue = getStemSample(buf, sampleNo);\n    // float waveValue = sin(l * 30.0 - time * 5.0);\n\n    float value = waveValue; // * 0.5 + 0.5;\n    // float value2 = sin(l * 150.0 - time * 30.0) * 0.5 + 0.5;\n    //value = pow(value, 1.5);\n    //value2 = pow(value2, 10.0);\n\n    float attenuation = max(0.0, 0.75 - l * 0.75);\n    return value * attenuation * fade * volume;\n    // return (value + (1.0 - value) * value2 * 0.02) * attenuation;\n}\n\nvec3 distortionNormal(vec2 uv, vec2 pos, float strength, float time, sampler2D buf, float volume)\n{\n    vec3 offset = vec3(1.0 / uResolution.xy, 0.0);\n \tfloat p = distortionHeight(uv, pos, time, buf, volume);\n    float h1 = distortionHeight(uv + offset.xz, pos, time, buf, volume);\n    float v1 = distortionHeight(uv + offset.zy, pos, time, buf, volume);\n\n    vec2 delta = p - vec2(h1, v1);\n    return vec3(delta * strength + 0.5, 1.0);\n}\n\nvec2 ripple(vec2 uv, vec2 pos, float strength, float time, sampler2D buf, float volume)\n{\n    vec3 normal = distortionNormal(uv, pos, strength, time, buf, volume);\n\n    // #if DEBUG == 1\n    //    \tfragColor = vec4(normal, 1.0);\n    // \treturn;\n    // #endif\n\n    vec2 finalUV = uv + normal.xy * 0.5;\n\n    return finalUV;\n}\n\n\n\nvoid main() {\n    float scaledTime = 0.0006 * uTime;\n    float aspectRatio = uResolution.x / uResolution.y;\n    vec2 scaledVTexCoord = vec2(vTexCoord.x * aspectRatio, vTexCoord.y);\n\n    // vec2 distortedUV = scaledVTexCoord;\n    vec2 distortedUV = scaledVTexCoord;\n\n    vec2 vocalsUv = ripple(scaledVTexCoord, vec2(.5 * aspectRatio, 0.), 55., scaledTime, uVocals, uVocalsVolume);\n    vec2 otherUv = ripple(scaledVTexCoord, vec2(1. * aspectRatio, .5), 55., scaledTime, uOther, uOtherVolume);\n    vec2 drumsUv = ripple(scaledVTexCoord, vec2(.5 * aspectRatio, 1.), 55., scaledTime, uDrums, uDrumsVolume);\n    vec2 bassUv = ripple(scaledVTexCoord, vec2(0. * aspectRatio, .5), 55., scaledTime, uBass, uBassVolume);\n    vec2 distortedUV1 = mix(vocalsUv, otherUv, scaledVTexCoord);\n    vec2 distortedUV2 = mix(drumsUv, bassUv, scaledVTexCoord);\n    distortedUV = mix(distortedUV1, distortedUV2, scaledVTexCoord);\n    // distortedUV = ripple(distortedUV, vec2(0.5 * aspectRatio, 1.), 25., scaledTime, uDrums);\n    // distortedUV = ripple(distortedUV, vec2(0., 0.5), 25., scaledTime, uBass);\n\n    // vec2 rippleUVDrums = ripple(scaledVTexCoord, vec2(0.*aspectRatio, 0.), 35.0 * uAmplitudeDrums, scaledTime);\n    // vec2 rippleUVBass = ripple(rippleUVDrums, vec2(1.*aspectRatio, 1.), 35.0 * uAmplitudeBass, scaledTime);\n    // vec2 rippleUVVocals = ripple(scaledVTexCoord, vec2(0.5, 0.), 25.0, scaledTime);\n    // vec2 rippleUVOther = ripple(rippleUVVocals, vec2(1.*aspectRatio, 0.), 35.0 * uAmplitudeOther, scaledTime);\n    // vec2 rippleUVOther = ripple(rippleUVVocals, vec2(0.5, 1.), 25.0, scaledTime);\n    // vec2 rippleUVL1 = mix(rippleUVBass, rippleUVDrums, 0.5);\n    // vec2 rippleUVL2 = mix(rippleUVVocals, rippleUVOther, 0.5);\n    // vec2 rippleUV = (rippleUVDrums + rippleUVBass + rippleUVOther + rippleUVVocals); //mix(rippleUVL1, rippleUVL2, 0.5);\n    // vec2 rippleUV = ripple(scaledVTexCoord, vec2(0.5*aspectRatio, 0.5), 10.0, scaledTime); //mix(rippleUVL1, rippleUVL2, 0.5);\n    // gl_FragColor = cornerGradient(scaledVTexCoord, uColor1, uColor2, uColor3, uColor4, 0.5, 0.5);\n    vec2 outUV = scaledVTexCoord;\n    if (uTrackPosition > 0.) {\n        outUV = distortedUV;\n    }\n\n    // gl_FragColor = noisyTexture(outUV, scaledTime);\n    vec4 layer1 = mix(uColor1, uColor3, outUV.x);\n    vec4 layer2 = mix(uColor1, uColor3, outUV.y);\n    gl_FragColor = mix(layer1, layer2, sin(scaledTime));\n    // gl_FragColor = vec4(texture2D(uVocals, vTexCoord));\n\n    // gl_FragColor = vec4(getData(int(floor(vTexCoord.x * 240.))), 0.0, 0.0, 1.0);\n    // gl_FragColor = vec4(\n    //     getStemSample(uVocals, floor(uTrackPosition * uTrackSamples)),\n    //     getStemSample(uVocals, floor(uTrackPosition * uTrackSamples)),\n    //     getStemSample(uVocals, floor(uTrackPosition * uTrackSamples)),\n    //     1.0\n    // );\n}\n"
            },
            water: {
                vs: i,
                fs: "precision highp float;\n\nuniform float uTime;\nuniform vec2 uResolution;\nuniform vec4 uColor1;\nuniform vec4 uColor2;\n// uniform float uDrumsStemSamples[240];\n\nuniform sampler2D uVocals;\nuniform sampler2D uOther;\nuniform sampler2D uDrums;\nuniform sampler2D uBass;\n\nuniform float uTrackPosition;\nuniform float uTrackSamples;\n\nuniform float uVocalsVolume;\nuniform float uOtherVolume;\nuniform float uDrumsVolume;\nuniform float uBassVolume;\nuniform float uStoppedAt;\n\nuniform float uNoiseAmount;\n\nvarying vec2 vTexCoord;\n\n#define sinc(x) sin(3.1416*(x)+1e-20) / (3.1416*(x)+1e-20)\n\nvec4 cornerGradient(vec2 uv, vec4 c1, vec4 c2, vec4 c3, vec4 c4, float xBalance, float yBalance) {\n    vec4 col = mix(\n        mix(c1, c2, uv.y * yBalance),\n        mix(c3, c4, uv.y * yBalance),\n        uv.x * xBalance\n    );\n\n    return col;\n}\n\n// Author: blackpolygon\n// Title: Turbulence\n// Date: December 2016\n\n// Based on the example from @patriciogv for Fractal Brownian Motion\n// https://thebookofshaders.com/13/\n\n\n#define PI 3.14159265359\n#define TWO_PI 6.28318530718\n\nfloat random (in vec2 _st) {\n    return fract(sin(dot(_st.xy, vec2(12.9898,78.233))) * 43758.54531237);\n}\n\n// Based on Morgan McGuire @morgan3d\n// https://www.shadertoy.com/view/4dS3Wd\n// float noise (in vec2 _st) {\n//     vec2 i = floor(_st);\n//     vec2 f = fract(_st);\n\n//     // Four corners in 2D of a tile\n//     float a = random(i);\n//     float b = random(i + vec2(1.0, 0.0));\n//     float c = random(i + vec2(0.0, 1.0));\n//     float d = random(i + vec2(1.0, 1.0));\n\n//     vec2 u = f * f * (3. - 2.0 * f);\n\n//     return mix(a, b, u.x) +\n//             (c - a)* u.y * (1. - u.x) +\n//             (d - b) * u.x * u.y;\n// }\n\nfloat mod289(float x){return x - floor(x * (1.0 / 289.0)) * 289.0;}\nvec4 mod289(vec4 x){return x - floor(x * (1.0 / 289.0)) * 289.0;}\nvec4 perm(vec4 x){return mod289(((x * 34.0) + 1.0) * x);}\n\nfloat noise(vec2 p){\n    vec3 a = floor(vec3(1.0, p.xy));\n    vec3 d = vec3(1.0, p.xy) - a;\n    d = d * d * (3.0 - 2.0 * d);\n\n    vec4 b = a.xxyy + vec4(0.0, 1.0, 0.0, 1.0);\n    vec4 k1 = perm(b.xyxy);\n    vec4 k2 = perm(k1.xyxy + b.zzww);\n\n    vec4 c = k2 + a.zzzz;\n    vec4 k3 = perm(c);\n    vec4 k4 = perm(c + 1.0);\n\n    vec4 o1 = fract(k3 * (1.0 / 41.0));\n    vec4 o2 = fract(k4 * (1.0 / 41.0));\n\n    vec4 o3 = o2 * d.z + o1 * (1.0 - d.z);\n    vec2 o4 = o3.yw * d.x + o3.xz * (1.0 - d.x);\n\n    float res =  o4.y * d.y + o4.x * (1.0 - d.y);\n    return res;\n}\n\n\n\n#define NUM_OCTAVES 5\n\nfloat fbm ( in vec2 _st) {\n    float v = 0.0;\n    float a = 0.5;\n    vec2 shift = vec2(20.0);\n    // Rotate to reduce axial bias\n    mat2 rot = mat2(cos(0.5), sin(0.5),\n                    -sin(0.5), cos(0.50));\n    for (int i = 0; i < NUM_OCTAVES; ++i) {\n        v += a * noise(_st);\n        _st = rot * _st * 2.2 + shift;\n        a *= 0.5;\n    }\n    return v;\n}\n\nvec4 noisyTexture(vec2 uv, float scaledTime) {\n    // (fragCoord.xy - 0.5*iResolution.xy )/min(iResolution.x,iResolution.y)\n    float coef = .05;\n    vec2 fragCoord = uv * uResolution;\n    vec2 st = (fragCoord.xy - 0.5 * uResolution.xy ) / min(uResolution.x, uResolution.y);\n    st *= coef;\n\n    vec3 color = vec3(0.);\n    vec2 a = vec2(0.);\n    vec2 b = vec2(0.);\n    vec2 c = vec2(60.,800.);\n\n    a.x = fbm( st);\n    a.y = fbm( st + vec2(1.0));\n\n    b.x = fbm( st + 4.*a);\n    b.y = fbm( st);\n\n    c.x = fbm( st + 7.0*b + vec2(10.7,.2)+ 0.215*scaledTime);\n    c.y = fbm( st + 3.944*b + vec2(.3,12.8)+ 0.16*scaledTime);\n\n    float f = fbm(st+b+c);\n\n    vec3 color1 = uColor1.rgb;\n    vec3 color2 = uColor2.rgb;\n\n    float gradientMix = uResolution.x / uResolution.y;\n    if (uResolution.y > uResolution.x) {\n        gradientMix = uResolution.y / uResolution.x;\n    }\n\n    vec3 color3 = mix(color1.rgb, color2.rgb, (uv.x + uv.y) / gradientMix);\n\n    color = mix(color1, color2, clamp((f*f), 0.2, 1.0));\n    color = mix(color, color3, clamp(length(c.x), 0.480, 0.92));\n\n    st = st/coef;\n\n    vec3 preNoiseColor = vec3(f*1.9*color);\n\n    float randOffset = (random(uv * scaledTime) * 2. - 1.0) * uNoiseAmount;\n    vec3 uniformNoise = vec3(randOffset);\n\n    vec3 finalColor = preNoiseColor + uniformNoise;\n\n    return vec4( finalColor, 1.);\n}\n\n\n\nfloat clamp01(float v)\n{\n    return clamp(v, 0.0, 1.0);\n}\n\nfloat getStemSample(sampler2D buffer, float sampleNo) {\n    float pixelNo = sampleNo / 4.;\n    float bufferPos = floor(pixelNo);\n    float row = floor(bufferPos / 128.);\n    float column = bufferPos - row * 128.;\n    float sampleOffset = floor((pixelNo - floor(pixelNo)) * 4.);\n\n    vec4 pixel = texture2D(buffer, vec2(column / 128., row / 128.));\n\n    if (sampleOffset == 0.0) {\n        return pixel.r;\n    } else if (sampleOffset == 1.0) {\n        return pixel.g;\n    } else if (sampleOffset == 2.0) {\n        return pixel.b;\n    } else if (sampleOffset == 3.0) {\n        return pixel.a;\n    }\n\n    return 0.5;\n}\n\nfloat interpolatedSample(sampler2D buf, float rawSampleNo) {\n    const float windowSize = 200.;\n    float sampleNo = floor(rawSampleNo);\n    float windowStart = max(0.0, sampleNo - windowSize / 2.0);\n    float windowEnd = windowStart + windowSize;\n\n    float xt = 0.0;\n    float n = windowStart;\n    for (float nOff = 0.; nOff < windowSize; nOff += 1.0) {\n        n = windowStart + nOff;\n        xt = xt + (getStemSample(buf, n) * sinc(rawSampleNo - n));\n    }\n\n    return xt;\n}\n\nfloat distortionHeight(vec2 uv, vec2 pos, float time, sampler2D buf, float volume)\n{\n\tfloat l = length(uv - pos);\n\n    // Smoothly stops the playback\n    float lOffset = 0.;\n    float fade = 1.0;\n    if (uStoppedAt > 0.) {\n        lOffset = min(1., (uTime - uStoppedAt) / 500.);\n        fade = max(0., 1. - (uTime - uStoppedAt) / 500.);\n    }\n    float rawSampleNo = uTrackPosition * uTrackSamples - 150. + (1. - l + lOffset) * 150.;\n    if (rawSampleNo < 0.0) {\n        return 0.0;\n    }\n\n    float sampleNo = floor(rawSampleNo);\n    float rem = rawSampleNo - sampleNo;\n    float nextSampleNo = sampleNo + 1.;\n    float waveValue = mix(getStemSample(buf, sampleNo), getStemSample(buf, nextSampleNo), rem);\n    // float waveValue = interpolatedSample(buf, rawSampleNo);\n\n    // float waveValue = sin(l * 30.0 - time * 5.0);\n\n    float value = waveValue;\n    // float value2 = sin(l * 150.0 - time * 30.0) * 0.5 + 0.5;\n    // value = pow(value, 2.);\n    //value2 = pow(value2, 10.0);\n\n    float attenuation = exp(-7.*l); //max(0.0001, 0.9 - l * 0.9);\n    return value * attenuation * fade * volume;\n}\n\nvec3 distortionNormal(vec2 uv, vec2 pos, float strength, float time, sampler2D buf, float volume)\n{\n    vec3 offset = vec3(1.0 / uResolution.xy, 0.0);\n \tfloat p = distortionHeight(uv, pos, time, buf, volume);\n    float h1 = distortionHeight(uv + offset.xz, pos, time, buf, volume);\n    float v1 = distortionHeight(uv + offset.zy, pos, time, buf, volume);\n\n    vec2 delta = p - vec2(h1, v1);\n    return vec3(delta * strength, 1.0);\n}\n\nvec2 ripple(vec2 uv, vec2 pos, float strength, float time, sampler2D buf, float volume)\n{\n    vec3 normal = distortionNormal(uv, pos, strength, time, buf, volume);\n\n    vec2 finalUV = (uv) + normal.xy * 0.5;\n\n    return finalUV;\n}\n\n\n\nvoid main() {\n    float scaledTime = 0.00020 * uTime;\n    float aspectRatio = uResolution.x / uResolution.y;\n    vec2 scaledVTexCoord = vec2(vTexCoord.x * aspectRatio, vTexCoord.y);\n\n    vec2 distortedUV = scaledVTexCoord;\n\n\n    vec2 vocalsUv = ripple(distortedUV, vec2(.5 * aspectRatio, 0.), 120., scaledTime, uVocals, uVocalsVolume);\n    vec2 otherUv = ripple(vocalsUv, vec2(1. * aspectRatio, .5), 120., scaledTime, uOther, uOtherVolume);\n    vec2 drumsUv = ripple(otherUv, vec2(.5 * aspectRatio, 1.), 120., scaledTime, uDrums, uDrumsVolume);\n    vec2 bassUv = ripple(drumsUv, vec2(0. * aspectRatio, .5), 120., scaledTime, uBass, uBassVolume);\n    distortedUV = bassUv;\n\n    vec2 outUV = scaledVTexCoord;\n    if (uTrackPosition > 0.) {\n        outUV = distortedUV;\n    }\n\n    gl_FragColor = noisyTexture(outUV, scaledTime);\n}\n"
            }
        };
        function _(e, t, r) {
            const o = e.createShader(e.VERTEX_SHADER)
              , a = e.createShader(e.FRAGMENT_SHADER);
            if (e.shaderSource(o, t),
            e.shaderSource(a, r),
            e.compileShader(o),
            !e.getShaderParameter(o, e.COMPILE_STATUS))
                return void console.error("ERROR compiling vertex shader", e.getShaderInfoLog(o));
            if (e.compileShader(a),
            !e.getShaderParameter(a, e.COMPILE_STATUS))
                return void console.error("ERROR compiling fragment shader", e.getShaderInfoLog(a));
            const n = e.createProgram();
            if (e.attachShader(n, o),
            e.attachShader(n, a),
            e.linkProgram(n),
            e.getProgramParameter(n, e.LINK_STATUS)) {
                if (e.validateProgram(n),
                e.getProgramParameter(n, e.VALIDATE_STATUS))
                    return e.useProgram(n),
                    n;
                console.error("ERROR validating program", e.getProgramInfoLog(n))
            } else
                console.error("ERROR linking program", e.getProgramInfoLog(n))
        }
        function d(e, t) {
            const r = new Float32Array([-1, 1, 1, 1, 1, -1, -1, 1, 1, -1, -1, -1])
              , o = e.createBuffer();
            e.bindBuffer(e.ARRAY_BUFFER, o),
            e.bufferData(e.ARRAY_BUFFER, r, e.STATIC_DRAW);
            const a = e.getAttribLocation(t, "aPosition");
            e.vertexAttribPointer(a, 2, e.FLOAT, !1, 0, 0),
            e.enableVertexAttribArray(a);
            const n = e.getAttribLocation(t, "aTexCoord")
              , s = e.createBuffer();
            return e.bindBuffer(e.ARRAY_BUFFER, s),
            e.bufferData(e.ARRAY_BUFFER, new Float32Array([0, 0, 1, 0, 1, 1, 0, 0, 1, 1, 0, 1]), e.STATIC_DRAW),
            e.enableVertexAttribArray(n),
            e.vertexAttribPointer(n, 2, e.FLOAT, !1, 0, 0),
            r.length / 2
        }
        function u(e, t, r, o, a) {
            const n = t.slice();
            for (let e = 0; e < n.length; e += 1)
                n[e] = Math.floor(n[e] / 100 * 255);
            for (; n.length < o * a * 4; )
                n.push(0);
            const s = new Uint8Array(n);
            e.activeTexture(e.TEXTURE0);
            const i = e.createTexture();
            return e.bindTexture(e.TEXTURE_2D, i),
            e.texImage2D(e.TEXTURE_2D, 0, r, o, a, 0, r, e.UNSIGNED_BYTE, s),
            e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MAG_FILTER, e.NEAREST),
            e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, e.NEAREST),
            e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, e.CLAMP_TO_EDGE),
            e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, e.CLAMP_TO_EDGE),
            e.bindTexture(e.TEXTURE_2D, null),
            i
        }
        c(_, "useProgram{}");
        const f = ({audioEngine: e, loading: t, type: r})=>{
            const n = (0,
            o.useRef)()
              , i = (0,
            o.useRef)()
              , c = (0,
            o.useRef)()
              , f = (0,
            o.useRef)()
              , m = (0,
            o.useRef)(null)
              , p = (0,
            o.useRef)(null)
              , h = (0,
            o.useRef)(null)
              , b = (0,
            o.useRef)(0)
              , v = (0,
            o.useRef)(1)
              , E = (0,
            o.useRef)(0)
              , g = (0,
            o.useRef)(1)
              , A = (0,
            o.useRef)(0)
              , y = (0,
            o.useRef)(1)
              , P = (0,
            o.useRef)(0)
              , M = (0,
            o.useRef)(1)
              , O = (0,
            o.useRef)(0);
            return (0,
            o.useRef)().current = e.playbackState,
            (0,
            o.useEffect)(()=>{
                f.current = e
            }
            , [e]),
            (0,
            o.useEffect)(()=>{
                const {currentTrack: t} = e;
                c.current = t;
                const r = h.current
                  , o = i.current;
                if (!o)
                    return;
                if (r) {
                    h.current = null;
                    for (const e of r)
                        o.deleteTexture(e)
                }
                const a = [];
                if (t)
                    for (const e of ["vocals", "other", "drums", "bass"]) {
                        const r = u(o, t.waveformData[e].intensity, o.RGBA, 128, 128);
                        a.push(r)
                    }
                else
                    for (const e of ["vocals", "other", "drums", "bass"]) {
                        const e = u(o, [], o.RGBA, 128, 128);
                        a.push(e)
                    }
                h.current = a
            }
            , [e.currentTrack, i.current]),
            (0,
            o.useEffect)(()=>{
                const t = ()=>{
                    const e = n.current
                      , t = e.clientWidth
                      , r = e.clientHeight;
                    (e.width !== t || e.height !== r) && (e.width = t,
                    e.height = r),
                    i.current.viewport(0, 0, e.clientWidth, e.clientHeight)
                }
                ;
                window.addEventListener("resize", t);
                const o = n.current;
                let T;
                o.width = o.clientWidth,
                o.height = o.clientHeight;
                let D = 0;
                {
                    const e = new Proxy(new URLSearchParams(window.location.search),{
                        get: (e,t)=>e.get(t)
                    });
                    D = parseFloat(e.noise),
                    isNaN(D) && (D = 0);
                    let t = e.color1
                      , r = e.color2;
                    t && (m.current = (0,
                    s.oo)(t).map(e=>e / 255)),
                    r && (p.current = (0,
                    s.oo)(r).map(e=>e / 255))
                }
                var w = o.getContext("webgl");
                if (w) {
                    i.current = w,
                    t();
                    const n = l[r]
                      , s = _(w, n.vs, n.fs)
                      , L = d(w, s)
                      , k = w.getUniformLocation(s, "uTime")
                      , C = w.getUniformLocation(s, "uTrackPosition")
                      , R = w.getUniformLocation(s, "uResolution")
                      , S = w.getUniformLocation(s, "uNoiseAmount")
                      , U = w.getUniformLocation(s, "uColor1")
                      , x = w.getUniformLocation(s, "uColor2")
                      , I = w.getUniformLocation(s, "uVocalsVolume")
                      , B = w.getUniformLocation(s, "uOtherVolume")
                      , K = w.getUniformLocation(s, "uDrumsVolume")
                      , G = w.getUniformLocation(s, "uBassVolume")
                      , W = w.getUniformLocation(s, "uStoppedAt")
                      , H = w.getUniformLocation(s, "uTrackSamples")
                      , N = [w.getUniformLocation(s, "uVocals"), w.getUniformLocation(s, "uOther"), w.getUniformLocation(s, "uDrums"), w.getUniformLocation(s, "uBass")]
                      , F = [];
                    for (const e of ["vocals", "other", "drums", "bass"]) {
                        const e = u(w, [], w.RGBA, 128, 128);
                        F.push(e)
                    }
                    h.current = F;
                    const V = t=>{
                        w.clearColor(0, 0, 0, 1),
                        w.clear(w.COLOR_BUFFER_BIT),
                        w.uniform1f(k, t),
                        w.uniform2f(R, o.clientWidth, o.clientHeight);
                        const r = c.current
                          , n = h.current;
                        if (m.current) {
                            const e = m.current;
                            w.uniform4f(U, e[0], e[1], e[2], 1)
                        } else
                            w.uniform4f(U, .6, .6235, .6745, 1);
                        if (p.current) {
                            const e = p.current;
                            w.uniform4f(x, e[0], e[1], e[2], 1)
                        } else
                            w.uniform4f(x, .90196, .70588, .63529, 1);
                        if (w.uniform1f(S, D),
                        r ? (w.uniform1f(C, e.getCurrentTime() / e.getDuration()),
                        f.current.playbackState !== a.QK.Playing ? 0 === b.current && (b.current = t) : b.current = 0,
                        e.shouldMute(a.wA.Vocals) ? 1 === E.current && (E.current = 0) : E.current = 1,
                        v.current > E.current ? v.current -= .033 : v.current < E.current && (v.current += .033),
                        e.shouldMute(a.wA.Other) ? 1 === A.current && (A.current = 0) : A.current = 1,
                        g.current > A.current ? g.current -= .033 : g.current < A.current && (g.current += .033),
                        e.shouldMute(a.wA.Drums) ? 1 === P.current && (P.current = 0) : P.current = 1,
                        y.current > P.current ? y.current -= .033 : y.current < P.current && (y.current += .033),
                        e.shouldMute(a.wA.Bass) ? 1 === O.current && (O.current = 0) : O.current = 1,
                        M.current > O.current ? M.current -= .033 : M.current < O.current && (M.current += .033),
                        w.uniform1f(I, v.current),
                        w.uniform1f(B, g.current),
                        w.uniform1f(K, y.current),
                        w.uniform1f(G, M.current),
                        w.uniform1f(W, b.current)) : (w.uniform1f(C, 0),
                        w.uniform1f(I, 0),
                        w.uniform1f(B, 0),
                        w.uniform1f(K, 0),
                        w.uniform1f(G, 0),
                        w.uniform1f(W, 0)),
                        n) {
                            let e = 0;
                            r && (e = r.waveformData.drums.intensity.length),
                            w.uniform1f(H, e);
                            for (let e = 0; e < n.length; e += 1) {
                                const t = n[e];
                                w.activeTexture(w.TEXTURE0 + e),
                                w.bindTexture(w.TEXTURE_2D, t),
                                w.uniform1i(N[e], e)
                            }
                        }
                        w.drawArrays(w.TRIANGLES, 0, L),
                        T = requestAnimationFrame(V)
                    }
                    ;
                    V(0)
                }
                return ()=>{
                    window.removeEventListener("resize", t),
                    T && cancelAnimationFrame(T)
                }
            }
            , []),
            o.createElement("div", {
                className: `background-shader ${t ? "loading" : ""}`
            }, o.createElement("canvas", {
                className: "background-shader__canvas",
                ref: n
            }))
        }
        ;
        c(f, "useRef{canvasRef}\nuseRef{glRef}\nuseRef{currentTrackRef}\nuseRef{audioEngineRef}\nuseRef{color1Ref}\nuseRef{color2Ref}\nuseRef{texturesRef}\nuseRef{stoppedAtRef}\nuseRef{vocalsVolumeRef}\nuseRef{vocalsNewVolumeRef}\nuseRef{otherVolumeRef}\nuseRef{otherNewVolumeRef}\nuseRef{drumsVolumeRef}\nuseRef{drumsNewVolumeRef}\nuseRef{bassVolumeRef}\nuseRef{bassNewVolumeRef}\nuseRef{playbackStateRef}\nuseEffect{}\nuseEffect{}\nuseEffect{}");
        const m = (0,
        n.f)(f)
          , p = m;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(l, "SHADERS", "/home/vsts/work/1/s/src/components/BackgroundShader2/index.tsx"),
            e.register(_, "initShaders", "/home/vsts/work/1/s/src/components/BackgroundShader2/index.tsx"),
            e.register(d, "initVertexBuffers", "/home/vsts/work/1/s/src/components/BackgroundShader2/index.tsx"),
            e.register(u, "textureFromPixelArray", "/home/vsts/work/1/s/src/components/BackgroundShader2/index.tsx"),
            e.register(f, "BackgroundShader2", "/home/vsts/work/1/s/src/components/BackgroundShader2/index.tsx"),
            e.register(m, "default", "/home/vsts/work/1/s/src/components/BackgroundShader2/index.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "804fe702b68cd889ff76": (e,t,r)=>{
        "use strict";
        r.r(t),
        r.d(t, {
            Button: ()=>c,
            default: ()=>_
        });
        var o = r("8af190b70a6bc55c6f1b")
          , a = r("9c2db445b2a1a7a1cf6d");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        var n = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const s = (0,
        a.ZP)({
            resolved: {},
            chunkName: ()=>"Loader",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.resolve().then(r.bind(r, "abf12094d6dd744112a4")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "abf12094d6dd744112a4"
            }
        })
          , i = ()=>o.createElement("span", null, o.createElement("span", {
            className: "dots__dot--1"
        }, "."), o.createElement("span", {
            className: "dots__dot--2"
        }, "."), o.createElement("span", {
            className: "dots__dot--3"
        }, "."))
          , c = ({icon: e, text: t=!1, type: r="button", onClick: a, onMouseDown: n, onMouseLeave: c, onMouseUp: l, onTouchMove: _, onTouchStart: d, onTouchEnd: u, disabled: f=!1, loading: m=!1, active: p=!1, hideTextWhenLoading: h=!1, className: b, size: v="", brackets: E=!1, dots: g=!1, id: A})=>o.createElement("button", {
            className: `button\n            ${m ? " button--loading" : ""}\n            ${v ? ` button--${v}` : ""}\n            ${f ? " disabled" : ""}\n            ${p ? " button--active" : ""}\n            ${e ? " button--icon" : ""}\n            ${t ? " button--text" : " button--no-text"}\n            ${b ? ` ${b}` : ""}\n        `,
            id: A && A,
            type: r,
            onClick: a && !m ? a : void 0,
            onMouseDown: n && !m ? n : void 0,
            onMouseLeave: c && !m ? c : void 0,
            onMouseUp: l && !m ? l : void 0,
            onTouchMove: _ && !m ? _ : void 0,
            onTouchStart: d && !m ? d : void 0,
            onTouchEnd: u && !m ? u : void 0,
            disabled: f
        }, m && o.createElement(s, {
            size: "small"
        }), e ? e() : !1 !== t ? o.createElement("span", {
            className: `button__text${h ? " button__text--hide-when-loading" : ""}`
        }, E ? "[ " : "", t, g ? o.createElement(i, null) : "", E ? " ]" : "") : null)
          , l = c
          , _ = l;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(s, "Loader", "/home/vsts/work/1/s/src/components/Button/index.tsx"),
            e.register(i, "Dots", "/home/vsts/work/1/s/src/components/Button/index.tsx"),
            e.register(c, "Button", "/home/vsts/work/1/s/src/components/Button/index.tsx"),
            e.register(l, "default", "/home/vsts/work/1/s/src/components/Button/index.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    b17b0ee5884def929afc: (e,t,r)=>{
        "use strict";
        r.d(t, {
            II: ()=>u,
            L_: ()=>f,
            TC: ()=>m
        });
        var o = r("990057777e9b2b7543e8")
          , a = r("8af190b70a6bc55c6f1b")
          , n = r("5bed4c2c2c85e5553a5d")
          , s = r("c90b79b40c6328f03c9e")
          , i = r("f60aef9fa88f4e9ce07a")
          , c = r("abf12094d6dd744112a4");
        function l(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var o = Object.getOwnPropertySymbols(e);
                t && (o = o.filter(function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                })),
                r.push.apply(r, o)
            }
            return r
        }
        function _(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = null != arguments[t] ? arguments[t] : {};
                t % 2 ? l(Object(r), !0).forEach(function(t) {
                    (0,
                    o.Z)(e, t, r[t])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : l(Object(r)).forEach(function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                })
            }
            return e
        }
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        var d = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const u = (0,
        a.forwardRef)(({min: e=null, max: t=null, maxLength: r=null, type: o="text", className: n="", invalid: s, placeholder: i="", value: c="", onChange: l, onInput: _, onBlur: d, autoFocus: u, disabled: f=!1, readOnly: m=!1, id: p, style: h, modifier: b, autoComplete: v, size: E, autoCapitalize: g},A)=>a.createElement("input", {
            min: e && e,
            max: t && t,
            maxLength: r && r,
            type: o,
            className: `input${b ? ` input--${b}` : ""}${s ? " input--invalid" : ""} ${n}`,
            placeholder: i,
            value: c,
            onChange: l,
            onBlur: d && d,
            onInput: _,
            disabled: f,
            readOnly: m,
            ref: A,
            id: p && p,
            style: h,
            size: E,
            "data-lpignore": "true",
            autoComplete: v,
            autoFocus: u && u,
            autoCapitalize: g
        }))
          , f = a.forwardRef((e,t)=>{
            var r;
            const o = (null === (r = e.placeholder) || void 0 === r ? void 0 : r.toUpperCase()) || void 0;
            return a.createElement("div", {
                className: "labeled-input",
                id: e.id
            }, a.createElement("label", {
                className: "input-sizer",
                "data-value": o
            }, a.createElement("span", null, e.label), a.createElement(u, _(_({}, e), {}, {
                onInput: e=>{
                    e.target.parentElement.dataset.value = e.target.value || o || ""
                }
                ,
                placeholder: o,
                size: 1,
                ref: t
            }))))
        }
        )
          , m = ({name: e, value: t, onChange: r, disabled: o=!1})=>{
            const n = (0,
            s.oo)(t.replace("#", ""))
              , [i,l] = (0,
            a.useState)(n)
              , [_,d] = (0,
            a.useState)(t.toUpperCase())
              , [f,m] = (0,
            a.useState)(!1)
              , [p,h] = (0,
            a.useState)(!0)
              , [b,v] = (0,
            a.useState)(!0)
              , E = (0,
            a.useRef)(null)
              , g = (0,
            a.useRef)(null)
              , A = (0,
            a.useRef)(null)
              , y = e=>{
                var t;
                null === (t = g.current) || void 0 === t || t.addEventListener("mousemove", O),
                O(e)
            }
              , P = e=>{
                var t;
                null === (t = g.current) || void 0 === t || t.removeEventListener("mousemove", O)
            }
              , M = e=>{
                var t;
                1 !== e.buttons && (null === (t = g.current) || void 0 === t || t.removeEventListener("mousemove", O))
            }
              , O = t=>{
                if (0 === t.button) {
                    const o = t.currentTarget
                      , a = Math.atan2(t.offsetY - o.height / 2, t.offsetX - o.width / 2)
                      , n = 1 - Math.hypot(t.offsetY - o.height / 2, t.offsetX - o.width / 2) / 85
                      , i = n < 0 ? 0 : n
                      , c = 180 * a / Math.PI + 90
                      , _ = .5 * i + .5
                      , u = (0,
                    s.ve)(c / 360, 1, _)
                      , f = (0,
                    s.vq)(u[0], u[1], u[2]);
                    l(u),
                    d(f.toUpperCase()),
                    r(f, e)
                }
            }
              , T = (t,o)=>{
                const a = t.target.value;
                let n;
                if ((n = "" === a ? 0 : parseInt(a) && parseInt(a) > 255 ? 255 : parseInt(a)) && n <= 255 || 0 === n) {
                    const t = i.map((e,t)=>t === o ? n : e);
                    l(t);
                    const a = (0,
                    s.vq)(t[0], t[1], t[2]);
                    d(a.toUpperCase()),
                    r(a, e)
                }
            }
            ;
            return (0,
            a.useEffect)(()=>{
                if (!g.current)
                    return;
                const e = g.current.getContext("2d");
                e.imageSmoothingEnabled = !1,
                e.lineWidth = 1,
                e.clearRect(0, 0, 170, 170);
                for (let t = 1; t < 85; t++) {
                    const r = 85
                      , o = 85
                      , a = r - t
                      , n = Math.PI / 180;
                    for (let i = 0; i < 360; i++) {
                        const c = .5 + t / 85 * .5
                          , l = (0,
                        s.ve)(i / 360, 1, c);
                        e.beginPath(),
                        e.arc(r, o, a, (i - 90.5) * n, (i - 89.2) * n),
                        e.strokeStyle = `rgb(${l[0]},${l[1]},${l[2]})`,
                        e.stroke()
                    }
                }
                return g.current.addEventListener("mousedown", y),
                g.current.addEventListener("mouseenter", M),
                g.current.addEventListener("mouseup", P),
                ()=>{
                    var e, t, r;
                    null === (e = g.current) || void 0 === e || e.removeEventListener("mousedown", y),
                    null === (t = g.current) || void 0 === t || t.removeEventListener("mouseenter", M),
                    null === (r = g.current) || void 0 === r || r.removeEventListener("mouseup", P)
                }
            }
            , [g, f]),
            (0,
            a.useEffect)(()=>{
                if (h(!0),
                !A.current)
                    return;
                const e = A.current.getContext("2d");
                e.clearRect(0, 0, 210, 210),
                e.imageSmoothingEnabled = !1;
                const r = (0,
                s.oo)(t.replace("#", ""))
                  , o = (0,
                s.lC)(r[0], r[1], r[2])
                  , [a,n,i] = o
                  , c = 85 * (1 - (i - 50) / 50)
                  , l = 85 + c * Math.sin(2 * Math.PI * a / 360) + 20
                  , _ = 170 - (85 + c * Math.cos(2 * Math.PI * a / 360)) + 20;
                (_ > 190 || l > 190 || _ < 20 || l < 20) && h(!1),
                e.lineWidth = 14,
                e.strokeStyle = t,
                e.beginPath(),
                e.arc(l, _, 7, 0, 2 * Math.PI),
                e.stroke(),
                e.lineWidth = 3,
                e.strokeStyle = "#fff",
                e.beginPath(),
                e.arc(l, _, 14, 0, 2 * Math.PI),
                e.stroke()
            }
            , [A, t, f]),
            (0,
            a.useEffect)(()=>{
                if (!E.current)
                    return;
                document.body.style.userSelect = f ? "none" : null;
                const e = e=>{
                    E.current.contains(e.target) || m(!1)
                }
                ;
                return document.addEventListener("mousedown", e),
                ()=>{
                    document.removeEventListener("mousedown", e)
                }
            }
            , [E, f]),
            (0,
            a.useEffect)(()=>{
                v(!0),
                null != g.current && f && v(!1)
            }
            , [g, f]),
            a.createElement("div", {
                className: "input-color",
                ref: E
            }, a.createElement("button", {
                name: e,
                className: "input-color__input",
                disabled: o,
                onClick: ()=>{
                    m(!f)
                }
                ,
                type: "button"
            }), a.createElement("div", {
                className: "input-color__preview",
                style: {
                    backgroundColor: t
                }
            }), f && a.createElement("div", {
                className: "input-color__picker"
            }, b && a.createElement("div", {
                className: "input-color__picker-loader"
            }, a.createElement(c.default, {
                size: "small"
            })), a.createElement("canvas", {
                className: "input-color__canvas",
                ref: g,
                width: 170,
                height: 170,
                style: {
                    borderRadius: "100%"
                }
            }), p && a.createElement("canvas", {
                className: "input-color__canvas  input-color__canvas--overlay",
                ref: A,
                width: 210,
                height: 210
            }), a.createElement("div", {
                className: "input-color__values"
            }, a.createElement("div", {
                className: "input-color__value"
            }, a.createElement(u, {
                value: `${i[0]}`,
                onChange: e=>T(e, 0),
                className: "input-color__box"
            }), a.createElement(u, {
                value: `${i[1]}`,
                onChange: e=>T(e, 1),
                className: "input-color__box"
            }), a.createElement(u, {
                value: `${i[2]}`,
                onChange: e=>T(e, 2),
                className: "input-color__box"
            })), a.createElement(u, {
                value: `${_}`,
                onChange: t=>{
                    const o = `${"#" === t.target.value[0] ? "" : "#"}${t.target.value.toUpperCase()}`
                      , a = /^#[0-9A-F]{0,}$/.test(o);
                    o.length <= 7 && a && d(o);
                    /^#[0-9A-F]{6}$/i.test(o) && (r(o, e),
                    l((0,
                    s.oo)(o.substring(1))))
                }
                ,
                id: "input-color-value"
            }))))
        }
        ;
        d(m, "useState{[rgbValue, setRgbValue](valueToRgb)}\nuseState{[hexCode, setHexCode](value.toUpperCase())}\nuseState{[pickerOpen, setPickerOpen](false)}\nuseState{[showCanvasSelector, setShowCanvasSelector](true)}\nuseState{[pickerLoading, setPickerLoading](true)}\nuseRef{outerRef}\nuseRef{pickerRef}\nuseRef{selectorRef}\nuseEffect{}\nuseEffect{}\nuseEffect{}\nuseEffect{}");
        const p = ({value: e, invalid: t, onChange: r, onSelect: o, onCreate: s, disabled: i=!1, webUSBClient: c, resetValue: l})=>{
            const [_,d] = (0,
            a.useState)(e)
              , [f,m] = (0,
            a.useState)(!1);
            let p = []
              , h = !1;
            if (c.deviceAlbums) {
                h = Object.values(c.deviceAlbums).reduce((t,r)=>t || (0,
                n.qP)(r.title, e), !1),
                p = Object.values(c.deviceAlbums).some(t=>t.title.toUpperCase() === e.toUpperCase()) ? Object.values(c.deviceAlbums).filter(t=>"RECORD" !== t.id && t.title.toUpperCase() !== e.toUpperCase()).slice(0, 12) : Object.values(c.deviceAlbums).filter(t=>"RECORD" !== t.id && (!e || t.title.toUpperCase().indexOf(e.toUpperCase()) >= 0)).slice(0, 12)
            }
            return a.createElement("div", {
                className: `album-input${f ? " album-input--active" : ""}`,
                onFocus: ()=>m(!0),
                onBlur: ()=>m(!1)
            }, a.createElement("div", {
                className: `album-input__drop-down ${f ? "album-input__drop-down--active" : ""}`
            }, a.createElement("ul", null, p.length > 0 && p.map((e,t)=>a.createElement("li", {
                key: t,
                onMouseDown: ()=>o(e.id)
            }, e.title)), e && !h && a.createElement("li", {
                className: "create-entry",
                onMouseDown: ()=>s(e)
            }, "Create ", a.createElement("strong", null, e), " Album"))), a.createElement(u, {
                disabled: i,
                modifier: "album",
                invalid: t,
                placeholder: "Album",
                value: e,
                onChange: r
            }), e && a.createElement("button", {
                className: "album-input__delete",
                onClick: l
            }))
        }
        ;
        d(p, "useState{[albumInputValue, setAlbumInputValue](value)}\nuseState{[active, setActive](false)}");
        const h = (0,
        i.MM)(p);
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(u, "Input", "/home/vsts/work/1/s/src/components/Input/index.tsx"),
            e.register(f, "LabeledInput", "/home/vsts/work/1/s/src/components/Input/index.tsx"),
            e.register(m, "ColorInput", "/home/vsts/work/1/s/src/components/Input/index.tsx"),
            e.register(p, "AlbumInputComp", "/home/vsts/work/1/s/src/components/Input/index.tsx"),
            e.register(h, "AlbumInput", "/home/vsts/work/1/s/src/components/Input/index.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    abf12094d6dd744112a4: (e,t,r)=>{
        "use strict";
        r.r(t),
        r.d(t, {
            default: ()=>s
        });
        var o = r("8af190b70a6bc55c6f1b");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const a = ({size: e, primaryColor: t, bgColor: r})=>o.createElement("div", {
            className: `loader${e ? ` loader--${e}` : ""}`
        }, o.createElement("span", {
            className: `loader__spinner${r ? ` u-border--${r}` : ""}`
        }, o.createElement("span", null), o.createElement("span", {
            className: t ? `u-border--${t}` : ""
        }), o.createElement("span", null)))
          , n = a
          , s = n;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(a, "Loader", "/home/vsts/work/1/s/src/components/Loader/index.tsx"),
            e.register(n, "default", "/home/vsts/work/1/s/src/components/Loader/index.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "7e15fd75b6f1cbf7b3fd": (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>A
        });
        var o = r("de098c4daf91477f9cbc")
          , a = r("8af190b70a6bc55c6f1b")
          , n = r("657c5d0bc31a26770cad")
          , s = r("8390a660195ca787c81e")
          , i = r("9667880090888529dc91")
          , c = r("410dd64c33f00b849fa7")
          , l = r("77d9647920c06e8befd6")
          , _ = r("6515cd559c65eab0c80c")
          , d = r("d92624744e8fb7e743e8")
          , u = r("b194d90914e83db0f428")
          , f = r("3c15b862d899a16e9481")
          , m = r("553c2c26a5c8a1e6fec3")
          , p = r("5a530d159ab46bd0cea7")
          , h = r("238af0e74d3daf256b28");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        var b = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const v = ({audioEngine: e, stemsClient: t})=>{
            const [r,l] = (0,
            a.useState)()
              , [d,b] = (0,
            a.useState)()
              , [v,E] = (0,
            a.useState)()
              , [g,A] = (0,
            a.useState)("")
              , [y,P] = (0,
            a.useState)("")
              , [M,O] = (0,
            a.useState)(!1)
              , [T,D] = (0,
            a.useState)(!0)
              , w = (0,
            m.s)()
              , L = (0,
            a.useRef)();
            L.current = r;
            const k = (0,
            a.useRef)();
            k.current = d;
            const C = (0,
            a.useRef)();
            C.current = v;
            const R = (0,
            a.useRef)();
            R.current = e.playbackState;
            const S = (0,
            a.useRef)();
            S.current = e.trackIsLoaded;
            const U = (0,
            a.useRef)();
            U.current = e.shouldHideMiniPlayer;
            const x = (0,
            n.useHistory)();
            let I;
            const B = (0,
            a.useRef)();
            (0,
            a.useEffect)(()=>(I = requestAnimationFrame(H),
            document.addEventListener("keydown", G),
            ()=>{
                document.removeEventListener("keydown", G),
                cancelAnimationFrame(I),
                e.isNavigating && e.setIsNavigating(!1)
            }
            ), []),
            (0,
            a.useEffect)(()=>{
                const t = e.getActiveQueue();
                if (t) {
                    const o = t.findIndex(e=>{
                        return (e.id ? e.id : e.global_id) === r
                    }
                    );
                    if (-1 !== o) {
                        const e = t[o]
                          , r = (0,
                        f.vJ)(e)
                          , a = (0,
                        f.ee)(e)
                          , n = (0,
                        f.$r)(a, r);
                        b(o),
                        E(e),
                        A(n),
                        P(r)
                    } else
                        e.currentTrack && l(e.currentTrack.id)
                }
            }
            , [r, e.userQueue, e.currentTrack, e.currentTrackMetadataUpdated]),
            (0,
            a.useEffect)(()=>{
                e.currentTrack && (M && O(!1),
                l(e.currentTrack.id));
                const t = ()=>{
                    !0 === S.current && (D(!1),
                    B.current.removeEventListener("animationiteration", t))
                }
                ;
                var r;
                !0 !== S.current && (D(!0),
                null === (r = B.current) || void 0 === r || r.addEventListener("animationiteration", (0,
                s.Ds)(t, 50, !0)));
                return ()=>{
                    var e;
                    null === (e = B.current) || void 0 === e || e.removeEventListener("animationiteration", t)
                }
            }
            , [e.currentTrack]),
            (0,
            a.useEffect)(()=>{
                if (e.playbackState !== _.QK.Ended || e.shouldHideMiniPlayer)
                    e.playbackState === _.QK.Playing && (I = requestAnimationFrame(H));
                else {
                    const t = e.getActiveQueue()[d + 1];
                    t && F(t.id || t.global_id)
                }
            }
            , [e.playbackState]),
            (0,
            a.useEffect)(()=>{
                I = requestAnimationFrame(H)
            }
            , [e.currentPosition]);
            const K = (0,
            a.useRef)();
            K.current = e.getActiveQueue();
            const G = t=>{
                if (!U.current) {
                    if (S.current && " " === t.key && (t.preventDefault(),
                    R.current === _.QK.Playing ? e.pause() : e.play()),
                    "ArrowRight" === t.key) {
                        const e = K.current[k.current + 1] ? K.current[k.current + 1] : K.current[0];
                        e && F(e.id || e.global_id)
                    }
                    if ("ArrowLeft" === t.key) {
                        const t = K.current[k.current - 1] ? K.current[k.current - 1] : K.current[K.current.length - 1];
                        t && (e.getCurrentTime() >= 3 ? e.seekTo(0) : F(t.id || t.global_id))
                    }
                }
            }
              , W = function() {
                var r = (0,
                o.Z)(function*() {
                    const r = L.current;
                    if (!w())
                        return;
                    let o;
                    if (r === L.current) {
                        if (e.activeQueue === _.$_.Official) {
                            const a = yield t.getLatestStems(L.current, C.current.version, "mp3");
                            try {
                                const n = yield t.getWaveformData(a["waveform-data"], r);
                                o = e.generateTrack(C.current, a, n)
                            } catch (t) {
                                o = e.generateTrack(C.current, a)
                            }
                        } else {
                            const r = e.generateTrack(C.current);
                            if (!r.waveformData) {
                                const e = yield t.getWaveformData(C.current.waveforms_url, L.current);
                                r.waveformData = e
                            }
                            o = r
                        }
                        if (!w())
                            return;
                        e.load(o)
                    }
                    e.setIsNavigating(!1)
                });
                return function() {
                    return r.apply(this, arguments)
                }
            }()
              , H = ()=>{
                if (w()) {
                    var t;
                    const r = e.getCurrentPositionPercent();
                    null !== (t = e.currentTrack) && void 0 !== t && t.waveformData && Object.values(_.wA).forEach(t=>{
                        if (!e.getMutedStateForStem(t) && R.current !== _.QK.Stopped) {
                            const r = (0,
                            h.tX)(e.currentTrack.waveformData[t].intensity, e.getCurrentTime(), e.getDuration(), e.currentTrack.waveformData[t].fps)
                              , o = document.querySelector(`.mini-player__stems--${t}-container`).querySelector(".mini-player__stems--stem");
                            if (o) {
                                O(!0);
                                const e = (0,
                                u.Z)(r, [0, 1], [.3, 1], !0);
                                o.style.transform = `scale(${e})`
                            }
                        }
                    }
                    ),
                    r < 1 && R.current === _.QK.Playing && (I = requestAnimationFrame(H))
                }
            }
              , N = t=>{
                t.preventDefault(),
                t.stopPropagation(),
                x.push(`/connect/stem/track/${e.currentTrack.id}`)
            }
              , F = t=>{
                (0,
                p.Z)(),
                l(t),
                e.setIsNavigating(!0),
                e.stop(),
                V(),
                M && O(!1)
            }
              , V = (0,
            a.useCallback)((0,
            s.Ds)(W, 500), []);
            return a.createElement(a.Fragment, null, !e.shouldHideMiniPlayer && e.getHasPlayed() && a.createElement("div", {
                className: "mini-player__topshade"
            }), a.createElement("div", {
                className: `mini-player ${e.shouldHideMiniPlayer || !e.getHasPlayed() ? "mini-player__hidden" : ""}`,
                onTouchEnd: N
            }, a.createElement("div", {
                className: "mini-player__left",
                onClick: N
            }, a.createElement("div", {
                ref: B,
                className: `mini-player__stems ${T ? "mini-player__stems--loading" : ""}`
            }, (()=>Object.values(_.wA).map(t=>{
                const r = e.getMutedStateForStem(t)
                  , o = r || !e.trackIsLoaded || e.playbackState === _.QK.Stopped;
                return a.createElement("div", {
                    className: `mini-player__stems--stem-container  mini-player__stems--${t}-container`,
                    key: t
                }, a.createElement("svg", {
                    className: `mini-player__stems--stem ${r ? "mini-player__stems--stem--muted" : ""}`,
                    style: o ? {
                        transform: "scale(0.3)"
                    } : {},
                    height: "12",
                    width: "12",
                    fill: "var(--color-main)"
                }, a.createElement("circle", {
                    cx: "6",
                    cy: "6",
                    r: "5"
                })))
            }
            ))()), a.createElement("div", {
                className: "mini-player__track-info"
            }, a.createElement("p", {
                className: "mini-player__track-info--title"
            }, g && g.length ? g : "Untitled"), a.createElement("p", {
                className: "mini-player__track-info--artist"
            }, y))), a.createElement("div", {
                className: "mini-player__scrubber-container",
                onTouchEnd: e=>e.stopPropagation()
            }, a.createElement(i.Z, null)), a.createElement("div", {
                onTouchEnd: e=>e.stopPropagation()
            }, a.createElement(c.Z, {
                isMiniPlayer: !0,
                goToTrackCb: F,
                trackIndex: d
            }))))
        }
        ;
        b(v, "useState{[trackId, setTrackId]}\nuseState{[trackIndex, setTrackIndex]}\nuseState{[currentTrack, setCurrentTrack]}\nuseState{[trackTitle, setTrackTitle]('')}\nuseState{[trackArtist, setTrackArtist]('')}\nuseState{[haveAnimationsLoaded, setHaveAnimationsLoaded](false)}\nuseState{[shouldLoaderSpin, setShouldLoaderSpin](true)}\nuseMounted{isMounted}\nuseRef{trackIdRef}\nuseRef{trackIndexRef}\nuseRef{currentTrackRef}\nuseRef{playbackStateRef}\nuseRef{trackIsLoadedRef}\nuseRef{shouldHideMiniPlayerRef}\nuseHistory{history}\nuseRef{}\nuseEffect{}\nuseEffect{}\nuseEffect{}\nuseEffect{}\nuseEffect{}\nuseRef{queueRef}\nuseCallback{debouncedLoadToAudioEngine}", ()=>[m.s, n.useHistory]);
        const E = v
          , g = (0,
        d.E9)((0,
        l.f)(v))
          , A = g;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(v, "MiniPlayer", "/home/vsts/work/1/s/src/components/MiniPlayer/index.tsx"),
            e.register(E, "__TEST__MiniPlayer", "/home/vsts/work/1/s/src/components/MiniPlayer/index.tsx"),
            e.register(g, "default", "/home/vsts/work/1/s/src/components/MiniPlayer/index.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    abfe2b08803905e2fbf1: (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>A
        });
        var o = r("de098c4daf91477f9cbc")
          , a = r("8af190b70a6bc55c6f1b")
          , n = r("657c5d0bc31a26770cad")
          , s = r("8390a660195ca787c81e")
          , i = r("9667880090888529dc91")
          , c = r("410dd64c33f00b849fa7")
          , l = r("77d9647920c06e8befd6")
          , _ = r("6515cd559c65eab0c80c")
          , d = r("d92624744e8fb7e743e8")
          , u = r("b194d90914e83db0f428")
          , f = r("3c15b862d899a16e9481")
          , m = r("553c2c26a5c8a1e6fec3")
          , p = r("5a530d159ab46bd0cea7")
          , h = r("238af0e74d3daf256b28");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        var b = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const v = ({audioEngine: e, stemsClient: t})=>{
            const [r,l] = (0,
            a.useState)()
              , [d,b] = (0,
            a.useState)()
              , [v,E] = (0,
            a.useState)()
              , [g,A] = (0,
            a.useState)("")
              , [y,P] = (0,
            a.useState)("")
              , [M,O] = (0,
            a.useState)(!1)
              , [T,D] = (0,
            a.useState)(!0)
              , w = (0,
            m.s)()
              , L = (0,
            a.useRef)();
            L.current = r;
            const k = (0,
            a.useRef)();
            k.current = d;
            const C = (0,
            a.useRef)();
            C.current = v;
            const R = (0,
            a.useRef)();
            R.current = e.playbackState;
            const S = (0,
            a.useRef)();
            S.current = e.trackIsLoaded;
            const U = (0,
            a.useRef)();
            U.current = e.shouldHideMiniPlayer;
            const x = (0,
            n.useHistory)();
            let I;
            const B = (0,
            a.useRef)();
            (0,
            a.useEffect)(()=>(I = requestAnimationFrame(H),
            document.addEventListener("keydown", G),
            ()=>{
                document.removeEventListener("keydown", G),
                cancelAnimationFrame(I),
                e.isNavigating && e.setIsNavigating(!1)
            }
            ), []),
            (0,
            a.useEffect)(()=>{
                const t = e.getActiveQueue();
                if (t) {
                    const o = t.findIndex(e=>{
                        return (e.id ? e.id : e.global_id) === r
                    }
                    );
                    if (-1 !== o) {
                        const e = t[o]
                          , r = (0,
                        f.vJ)(e)
                          , a = (0,
                        f.ee)(e)
                          , n = (0,
                        f.$r)(a, r);
                        b(o),
                        E(e),
                        A(n),
                        P(r)
                    } else
                        e.currentTrack && l(e.currentTrack.id)
                }
            }
            , [r, e.userQueue, e.currentTrack, e.currentTrackMetadataUpdated]),
            (0,
            a.useEffect)(()=>{
                e.currentTrack && (M && O(!1),
                l(e.currentTrack.id));
                const t = ()=>{
                    !0 === S.current && (D(!1),
                    B.current.removeEventListener("animationiteration", t))
                }
                ;
                var r;
                !0 !== S.current && (D(!0),
                null === (r = B.current) || void 0 === r || r.addEventListener("animationiteration", (0,
                s.Ds)(t, 50, !0)));
                return ()=>{
                    var e;
                    null === (e = B.current) || void 0 === e || e.removeEventListener("animationiteration", t)
                }
            }
            , [e.currentTrack]),
            (0,
            a.useEffect)(()=>{
                if (e.playbackState !== _.QK.Ended || e.shouldHideMiniPlayer)
                    e.playbackState === _.QK.Playing && (I = requestAnimationFrame(H));
                else {
                    const t = e.getActiveQueue()[d + 1];
                    t && F(t.id || t.global_id)
                }
            }
            , [e.playbackState]),
            (0,
            a.useEffect)(()=>{
                I = requestAnimationFrame(H)
            }
            , [e.currentPosition]);
            const K = (0,
            a.useRef)();
            K.current = e.getActiveQueue();
            const G = t=>{
                if (!U.current) {
                    if (S.current && " " === t.key && (t.preventDefault(),
                    R.current === _.QK.Playing ? e.pause() : e.play()),
                    "ArrowRight" === t.key) {
                        const e = K.current[k.current + 1] ? K.current[k.current + 1] : K.current[0];
                        e && F(e.id || e.global_id)
                    }
                    if ("ArrowLeft" === t.key) {
                        const t = K.current[k.current - 1] ? K.current[k.current - 1] : K.current[K.current.length - 1];
                        t && (e.getCurrentTime() >= 3 ? e.seekTo(0) : F(t.id || t.global_id))
                    }
                }
            }
              , W = function() {
                var r = (0,
                o.Z)(function*() {
                    const r = L.current;
                    if (!w())
                        return;
                    let o;
                    if (r === L.current) {
                        if (e.activeQueue === _.$_.Official) {
                            const a = yield t.getLatestStems(L.current, C.current.version, "mp3");
                            try {
                                const n = yield t.getWaveformData(a["waveform-data"], r);
                                o = e.generateTrack(C.current, a, n)
                            } catch (t) {
                                o = e.generateTrack(C.current, a)
                            }
                        } else {
                            const r = e.generateTrack(C.current);
                            if (!r.waveformData) {
                                const e = yield t.getWaveformData(C.current.waveforms_url, L.current);
                                r.waveformData = e
                            }
                            o = r
                        }
                        if (!w())
                            return;
                        e.load(o)
                    }
                    e.setIsNavigating(!1)
                });
                return function() {
                    return r.apply(this, arguments)
                }
            }()
              , H = ()=>{
                if (w()) {
                    var t;
                    const r = e.getCurrentPositionPercent();
                    null !== (t = e.currentTrack) && void 0 !== t && t.waveformData && Object.values(_.wA).forEach(t=>{
                        if (!e.getMutedStateForStem(t) && R.current !== _.QK.Stopped) {
                            const r = (0,
                            h.tX)(e.currentTrack.waveformData[t].intensity, e.getCurrentTime(), e.getDuration(), e.currentTrack.waveformData[t].fps)
                              , o = document.querySelector(`.mini-player-shader__stems--${t}-container`).querySelector(".mini-player-shader__stems--stem");
                            if (o) {
                                O(!0);
                                const e = (0,
                                u.Z)(r, [0, 1], [.3, 1], !0);
                                o.style.transform = `scale(${e})`
                            }
                        }
                    }
                    ),
                    r < 1 && R.current === _.QK.Playing && (I = requestAnimationFrame(H))
                }
            }
              , N = t=>{
                t.preventDefault(),
                t.stopPropagation(),
                x.push(`/connect/stem/track/${e.currentTrack.id}`)
            }
              , F = t=>{
                (0,
                p.Z)(),
                l(t),
                e.setIsNavigating(!0),
                e.stop(),
                V(),
                M && O(!1)
            }
              , V = (0,
            a.useCallback)((0,
            s.Ds)(W, 500), []);
            return a.createElement(a.Fragment, null, a.createElement("div", {
                className: `mini-player-shader__container ${e.shouldHideMiniPlayer || !e.getHasPlayed() ? "mini-player-shader__container--hidden" : ""}`
            }, a.createElement("div", {
                className: "mini-player-shader",
                onTouchEnd: N
            }, a.createElement("div", {
                className: "mini-player-shader__left",
                onClick: N
            }, a.createElement("div", {
                ref: B,
                className: `mini-player-shader__stems ${T ? "mini-player-shader__stems--loading" : ""}`
            }, (()=>Object.values(_.wA).map(t=>{
                const r = e.getMutedStateForStem(t)
                  , o = r || !e.trackIsLoaded || e.playbackState === _.QK.Stopped;
                return a.createElement("div", {
                    className: `mini-player-shader__stems--stem-container  mini-player-shader__stems--${t}-container`,
                    key: t
                }, a.createElement("svg", {
                    className: `mini-player-shader__stems--stem ${r ? "mini-player-shader__stems--stem--muted" : ""}`,
                    style: o ? {
                        transform: "scale(0.3)"
                    } : {},
                    height: "12",
                    width: "12",
                    fill: "var(--color-main)"
                }, a.createElement("circle", {
                    cx: "6",
                    cy: "6",
                    r: "5"
                })))
            }
            ))()), a.createElement("div", {
                className: "mini-player-shader__track-info"
            }, a.createElement("p", {
                className: "mini-player-shader__track-info--title"
            }, g && g.length ? g : "Untitled"), a.createElement("p", {
                className: "mini-player-shader__track-info--artist"
            }, y))), a.createElement("div", {
                className: "mini-player-shader__scrubber-container",
                onTouchEnd: e=>e.stopPropagation()
            }, a.createElement(i.Z, null)), a.createElement("div", {
                onTouchEnd: e=>e.stopPropagation()
            }, a.createElement(c.Z, {
                isMiniPlayer: !0,
                goToTrackCb: F,
                trackIndex: d
            })))))
        }
        ;
        b(v, "useState{[trackId, setTrackId]}\nuseState{[trackIndex, setTrackIndex]}\nuseState{[currentTrack, setCurrentTrack]}\nuseState{[trackTitle, setTrackTitle]('')}\nuseState{[trackArtist, setTrackArtist]('')}\nuseState{[haveAnimationsLoaded, setHaveAnimationsLoaded](false)}\nuseState{[shouldLoaderSpin, setShouldLoaderSpin](true)}\nuseMounted{isMounted}\nuseRef{trackIdRef}\nuseRef{trackIndexRef}\nuseRef{currentTrackRef}\nuseRef{playbackStateRef}\nuseRef{trackIsLoadedRef}\nuseRef{shouldHideMiniPlayerRef}\nuseHistory{history}\nuseRef{}\nuseEffect{}\nuseEffect{}\nuseEffect{}\nuseEffect{}\nuseEffect{}\nuseRef{queueRef}\nuseCallback{debouncedLoadToAudioEngine}", ()=>[m.s, n.useHistory]);
        const E = v
          , g = (0,
        d.E9)((0,
        l.f)(v))
          , A = g;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(v, "MiniPlayer", "/home/vsts/work/1/s/src/components/MiniPlayerShader/index.tsx"),
            e.register(E, "__TEST__MiniPlayer", "/home/vsts/work/1/s/src/components/MiniPlayerShader/index.tsx"),
            e.register(g, "default", "/home/vsts/work/1/s/src/components/MiniPlayerShader/index.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "410dd64c33f00b849fa7": (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>f
        });
        var o = r("8af190b70a6bc55c6f1b")
          , a = r("804fe702b68cd889ff76")
          , n = r("88e8bdd04c305099c2c9")
          , s = r("98207642210e3d58d89a")
          , i = r("77d9647920c06e8befd6")
          , c = r("6515cd559c65eab0c80c");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        var l = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const _ = ({trackIndex: e, goToTrackCb: t, uploadText: r, deviceTransferActive: i, hidePrevNext: l, isMiniPlayer: _, closeCallback: d, audioEngine: u})=>{
            const [f,m] = (0,
            o.useState)(null)
              , p = (0,
            o.useRef)();
            p.current = f;
            const h = (r,o)=>{
                if (r.preventDefault(),
                p.current === o) {
                    m(null);
                    const r = u.getActiveQueue();
                    if ("prev" === o) {
                        const o = r[e - 1] ? r[e - 1] : r[r.length - 1];
                        u.getCurrentTime() >= 3 ? u.seekTo(0) : t(o.id || o.global_id)
                    } else {
                        const o = r[e + 1] ? r[e + 1] : r[0];
                        o ? t(o.id || o.global_id) : d && d()
                    }
                }
            }
              , b = ()=>{
                p.current && m(null)
            }
            ;
            let v, E, g;
            return _ && window.screen.width > 600 ? (v = 25,
            E = 57,
            g = 33) : _ ? (v = 26,
            E = 59,
            g = 35) : window.screen.width > 600 ? (v = 30,
            E = 68,
            g = 40) : (v = 33,
            E = 74,
            g = 44),
            o.createElement("div", {
                className: "player-controls"
            }, !l && o.createElement("div", {
                className: `player-controls__prev-next-button ${_ ? "player-controls__prev-next-button--mini-player" : ""}`
            }, o.createElement(a.default, {
                className: "player-controls__prev-button",
                onMouseDown: ()=>m("prev"),
                onMouseLeave: b,
                onMouseUp: e=>h(e, "prev"),
                onTouchStart: ()=>m("prev"),
                onTouchMove: ()=>m(null),
                onTouchEnd: e=>h(e, "prev")
            }), o.createElement(a.default, {
                className: "player-controls__next-button",
                onMouseDown: ()=>m("next"),
                onMouseUp: e=>h(e, "next"),
                onMouseLeave: b,
                onTouchStart: ()=>m("next"),
                onTouchMove: ()=>m(null),
                onTouchEnd: e=>h(e, "next")
            }), o.createElement("span", {
                className: "player-controls__prev-next-icon"
            }, "next" === p.current ? o.createElement(s.mE, {
                height: v,
                width: E
            }) : "prev" === p.current ? o.createElement(s.ry, {
                height: v,
                width: E
            }) : o.createElement(s._z, {
                height: v,
                width: E
            }))), o.createElement(a.default, {
                id: "play-button",
                icon: ()=>o.createElement(n.WU, {
                    height: g,
                    width: g
                }),
                brackets: !0,
                disabled: !u.trackIsLoaded,
                onClick: ()=>u.playbackState === c.QK.Playing ? u.pause() : u.play()
            }))
        }
        ;
        l(_, "useState{[prevNextButtonHighlightStatus, setPrevNextButtonHighlightStatus](null)}\nuseRef{prevNextButtonHighlightStatusRef}");
        const d = _
          , u = (0,
        i.f)(_)
          , f = u;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(_, "PlayerControls", "/home/vsts/work/1/s/src/components/PlayerControls/index.tsx"),
            e.register(d, "__TEST__PlayerControls", "/home/vsts/work/1/s/src/components/PlayerControls/index.tsx"),
            e.register(u, "default", "/home/vsts/work/1/s/src/components/PlayerControls/index.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "9667880090888529dc91": (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>_
        });
        var o = r("8af190b70a6bc55c6f1b")
          , a = r("6515cd559c65eab0c80c")
          , n = r("77d9647920c06e8befd6");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        var s = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const i = ({audioEngine: e})=>{
            const t = e.trackIsLoaded ? e.getCurrentPositionPercent() : 0
              , [r,n] = (0,
            o.useState)(t)
              , [s,i] = (0,
            o.useState)(!1)
              , c = (0,
            o.useRef)()
              , l = (0,
            o.useRef)();
            let _, d, u, f = new Date;
            const m = (0,
            o.useRef)();
            m.current = e.playbackState;
            const p = (0,
            o.useRef)();
            p.current = s;
            const h = (0,
            o.useRef)();
            h.current = r;
            const b = (0,
            o.useRef)();
            (0,
            o.useEffect)(()=>(b.current = !0,
            ()=>{
                b.current = !1,
                cancelAnimationFrame(u)
            }
            ), []),
            (0,
            o.useEffect)(()=>{
                e.playbackState === a.QK.Playing ? u = requestAnimationFrame(v) : e.playbackState === a.QK.Stopped && n(0)
            }
            , [e.playbackState]),
            (0,
            o.useEffect)(()=>{
                e.playbackState === a.QK.Paused && (u = requestAnimationFrame(v))
            }
            , [e.currentPosition]),
            (0,
            o.useEffect)(()=>{
                e.trackIsLoaded || n(0)
            }
            , [e.trackIsLoaded]);
            const v = ()=>{
                if (b.current && m.current !== a.QK.Stopped) {
                    const t = e.getCurrentPositionPercent()
                      , r = new Date;
                    !p.current && r.getTime() - f.getTime() > 1e3 / 3 && (n(t),
                    f = r),
                    t < 1 && (m.current === a.QK.Playing || p.current || t !== h.current) && requestAnimationFrame(v)
                }
            }
              , E = e=>{
                if (e.target) {
                    const t = (e=>{
                        const t = l.current.getBoundingClientRect()
                          , r = ((e.touches ? e.touches[0].clientX : e.clientX) - t.x) / t.width + Math.random() / 1e6;
                        return Math.min(1, Math.max(0, r))
                    }
                    )(e);
                    n(t)
                }
            }
              , g = l.current ? l.current.offsetWidth : 0;
            return o.createElement("div", {
                ref: c,
                className: "scrubber-container",
                onMouseEnter: t=>{
                    t.stopPropagation(),
                    t.preventDefault(),
                    e.isIsolating && e.setIsolatedStems([]),
                    1 !== t.buttons && i(!1)
                }
                ,
                onMouseMove: e=>{
                    e.stopPropagation(),
                    e.preventDefault(),
                    s && ("pointer" !== document.body.style.cursor && (document.body.style.cursor = "pointer"),
                    E(e))
                }
                ,
                onMouseUp: t=>{
                    t.stopPropagation(),
                    t.preventDefault(),
                    document.body.style.cursor = "default",
                    s && (i(!1),
                    e.seekToPercent(r))
                }
                ,
                onTouchStart: e=>{
                    d = e.touches[0].clientX,
                    _ = e.touches[0].clientY
                }
                ,
                onTouchMove: e=>{
                    if (e.stopPropagation(),
                    e.preventDefault(),
                    s)
                        E(e);
                    else if (d && _) {
                        const t = e.touches[0].clientX
                          , r = e.touches[0].clientY
                          , o = t - d
                          , a = r - _;
                        Math.abs(o) > Math.abs(a) && (window.preventScroll = !0,
                        i(!0),
                        E(e)),
                        d = null,
                        _ = null
                    }
                }
                ,
                onTouchEnd: t=>{
                    if (t.stopPropagation(),
                    t.preventDefault(),
                    e.trackIsLoaded)
                        if (window.preventScroll && (window.preventScroll = !1),
                        s)
                            i(!1),
                            e.seekToPercent(r);
                        else if (Math.abs(t.changedTouches[0].clientY - _) < 3) {
                            const r = c.current.getBoundingClientRect()
                              , o = (t.changedTouches[0].clientX - r.left) / r.width;
                            _ = null,
                            n(o),
                            e.seekToPercent(o)
                        }
                }
                ,
                onMouseLeave: e=>{
                    e.stopPropagation(),
                    e.preventDefault(),
                    s && (document.body.style.cursor = "default",
                    i(!1),
                    E(e))
                }
            }, o.createElement("div", {
                className: "scrubber",
                onMouseDown: t=>{
                    t.stopPropagation(),
                    t.preventDefault(),
                    t.touches || e.trackIsLoaded && (i(!0),
                    E(t))
                }
            }, o.createElement("span", {
                className: "scrubber--line"
            }), o.createElement("div", {
                ref: l,
                className: "scrubber--playhead-container"
            }, o.createElement("div", {
                className: "scrubber--playhead-hitbox",
                style: {
                    left: `${(e.trackIsLoaded ? r * g : 0) - 27}px`
                },
                onTouchStart: t=>{
                    t.stopPropagation(),
                    t.preventDefault(),
                    e.trackIsLoaded && !e.isIsolating && (i(!0),
                    E(t))
                }
            }, o.createElement("span", {
                className: "scrubber--playhead"
            })))))
        }
        ;
        s(i, "useState{[localPosition, setLocalPosition](initialScrubberPos)}\nuseState{[isScrubbing, setIsScrubbing](false)}\nuseRef{scrubberContainerRef: React.RefObject<HTMLDivElement>}\nuseRef{scrubberRef: React.RefObject<HTMLDivElement>}\nuseRef{playbackStateRef}\nuseRef{isScrubbingRef}\nuseRef{localPositionRef}\nuseRef{}\nuseEffect{}\nuseEffect{}\nuseEffect{}\nuseEffect{}");
        const c = i
          , l = (0,
        n.f)(i)
          , _ = l;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(3, "PLAYHEAD_FPS", "/home/vsts/work/1/s/src/components/Scrubber/index.tsx"),
            e.register(i, "Scrubber", "/home/vsts/work/1/s/src/components/Scrubber/index.tsx"),
            e.register(c, "__TEST__Scrubber", "/home/vsts/work/1/s/src/components/Scrubber/index.tsx"),
            e.register(l, "default", "/home/vsts/work/1/s/src/components/Scrubber/index.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "371760fd96b575cf2118": (e,t,r)=>{
        "use strict";
        r.d(t, {
            Rq: ()=>k,
            ZP: ()=>x
        });
        var o = r("990057777e9b2b7543e8")
          , a = r("de098c4daf91477f9cbc")
          , n = r("8af190b70a6bc55c6f1b")
          , s = r("657c5d0bc31a26770cad")
          , i = r.n(s)
          , c = r("9c2db445b2a1a7a1cf6d")
          , l = r("8a5d22dd0b24a6092d3e")
          , _ = r("b17b0ee5884def929afc")
          , d = r("f60aef9fa88f4e9ce07a")
          , u = r("09e5b40f0abea70b7ff4")
          , f = r("16c6bde65fb4831cea2e")
          , m = r("c1bece57111e2d76e639")
          , p = r("ad21e61587d47603cd1c")
          , h = r("3e17aee31846974e528a")
          , b = r("5347e167343c470dbdfe")
          , v = r("3145f0c7f3b91ffef7d2")
          , E = r("da23a0dbab1fa75005eb")
          , g = r("63922d5ff7825dcb0b86")
          , A = r("50adafd66d905a6a5399")
          , y = r("3029aafe6858c31fb8c9")
          , P = r("d6e61794281205c7e43a");
        function M(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var o = Object.getOwnPropertySymbols(e);
                t && (o = o.filter(function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                })),
                r.push.apply(r, o)
            }
            return r
        }
        function O(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = null != arguments[t] ? arguments[t] : {};
                t % 2 ? M(Object(r), !0).forEach(function(t) {
                    (0,
                    o.Z)(e, t, r[t])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : M(Object(r)).forEach(function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                })
            }
            return e
        }
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        var T = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const D = (0,
        c.ZP)({
            resolved: {},
            chunkName: ()=>"components-Button",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.resolve().then(r.bind(r, "804fe702b68cd889ff76")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "804fe702b68cd889ff76"
            }
        })
          , w = (0,
        c.ZP)({
            resolved: {},
            chunkName: ()=>"components-DeviceFirmwareDemo",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>r.e(3754).then(r.bind(r, "92924b32b778a2c890d3")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "92924b32b778a2c890d3"
            }
        })
          , L = "Connect Stem1"
          , k = function() {
            var e = (0,
            a.Z)(function*(e) {
                const t = e ? "mp3" : "wav"
                  , r = yield fetch(`/audio/silent-track.${t}`)
                  , o = yield r.blob();
                return new File([o],`silent-track.${t}`,{
                    type: "audio/mpeg"
                })
            });
            return function(t) {
                return e.apply(this, arguments)
            }
        }()
          , C = ({webUSBClient: e, trackApiClient: t, tracking: {trackEvent: r}, albumRestoreClient: {restoreError: o, resetState: s}, viewManagerClient: {setNewTrack: i, setDeviceFullUploadError: c}, unloadAudioEngineTrackCb: l, accountClient: d, history: u, newTrackUploadedCb: f, closeClicked: m, fetchUserLibraryWaveforms: p})=>{
            const h = (0,
            n.useRef)(null)
              , M = (0,
            n.useRef)(null)
              , [T,C] = (0,
            n.useState)(null)
              , [R,S] = (0,
            n.useState)(null)
              , [U,x] = (0,
            n.useState)(null)
              , [I,B] = (0,
            n.useState)(!1)
              , [K,G] = (0,
            n.useState)(null)
              , [W,H] = (0,
            n.useState)(null)
              , [N,F] = (0,
            n.useState)(null)
              , [V,q] = (0,
            n.useState)("")
              , [j,Z] = (0,
            n.useState)(null)
              , [$,Q] = (0,
            n.useState)(null)
              , [z,Y] = (0,
            n.useState)(!1)
              , [J,X] = (0,
            n.useState)(null)
              , [ee,te] = (0,
            n.useState)(!1)
              , [re,oe] = (0,
            n.useState)(!1)
              , [ae,ne] = (0,
            n.useState)("Upload")
              , [se,ie] = (0,
            n.useState)(!1)
              , [ce,le] = (0,
            n.useState)(!1)
              , [_e,de] = (0,
            n.useState)(!1)
              , [ue,fe] = (0,
            n.useState)(null)
              , [me,pe] = (0,
            n.useState)(L);
            (0,
            n.useEffect)(()=>{
                W && W.id && N && d.session ? (i(W),
                u.push(`/connect/stem/track/${W.id}`)) : W && !I && (F(null),
                i(W),
                (0,
                b.gn)() || !e.deviceConnected ? u.push(`/connect/stem/track/${W.id}`) : u.push("/connect/new"),
                be())
            }
            , [W]),
            (0,
            n.useEffect)(()=>{
                m && be()
            }
            , [m]),
            (0,
            n.useEffect)(()=>{
                (o || ue) && (ce || T) && de(!0)
            }
            , [T, ce, o, ue]),
            (0,
            n.useEffect)(()=>{
                ee && de(!1)
            }
            , [ee]),
            (0,
            n.useEffect)(()=>{
                ce && h.current.focus()
            }
            , [ce]),
            (0,
            n.useEffect)(()=>{
                ne("Upload"),
                ne($ || "Upload")
            }
            , [$]),
            (0,
            n.useEffect)(()=>{
                ne("Upload"),
                null === N && j && ne(j)
            }
            , [N, j]);
            const he = function() {
                var o = (0,
                a.Z)(function*(o) {
                    o.preventDefault(),
                    T || R || le(!0),
                    H(null),
                    F(null),
                    B(!1),
                    ie(!0),
                    null === T && "" === V && null === R && (console.error("Error: no file or url found"),
                    Z(null)),
                    Z("Splitting"),
                    ne("Splitting");
                    const a = Date.now();
                    try {
                        let o = null;
                        const u = new v.f;
                        var n;
                        if (G(u),
                        null !== T)
                            r({
                                event: "track_split",
                                data: {
                                    name: T.name,
                                    size: T.size,
                                    type: T.type,
                                    single_file: !0
                                }
                            }),
                            o = yield t.createTrackFromFile(T, e=>Z(e), u.register, null === (n = d.session) || void 0 === n ? void 0 : n.AccessToken, e.deviceConnected && e.deviceConfig.parameters.SplitterPreference === y.L4.High || !1);
                        else if (null !== R) {
                            var s;
                            r({
                                event: "track_split",
                                data: {
                                    single_file: !1
                                }
                            }),
                            o = yield t.createTrackFromMultiFiles(R, e=>Z(e), null === (s = d.session) || void 0 === s ? void 0 : s.AccessToken, e.deviceConnected && e.deviceConfig.parameters.SplitterPreference === y.L4.High || !1)
                        } else {
                            var _;
                            r({
                                event: "track_split",
                                data: {
                                    type: "url",
                                    url: `${V}`
                                }
                            }),
                            o = yield t.createTrackFromLink(V, e=>Z(e), u.register, null === (_ = d.session) || void 0 === _ ? void 0 : _.AccessToken, e.deviceConnected && e.deviceConfig.parameters.SplitterPreference === y.L4.High || !1)
                        }
                        if (null !== T || null === R) {
                            const e = Date.now();
                            r({
                                event: "track_split_complete",
                                data: {
                                    time: e - a,
                                    title: o.title || "",
                                    artist: o.artist || ""
                                }
                            })
                        }
                        const m = yield t.getTracks([o.id])
                          , h = yield p(m[o.id])
                          , b = O(O({}, o), {}, {
                            waveformData: h
                        });
                        if (e.deviceConnected) {
                            const t = yield e.hasSpaceForTrack(o);
                            l(),
                            t ? (i(W),
                            H(b),
                            null !== T || null !== R ? f(o.id, !0, b) : f(o.id, !0)) : (c(!0),
                            Z("Importing"),
                            F(o),
                            H(b),
                            f(o.id, !1)),
                            be()
                        } else
                            i(b),
                            H(b),
                            f(o.id, !1),
                            be()
                    } catch (e) {
                        e.message && e.message.includes("'USB': Must be handling a user gesture to show a permission request") ? (Y(!0),
                        X("Upload failed - reconnect Stem1"),
                        Z("Try again"),
                        r({
                            error: {
                                name: "track_split",
                                stack: "Failed to split track",
                                message: JSON.stringify(e.message)
                            }
                        })) : e.message && "Cancelled" !== e.message ? (Y(!0),
                        X(e.message),
                        Z("Try again"),
                        r({
                            error: {
                                name: "track_split",
                                stack: "Failed to split track",
                                message: JSON.stringify(e.message)
                            }
                        })) : (be(),
                        Z("Upload cancelled"),
                        r({
                            error: {
                                name: "track_split_cancelled",
                                stack: "Failed to split track",
                                message: JSON.stringify(e.message || e)
                            }
                        })),
                        te(!1),
                        G(null)
                    }
                });
                return function(e) {
                    return o.apply(this, arguments)
                }
            }()
              , be = ()=>{
                M.current && (M.current.value = ""),
                Z(null),
                G(null),
                B(null),
                q(""),
                C(null),
                S(null),
                le(!1),
                te(!1),
                e.setDeviceTransferActive(!1),
                ie(!0)
            }
              , ve = function() {
                var e = (0,
                a.Z)(function*(e) {
                    x(e.length);
                    let t = []
                      , r = !0;
                    for (let o = 0; o < 4; o++) {
                        const a = e[o];
                        if (o >= e.length) {
                            const e = yield k(r);
                            t.push(e)
                        } else if ("getAsFile"in a) {
                            const e = a.getAsFile();
                            e.name.match(/\.mp3$/i) || (r = !1),
                            t.push(e)
                        } else
                            t.push(a)
                    }
                    S(t)
                });
                return function(t) {
                    return e.apply(this, arguments)
                }
            }()
              , Ee = function() {
                var e = (0,
                a.Z)(function*(e) {
                    if ("files"in e.target && 0 === e.target.files.length)
                        return;
                    o && s(),
                    e.preventDefault(),
                    Ae(),
                    q(""),
                    S(null),
                    C(null);
                    let t = null;
                    if ("dataTransfer"in e ? e.dataTransfer.items ? 1 === e.dataTransfer.items.length ? "file" === e.dataTransfer.items[0].kind && (t = e.dataTransfer.items[0].getAsFile()) : e.dataTransfer.items.length <= 4 ? yield ve(e.dataTransfer.items) : (Q("UPLOAD UP TO 4 FILES"),
                    C(null),
                    S(null)) : 1 === e.dataTransfer.files.length ? t = e.dataTransfer.files[0] : e.dataTransfer.files.length <= 4 ? yield ve(e.dataTransfer.files) : (Q("UPLOAD UP TO 4 FILES"),
                    C(null),
                    S(null)) : 1 === e.target.files.length ? t = e.target.files[0] : e.target.files.length <= 4 ? yield ve(e.target.files) : (Q("UPLOAD UP TO 4 FILES"),
                    C(null),
                    S(null)),
                    t) {
                        ["audio/", "video/mp4"].some(e=>t.type.includes(e)) ? (C(t),
                        Q(null)) : (Q("AUDIO FILES ONLY"),
                        C(null),
                        S(null))
                    }
                });
                return function(t) {
                    return e.apply(this, arguments)
                }
            }()
              , ge = ()=>{
                C(null),
                S(null),
                Q(null)
            }
              , Ae = ()=>{
                Q(null),
                Y(!1),
                X(null),
                B(!1),
                Z(null)
            }
            ;
            let ye = V.replace(/^https?\:\/\/(www\.)?/i, "");
            ye.match(/^w?w?w?\.?$/i) && (ye = V);
            const Pe = ()=>!e.deviceTransferActive && !ee
              , Me = ()=>Pe() && [null, "Upload cancelled", "Try again"].includes(j)
              , Oe = ()=>{
                u.push("/connect/config")
            }
              , Te = function() {
                var t = (0,
                a.Z)(function*() {
                    const t = (0,
                    b.qs)();
                    if ("Use Chrome or Edge" !== ("Chrome" !== t && "Edge" !== t && "Use Chrome or Edge"))
                        if (e.deviceConnected)
                            try {
                                yield e.disconnect()
                            } catch (e) {
                                pe("Failed to connect"),
                                console.error(`Error: ${e}`)
                            }
                        else
                            try {
                                yield e.connect()
                            } catch (e) {
                                const t = yield(0,
                                A.Xb)();
                                pe(t ? "Connected in another tab" : "Failed to connect")
                            }
                    else
                        pe("Use Chrome or Edge")
                });
                return function() {
                    return t.apply(this, arguments)
                }
            }();
            return n.createElement("div", {
                className: "col-centered track-splitter",
                onDrop: Ee,
                onDragOver: e=>e.preventDefault(),
                id: "track-splitter-top"
            }, n.createElement("div", {
                className: "u-mb-medium"
            }), !ee && n.createElement("form", {
                className: "track-splitter__form",
                method: "post",
                encType: "multipart/form-data",
                onSubmit: he
            }, n.createElement("div", {
                className: "track-splitter__input menu-item"
            }, !ce && !T && !R && n.createElement("label", {
                htmlFor: "link-input",
                className: `track-splitter__link-button ${Me() ? "" : "disabled"}`,
                onClick: ()=>{
                    "Upload cancelled" === j && (be(),
                    le(!0)),
                    Me() && le(!0)
                }
            }, n.createElement("span", {
                className: "track-splitter__text"
            }, "LINK")), ce && !(T && T.name || R) && n.createElement(_.II, {
                className: "track-splitter__input-url track-splitter__text track-splitter__input-url--show",
                disabled: !Me(),
                invalid: z,
                modifier: "url",
                placeholder: "ENTER LINK",
                value: ye,
                onChange: e=>{
                    o && s(),
                    Ae(),
                    T && ge();
                    const t = e.target.value.trim()
                      , r = (0,
                    g.xb)(t) || t.match(/^https?:\/\//i) ? t : `https://${t}`;
                    q(r),
                    (0,
                    g.xb)(r) || (0,
                    g.b3)(r) ? z && (Y(!1),
                    X(null)) : (Y(!0),
                    X("Input not valid link"))
                }
                ,
                onBlur: ()=>0 === ye.length && le(!1),
                ref: h,
                id: "link-input",
                autoComplete: "off"
            }), !ce && !T && !R && n.createElement("span", {
                className: "track-splitter__text track-splitter__text--or"
            }, "or"), !ce && n.createElement(n.Fragment, null, n.createElement("label", {
                htmlFor: "file",
                className: `\n                                        track-splitter__input--file\n                                        track-splitter__link-button\n                                        ${Me() ? "" : " disabled"}\n                                        ${T && T.name || R ? " track-splitter__input--full" : ""}\n                                    `
            }, n.createElement("span", {
                className: "track-splitter__text"
            }, T && T.name && T.name.toUpperCase(), R && `${(0,
            E.pG)(U)} files selected`, null === T && null === R && "FILE")), n.createElement("input", {
                className: "input--file",
                type: "file",
                id: "file",
                name: "file",
                multiple: !0,
                disabled: !Me(),
                accept: [...P.Z, "video/mp4"].join(", "),
                onChange: Ee,
                ref: M
            }))), "Try again" === j && n.createElement(D, {
                text: `${J || "Error uploading track"}`,
                className: "u-mx-auto",
                disabled: !0
            }), n.createElement(D, {
                type: "submit",
                className: "u-mx-auto menu-item",
                hideTextWhenLoading: !0,
                brackets: "No available space on device" !== ae,
                dots: ["Splitting", "Formatting", "Uploading", "Importing", "Adding to Library"].includes(ae),
                disabled: !(()=>Pe() && [null, "Try again"].includes(j) && "No available space on device" !== ae)(),
                text: ae,
                onClick: e=>{
                    (!T && !R && "" === V || T && null !== $) && (e.preventDefault(),
                    M.current.click())
                }
            }), !N && K && n.createElement(D, {
                text: "CANCEL",
                className: "u-mx-auto stripped-device-firmware__button menu-item",
                brackets: !0,
                onClick: ()=>{
                    K && (K.cancel(),
                    ne(null),
                    be(),
                    F(null),
                    Z("Upload cancelled"),
                    setTimeout(()=>{
                        Z(null),
                        ne("Upload")
                    }
                    , 2e3),
                    r({
                        event: "track_upload_cancelled"
                    }))
                }
            })), !ee && !re && n.createElement(D, {
                text: "Config",
                disabled: !Pe(),
                brackets: !0,
                className: "u-mx-auto menu-item",
                onClick: ()=>Oe()
            }), !e.deviceConnected && !(0,
            b.gn)() && n.createElement(D, {
                text: me,
                disabled: !Pe(),
                brackets: !0,
                className: "u-mx-auto menu-item",
                onClick: ()=>Te()
            }), !d.session && n.createElement(D, {
                text: "Login",
                disabled: !Pe(),
                brackets: !0,
                className: "u-mx-auto menu-item",
                onClick: ()=>u.push("/account/login")
            }), (!e.deviceTransferActive || ee) && n.createElement(w, {
                resetUpdateRestoreState: se,
                setUpdateRestoreReset: ie,
                deviceInfo: e.deviceInfo,
                disabled: !Pe(),
                updatingCallback: e=>te(e),
                resetErrorState: _e,
                updateErrorCb: e=>fe(e),
                updateCompleteCb: ()=>Oe(),
                hasUpdateCb: oe
            }))
        }
        ;
        T(C, "useRef{textInputRef}\nuseRef{fileUploadInputRef}\nuseState{[file, setFile](null)}\nuseState{[multiFile, setMultiFile](null)}\nuseState{[multiFileLength, setMultiFileLength](null)}\nuseState{[cancelled, setCancelled](false)}\nuseState{[cancelController, setCancelController](null)}\nuseState{[track, setTrack](null)}\nuseState{[noRoomTrack, setNoRoomTrack](null)}\nuseState{[inputValue, setInputValue]('')}\nuseState{[feedback, setFeedback](null)}\nuseState{[dragError, setDragError](null)}\nuseState{[inputError, setInputError](false)}\nuseState{[inputErrorMessage, setInputErrorMessage](null)}\nuseState{[isUpdating, setIsUpdating](false)}\nuseState{[hasUpdate, setHasUpdate](false)}\nuseState{[uploadText, setUploadText]('Upload')}\nuseState{[updateRestoreReset, setUpdateRestoreReset](false)}\nuseState{[showUrlInput, setShowUrlInput](false)}\nuseState{[resetErrorState, setResetErrorState](false)}\nuseState{[updateError, setUpdateError](null)}\nuseState{[userActionText, setUserActionText](DEFAULT_USER_ACTION)}\nuseEffect{}\nuseEffect{}\nuseEffect{}\nuseEffect{}\nuseEffect{}\nuseEffect{}\nuseEffect{}");
        const R = C
          , S = (0,
        l.j)({
            module: "trackUploadForm"
        })((0,
        s.withRouter)((0,
        d.MM)((0,
        u.j)((0,
        f.C)((0,
        m.J)((0,
        p.o)((0,
        h.q)(C))))))))
          , U = S
          , x = U;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(D, "Button", "/home/vsts/work/1/s/src/components/TrackUploadForm/index.tsx"),
            e.register(w, "StrippedDeviceFirmware", "/home/vsts/work/1/s/src/components/TrackUploadForm/index.tsx"),
            e.register(L, "DEFAULT_USER_ACTION", "/home/vsts/work/1/s/src/components/TrackUploadForm/index.tsx"),
            e.register(k, "createSilentTrack", "/home/vsts/work/1/s/src/components/TrackUploadForm/index.tsx"),
            e.register(C, "TrackUploadFormComp", "/home/vsts/work/1/s/src/components/TrackUploadForm/index.tsx"),
            e.register(R, "__TEST__TrackUploadForm", "/home/vsts/work/1/s/src/components/TrackUploadForm/index.tsx"),
            e.register(S, "TrackUploadForm", "/home/vsts/work/1/s/src/components/TrackUploadForm/index.tsx"),
            e.register(U, "default", "/home/vsts/work/1/s/src/components/TrackUploadForm/index.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    df9ee908f82293cf6f64: (e,t,r)=>{
        "use strict";
        r.d(t, {
            o: ()=>n
        });
        var o = r("8af190b70a6bc55c6f1b");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        var a = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const n = ({layers: e, loaded: t})=>{
            const r = (0,
            o.useRef)()
              , [a,n] = (0,
            o.useState)([])
              , [s,i] = (0,
            o.useState)(null);
            (0,
            o.useEffect)(()=>{
                let e = setTimeout(()=>{
                    r.current && 0 !== r.current.scrollTop && r.current.scrollTo(0, 0)
                }
                , 100);
                return ()=>{
                    clearTimeout(e)
                }
            }
            ),
            (0,
            o.useEffect)(()=>{
                if (e.length === a.length + 1)
                    ;
                else if (e.length === a.length - 1) {
                    let t = !1;
                    for (let r = 0; r < e.length; r += 1)
                        e[r].id !== a[r].id && (t = !0);
                    if (!t)
                        return i("removing"),
                        void setTimeout(()=>{
                            i(null),
                            n(e)
                        }
                        , 300)
                }
                n(e)
            }
            , [e]);
            const c = [];
            for (let e = 0; e < 8; e += 1) {
                var l;
                const r = "removing" === s ? -1 : 0
                  , n = Math.min(1, (1 + e - r) / a.length);
                let i = "";
                e - r < a.length - 1 ? i = "below" : e - r > a.length - 1 && (i = "above");
                const _ = o.createElement("div", {
                    className: `\n                    ye-layers__layer\n                    ye-layers__layer--${0 === e ? "base" : "overlay"}\n                    ye-layers__layer--${i}\n                    ${t ? "" : "ye-layers__layer--loading"}`,
                    style: {
                        transform: n < 1 ? `scale(${n})` : void 0,
                        opacity: n < 1 ? n : void 0
                    },
                    key: e
                }, null === (l = a[e]) || void 0 === l ? void 0 : l.component);
                c.push(_)
            }
            return o.createElement("div", {
                ref: r,
                className: "ye-layers"
            }, c)
        }
        ;
        a(n, "useRef{rootRef}\nuseState{[displayedLayers, setDisplayedLayers]([])}\nuseState{[layerTransition, setLayerTransition](null)}\nuseEffect{}\nuseEffect{}"),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(8, "AVAILABLE_LAYERS", "/home/vsts/work/1/s/src/components/YeLayers/index.tsx"),
            e.register(n, "YeLayers", "/home/vsts/work/1/s/src/components/YeLayers/index.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "909d96d96697555397ee": (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            Z: ()=>__WEBPACK_DEFAULT_EXPORT__
        });
        var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("de098c4daf91477f9cbc")
          , react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("8af190b70a6bc55c6f1b")
          , _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("8a5d22dd0b24a6092d3e")
          , _ViewManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("40353abbf4343fb217bd")
          , _ViewManager_routes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("85e7ca4a0fc033a5d848")
          , _contexts_account__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("ad21e61587d47603cd1c")
          , _utils_browser_detection__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("5347e167343c470dbdfe")
          , _utils_preventScrollHandler__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("33f12881a4b6c417b540")
          , _components_BackgroundShader__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("cc0255108d6122cbc66a")
          , _components_BackgroundShader2__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("611644a0797bcf6f7bf2")
          , _utils_feature_flags__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("c0326c9d650a633c92d0");
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        class App extends react__WEBPACK_IMPORTED_MODULE_0__.Component {
            constructor(e) {
                super(e),
                this._isMounted = !1,
                this.handleOnViewLoaded = (()=>{
                    this._isMounted && (this.setState({
                        viewLoaded: !0
                    }),
                    setTimeout(()=>{
                        this.setState({
                            loading: !1
                        })
                    }
                    , 1e3))
                }
                ),
                this.state = {
                    loading: !0,
                    viewLoaded: !1,
                    routes: _ViewManager_routes__WEBPACK_IMPORTED_MODULE_3__._
                },
                "Samsung" === (0,
                _utils_browser_detection__WEBPACK_IMPORTED_MODULE_5__.qs)() && document.body.classList.add("is-samsung-internet")
            }
            componentDidMount() {
                this._isMounted = !0,
                document.addEventListener("touchmove", _utils_preventScrollHandler__WEBPACK_IMPORTED_MODULE_6__.Z, {
                    passive: !1
                })
            }
            componentDidUpdate() {
                var e = this;
                return (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*() {
                    const {loading: t} = e.state
                      , {accountClient: {session: r}} = e.props;
                    t || e.props.trackUser((null === r || void 0 === r ? void 0 : r.User.Id) || null)
                })()
            }
            componentWillUnmount() {
                document.removeEventListener("touchmove", _utils_preventScrollHandler__WEBPACK_IMPORTED_MODULE_6__.Z),
                this._isMounted = !1
            }
            render() {
                const {config: e, products: t} = this.props
                  , {routes: r, loading: o} = this.state;
                let a;
                return _utils_feature_flags__WEBPACK_IMPORTED_MODULE_9__.V.hasFlag("background-shader-single-gradient") ? a = "single-gradient" : _utils_feature_flags__WEBPACK_IMPORTED_MODULE_9__.V.hasFlag("background-shader-gradients") ? a = "gradients" : _utils_feature_flags__WEBPACK_IMPORTED_MODULE_9__.V.hasFlag("background-shader-ripples") ? a = "ripples" : _utils_feature_flags__WEBPACK_IMPORTED_MODULE_9__.V.hasFlag("background-shader-water") && (a = "water"),
                react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, a && "ripples" !== a && "water" !== a && react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_BackgroundShader__WEBPACK_IMPORTED_MODULE_7__.Z, {
                    loading: o,
                    type: a
                }), a && ("ripples" === a || "water" === a) && react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_BackgroundShader2__WEBPACK_IMPORTED_MODULE_8__.Z, {
                    loading: o,
                    type: a
                }), react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ViewManager__WEBPACK_IMPORTED_MODULE_2__.Z, {
                    routes: r,
                    config: e,
                    products: t,
                    onViewLoaded: this.handleOnViewLoaded
                }))
            }
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        const AppProvider = (0,
        _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_1__.j)({
            module: "app"
        })((0,
        _contexts_account__WEBPACK_IMPORTED_MODULE_4__.o)(App))
          , _default = AppProvider
          , __WEBPACK_DEFAULT_EXPORT__ = _default;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(App, "App", "/home/vsts/work/1/s/src/containers/App/index.tsx"),
            e.register(AppProvider, "AppProvider", "/home/vsts/work/1/s/src/containers/App/index.tsx"),
            e.register(_default, "default", "/home/vsts/work/1/s/src/containers/App/index.tsx"))
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    "3029aafe6858c31fb8c9": (e,t,r)=>{
        "use strict";
        r.d(t, {
            _E: ()=>o,
            N6: ()=>a,
            hX: ()=>n,
            UA: ()=>s,
            a6: ()=>i,
            MN: ()=>c,
            L4: ()=>l
        }),
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const o = {
            SeekJumpPeriod_mSecs: 1e3,
            SeekBuffersToPlay: 4,
            IsolationRampPeriod_mSecs: 50,
            IsolationHitBoxSize: 10,
            MinStemBackgroundLevel: 130,
            Fast2play: 1.25,
            Fast1play: 1.15,
            Slow1play: .5,
            RecordPeriod_secs: 60,
            MinVolumeLevel_dB: -30,
            HeadphoneMaxLevel_dB: -2,
            HeadphoneBTLimit: 5,
            HeadphoneWiredLimit: 3,
            SplitterPreference: 1
        };
        let a, n, s, i, c, l;
        !function(e) {
            e[e.Max = 6e5] = "Max",
            e[e.Min = 1e4] = "Min"
        }(a || (a = {})),
        function(e) {
            e[e.FastMax = 125] = "FastMax",
            e[e.FastMin = 100] = "FastMin",
            e[e.SlowMax = 100] = "SlowMax",
            e[e.SlowMin = 20] = "SlowMin"
        }(n || (n = {})),
        function(e) {
            e[e.Min = -10] = "Min",
            e[e.Max = 10] = "Max"
        }(s || (s = {})),
        function(e) {
            e[e.Large = 10] = "Large",
            e[e.Small = 5] = "Small"
        }(i || (i = {})),
        function(e) {
            e[e.Normal = 1e3] = "Normal",
            e[e.Fast = 2e3] = "Fast"
        }(c || (c = {})),
        function(e) {
            e[e.High = 2] = "High",
            e[e.Low = 1] = "Low"
        }(l || (l = {})),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && e.register(o, "DefaultConfig", "/home/vsts/work/1/s/src/containers/DeviceConfig/config.ts")
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "40353abbf4343fb217bd": (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            Z: ()=>__WEBPACK_DEFAULT_EXPORT__
        });
        var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("cc5a1791ca69c601dde3")
          , react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("8af190b70a6bc55c6f1b")
          , react_router_dom__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("657c5d0bc31a26770cad")
          , react_router_dom__WEBPACK_IMPORTED_MODULE_12___default = __webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_12__)
          , _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("8a5d22dd0b24a6092d3e")
          , _contexts_webusb__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("f60aef9fa88f4e9ce07a")
          , _contexts_album_restore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("16c6bde65fb4831cea2e")
          , _contexts_account__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("ad21e61587d47603cd1c")
          , _contexts_view_manager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("3e17aee31846974e528a")
          , _components_YeLayers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("df9ee908f82293cf6f64")
          , _contexts_audio_engine__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("77d9647920c06e8befd6")
          , _components_MiniPlayerShader__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("abfe2b08803905e2fbf1")
          , _components_MiniPlayer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("7e15fd75b6f1cbf7b3fd")
          , _loadable_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("9c2db445b2a1a7a1cf6d")
          , _utils_feature_flags__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("c0326c9d650a633c92d0");
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const DevMenuTrigger = (0,
        _loadable_component__WEBPACK_IMPORTED_MODULE_10__.ZP)({
            resolved: {},
            chunkName: ()=>"components-DevMenuTrigger",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!__webpack_require__.m[t]
            },
            importAsync: ()=>__webpack_require__.e(1866).then(__webpack_require__.bind(__webpack_require__, "8ee2ed86fae0a20a563a")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return __webpack_require__(t)
            },
            resolve() {
                return "8ee2ed86fae0a20a563a"
            }
        });
        class ViewManager extends react__WEBPACK_IMPORTED_MODULE_0__.Component {
            constructor(e) {
                super(e),
                this.mainEl = void 0,
                this.setViewLoaded = (()=>{
                    this.setState({
                        viewLoaded: !0
                    }, ()=>{
                        this.props.onViewLoaded && this.props.onViewLoaded()
                    }
                    )
                }
                ),
                this.setHomeImagesLoaded = (()=>{
                    this.setState({
                        homeImagesLoaded: !0
                    })
                }
                ),
                this.onDevicePanelMounted = (e=>{
                    this.setState({
                        connectToDevice: e
                    })
                }
                ),
                this.connectToDevice = (()=>{
                    const {connectToDevice: e} = this.state;
                    e && e()
                }
                );
                const {tracking: {trackEvent: t}} = e;
                let r = !1;
                "/uk" === location.pathname ? (r = !0,
                t({
                    event: "region_detect",
                    data: {
                        region: "uk",
                        page_path: "/",
                        vendor: window.location.hostname
                    }
                }),
                e.history.replace("/")) : "/us" === location.pathname ? (r = !1,
                t({
                    event: "region_detect",
                    data: {
                        region: "us",
                        page_path: "/",
                        vendor: window.location.hostname
                    }
                }),
                e.history.replace("/")) : t({
                    event: "region_detect",
                    data: {
                        region: "us",
                        page_path: "/",
                        vendor: window.location.hostname
                    }
                }),
                this.state = {
                    viewLoaded: !1,
                    homeImagesLoaded: !1,
                    isUK: r,
                    connectToDevice: null
                }
            }
            componentDidMount() {
                this.updateRoute()
            }
            componentDidUpdate(e) {
                const {webUSBClient: {deviceConnected: t}, location: r, viewManagerClient: o} = this.props;
                (e.location.pathname !== r.pathname || e.location.search !== r.search || e.webUSBClient && e.webUSBClient.deviceConnected !== t) && (o.setPreviousLocation(e.location.pathname + e.location.search),
                this.updateRoute())
            }
            updateRoute() {
                const {viewManagerClient: e, webUSBClient: t} = this.props
                  , {newTrack: r} = e;
                if (location.pathname.includes("/account/registration")) {
                    const t = location.search;
                    e.navigate(`/${t}`)
                }
                "/connect/new" === location.pathname && null === r && e.navigate("/connect/stem");
                for (const r of this.props.routes) {
                    const o = (0,
                    react_router_dom__WEBPACK_IMPORTED_MODULE_12__.matchPath)(location.pathname, {
                        path: r.path,
                        exact: r.exact
                    });
                    if (o) {
                        !r.deviceRequired || t.deviceConnected || r.accessWithLoginSession || e.navigate("/");
                        const a = r.layers.map(e=>e.component.load && e.component.load());
                        return void Promise.all(a).then(()=>{
                            this.setState({
                                route: r,
                                match: o
                            })
                        }
                        )
                    }
                }
                e.navigate("/")
            }
            render() {
                const {isUK: e, route: t, match: r} = this.state
                  , {config: o, products: a, audioEngine: n, viewManagerClient: {modals: s}} = this.props
                  , i = ((null === t || void 0 === t ? void 0 : t.layers) || []).concat(s);
                return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
                    className: `main${n.currentTrack || n.isNavigating ? " main__mini-player" : ""}`,
                    id: "main"
                }, react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
                    className: "content"
                }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_YeLayers__WEBPACK_IMPORTED_MODULE_6__.o, {
                    loaded: this.state.viewLoaded,
                    layers: i.map(t=>({
                        id: t.id,
                        component: react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_12__.Route, {
                            computedMatch: r,
                            children: r=>t.component ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(t.component, (0,
                            _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_13__.Z)({}, r, {
                                config: o,
                                products: a,
                                isUK: e,
                                onLoaded: this.setViewLoaded,
                                onImagesLoaded: this.setHomeImagesLoaded,
                                connectToDevice: this.connectToDevice
                            })) : react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
                                className: "modal",
                                ref: e=>{
                                    t.container.current = e,
                                    t.ready && t.ready.resolve()
                                }
                            })
                        })
                    }))
                })), "production" !== o.TARGET_ENV ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(DevMenuTrigger, null) : null, (_utils_feature_flags__WEBPACK_IMPORTED_MODULE_11__.V.hasFlag("background-shader-gradients") || _utils_feature_flags__WEBPACK_IMPORTED_MODULE_11__.V.hasFlag("background-shader-single-gradient") || _utils_feature_flags__WEBPACK_IMPORTED_MODULE_11__.V.hasFlag("background-shader-ripples") || _utils_feature_flags__WEBPACK_IMPORTED_MODULE_11__.V.hasFlag("background-shader-water")) && react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (n.currentTrack || n.isNavigating) && react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_MiniPlayerShader__WEBPACK_IMPORTED_MODULE_8__.Z, null)), !_utils_feature_flags__WEBPACK_IMPORTED_MODULE_11__.V.hasFlag("background-shader-gradients") && !_utils_feature_flags__WEBPACK_IMPORTED_MODULE_11__.V.hasFlag("background-shader-single-gradient") && !_utils_feature_flags__WEBPACK_IMPORTED_MODULE_11__.V.hasFlag("background-shader-ripples") && !_utils_feature_flags__WEBPACK_IMPORTED_MODULE_11__.V.hasFlag("background-shader-water") && (n.currentTrack || n.isNavigating) && react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_MiniPlayer__WEBPACK_IMPORTED_MODULE_9__.Z, null)))
            }
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        const _default = (0,
        _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_1__.j)({
            module: "view_manager"
        })((0,
        react_router_dom__WEBPACK_IMPORTED_MODULE_12__.withRouter)((0,
        _contexts_album_restore__WEBPACK_IMPORTED_MODULE_3__.C)((0,
        _contexts_webusb__WEBPACK_IMPORTED_MODULE_2__.MM)((0,
        _contexts_view_manager__WEBPACK_IMPORTED_MODULE_5__.q)((0,
        _contexts_account__WEBPACK_IMPORTED_MODULE_4__.o)((0,
        _contexts_audio_engine__WEBPACK_IMPORTED_MODULE_7__.f)(ViewManager)))))))
          , __WEBPACK_DEFAULT_EXPORT__ = _default;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(DevMenuTrigger, "DevMenuTrigger", "/home/vsts/work/1/s/src/containers/ViewManager/index.tsx"),
            e.register(ViewManager, "ViewManager", "/home/vsts/work/1/s/src/containers/ViewManager/index.tsx"),
            e.register(_default, "default", "/home/vsts/work/1/s/src/containers/ViewManager/index.tsx"))
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    "85e7ca4a0fc033a5d848": (e,t,r)=>{
        "use strict";
        r.d(t, {
            _: ()=>R
        });
        var o = r("9c2db445b2a1a7a1cf6d");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        var a = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const n = (0,
        o.ZP)({
            resolved: {},
            chunkName: ()=>"Updating",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>r.e(5735).then(r.bind(r, "8ff050722c9ab1c75b44")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "8ff050722c9ab1c75b44"
            }
        })
          , s = (0,
        o.ZP)({
            resolved: {},
            chunkName: ()=>"Remix",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.all([r.e(8317), r.e(5779), r.e(4513), r.e(9295), r.e(4771), r.e(9322)]).then(r.bind(r, "000afd87a3893e62f19d")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "000afd87a3893e62f19d"
            }
        })
          , i = (0,
        o.ZP)({
            resolved: {},
            chunkName: ()=>"Account",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>r.e(1918).then(r.bind(r, "ab540654ec87e0a7bf2a")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "ab540654ec87e0a7bf2a"
            }
        })
          , c = (0,
        o.ZP)({
            resolved: {},
            chunkName: ()=>"PasswordReset",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>r.e(6630).then(r.bind(r, "5e1201107e93964bd697")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "5e1201107e93964bd697"
            }
        })
          , l = (0,
        o.ZP)({
            resolved: {},
            chunkName: ()=>"ConfirmEmailUpdate",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>r.e(7452).then(r.bind(r, "f747f0c246c4030c9bf0")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "f747f0c246c4030c9bf0"
            }
        })
          , _ = (0,
        o.ZP)({
            resolved: {},
            chunkName: ()=>"Registration",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.all([r.e(4640), r.e(6150)]).then(r.bind(r, "55593ed3885f6c11ec50")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "55593ed3885f6c11ec50"
            }
        })
          , d = (0,
        o.ZP)({
            resolved: {},
            chunkName: ()=>"AccountLogin",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.all([r.e(8445), r.e(3383)]).then(r.bind(r, "9219c90d47a8820a2a29")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "9219c90d47a8820a2a29"
            }
        })
          , u = (0,
        o.ZP)({
            resolved: {},
            chunkName: ()=>"PasswordChange",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.all([r.e(9713), r.e(856)]).then(r.bind(r, "1ae9217340f0f396f87a")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "1ae9217340f0f396f87a"
            }
        })
          , f = (0,
        o.ZP)({
            resolved: {},
            chunkName: ()=>"HomePage",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.all([r.e(5779), r.e(4513), r.e(9295), r.e(9708), r.e(5316), r.e(8460)]).then(r.bind(r, "c109a9d128dff7bfbd45")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "c109a9d128dff7bfbd45"
            }
        })
          , m = (0,
        o.ZP)({
            resolved: {},
            chunkName: ()=>"Controls",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.all([r.e(1840), r.e(6521)]).then(r.bind(r, "3ad034ce62c44843d3a6")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "3ad034ce62c44843d3a6"
            }
        })
          , p = (0,
        o.ZP)({
            resolved: {},
            chunkName: ()=>"FAQ",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>r.e(5083).then(r.bind(r, "046ae41439684f406347")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "046ae41439684f406347"
            }
        })
          , h = (0,
        o.ZP)({
            resolved: {},
            chunkName: ()=>"Info",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.all([r.e(1840), r.e(5316), r.e(2792), r.e(9014)]).then(r.bind(r, "3227868004d09282c22f")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "3227868004d09282c22f"
            }
        })
          , b = (0,
        o.ZP)({
            resolved: {},
            chunkName: ()=>"Info-stem1",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.all([r.e(1840), r.e(5316), r.e(2792), r.e(9855)]).then(r.bind(r, "e0084f21055b8f2f433d")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "e0084f21055b8f2f433d"
            }
        })
          , v = (0,
        o.ZP)({
            resolved: {},
            chunkName: ()=>"Info-stem2",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.all([r.e(1840), r.e(5316), r.e(2792), r.e(6027)]).then(r.bind(r, "820bcc934fedf1a9a884")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "820bcc934fedf1a9a884"
            }
        })
          , E = (0,
        o.ZP)({
            resolved: {},
            chunkName: ()=>"Info-stem3",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.all([r.e(1840), r.e(5316), r.e(2792), r.e(407)]).then(r.bind(r, "c7e6ea7fa93fdc4d8403")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "c7e6ea7fa93fdc4d8403"
            }
        })
          , g = (0,
        o.ZP)({
            resolved: {},
            chunkName: ()=>"Terms",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.all([r.e(1840), r.e(6743)]).then(r.bind(r, "b7167979877d5e17bee1")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "b7167979877d5e17bee1"
            }
        })
          , A = (0,
        o.ZP)({
            resolved: {},
            chunkName: ()=>"PrivacyPolicy",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.all([r.e(1840), r.e(327)]).then(r.bind(r, "4dc3bf1b60601d50c9e1")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "4dc3bf1b60601d50c9e1"
            }
        })
          , y = (0,
        o.ZP)({
            resolved: {},
            chunkName: ()=>"RefundPolicy",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.all([r.e(1840), r.e(5908)]).then(r.bind(r, "2016e39a85fa248e4004")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "2016e39a85fa248e4004"
            }
        })
          , P = (0,
        o.ZP)({
            resolved: {},
            chunkName: ()=>"Video",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.all([r.e(1840), r.e(9945)]).then(r.bind(r, "0da2ab9a3c2d27b3b747")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "0da2ab9a3c2d27b3b747"
            }
        })
          , M = (0,
        o.ZP)({
            resolved: {},
            chunkName: ()=>"MusicVideos",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.all([r.e(1840), r.e(2868)]).then(r.bind(r, "eeaff95f5d41d43ad9fb")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "eeaff95f5d41d43ad9fb"
            }
        })
          , O = (0,
        o.ZP)({
            resolved: {},
            chunkName: ()=>"FactoryReset",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>r.e(5009).then(r.bind(r, "9ce1b3c31aa3a4f16c2c")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "9ce1b3c31aa3a4f16c2c"
            }
        })
          , T = (0,
        o.ZP)({
            resolved: {},
            chunkName: ()=>"DeviceConfig",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.all([r.e(9713), r.e(4958)]).then(r.bind(r, "d00aef4a5b07cfed0869")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "d00aef4a5b07cfed0869"
            }
        })
          , D = (0,
        o.ZP)({
            resolved: {},
            chunkName: ()=>"StemUpload",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.all([r.e(8317), r.e(5508), r.e(3930), r.e(451)]).then(r.bind(r, "eee9a4037fce6f3bba79")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "eee9a4037fce6f3bba79"
            }
        })
          , w = (0,
        o.ZP)({
            resolved: {},
            chunkName: ()=>"Platform",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.all([r.e(8317), r.e(5508), r.e(900), r.e(3930), r.e(4771), r.e(7203)]).then(r.bind(r, "d8233878ff089243fc65")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "d8233878ff089243fc65"
            }
        })
          , L = (0,
        o.ZP)({
            resolved: {},
            chunkName: ()=>"DevMenu",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>Promise.all([r.e(1840), r.e(9642)]).then(r.bind(r, "acbf6c7eb8d93a282a95")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "acbf6c7eb8d93a282a95"
            }
        })
          , k = (0,
        o.ZP)({
            resolved: {},
            chunkName: ()=>"Signup",
            isReady(e) {
                const t = this.resolve(e);
                return !0 === this.resolved[t] && !!r.m[t]
            },
            importAsync: ()=>r.e(9036).then(r.bind(r, "9bd6c822ea00773daea4")),
            requireAsync(e) {
                const t = this.resolve(e);
                return this.resolved[t] = !1,
                this.importAsync(e).then(e=>(this.resolved[t] = !0,
                e))
            },
            requireSync(e) {
                const t = this.resolve(e);
                return r(t)
            },
            resolve() {
                return "9bd6c822ea00773daea4"
            }
        })
          , C = {
            updating: {
                id: "updating",
                component: n
            },
            remix: {
                id: "remix",
                component: s
            },
            account: {
                id: "account",
                component: i
            },
            resetPassword: {
                id: "reset-password",
                component: c
            },
            emailUpdated: {
                id: "update-email",
                component: l
            },
            passwordChange: {
                id: "password-change",
                component: u
            },
            registration: {
                id: "reset-password",
                component: _
            },
            accountLogin: {
                id: "account-login",
                component: d
            },
            controls: {
                id: "controls",
                component: m
            },
            home: {
                id: "home",
                component: f
            },
            faq: {
                id: "faq",
                component: p
            },
            info: {
                id: "info",
                component: h
            },
            infoStem1: {
                id: "infoStem1",
                component: b
            },
            infoStem2: {
                id: "infoStem2",
                component: v
            },
            infoStem3: {
                id: "infoStem3",
                component: E
            },
            terms: {
                id: "terms",
                component: g
            },
            privacy: {
                id: "privacy",
                component: A
            },
            refund: {
                id: "refund",
                component: y
            },
            video: {
                id: "video",
                component: P
            },
            musicVideos: {
                id: "music-videos",
                component: M
            },
            factoryReset: {
                id: "factory-reset",
                component: O
            },
            deviceConfig: {
                id: "device-config",
                component: T
            },
            stemUpload: {
                id: "stem-upload",
                component: D
            },
            platform: {
                id: "platform",
                component: w
            },
            devMenu: {
                id: "dev-menu",
                component: L
            },
            holoplayerSignup: {
                id: "holoplayer-signup",
                component: k
            }
        }
          , R = [{
            path: ["/account/reset-password"],
            exact: !0,
            layers: [C.home, C.resetPassword],
            deviceRequired: !1,
            accessWithLoginSession: !1
        }, {
            path: ["/account/update-email"],
            exact: !0,
            layers: [C.home, C.emailUpdated],
            deviceRequired: !1,
            accessWithLoginSession: !1
        }, {
            path: ["/account/password-change"],
            exact: !0,
            layers: [C.home, C.passwordChange],
            deviceRequired: !1,
            accessWithLoginSession: !0
        }, {
            path: ["/account/registration"],
            exact: !0,
            layers: [C.home, C.registration],
            deviceRequired: !1,
            accessWithLoginSession: !1
        }, {
            path: ["/account/login"],
            exact: !0,
            layers: [C.home, C.accountLogin],
            deviceRequired: !1,
            accessWithLoginSession: !1
        }, {
            path: ["/connect/factory-reset"],
            exact: !0,
            layers: [C.home, C.platform, C.factoryReset],
            deviceRequired: !0,
            accessWithLoginSession: !1
        }, {
            path: ["/connect/config/factory-reset"],
            exact: !0,
            layers: [C.home, C.platform, C.deviceConfig, C.factoryReset],
            deviceRequired: !0,
            accessWithLoginSession: !1
        }, {
            path: ["/connect/config"],
            exact: !0,
            layers: [C.home, C.platform, C.deviceConfig],
            deviceRequired: !0,
            accessWithLoginSession: !0
        }, {
            path: ["/connect/new"],
            exact: !0,
            layers: [C.home, C.platform, C.stemUpload],
            deviceRequired: !1,
            accessWithLoginSession: !0
        }, {
            path: ["/connect/stem"],
            exact: !0,
            layers: [C.home, C.platform],
            deviceRequired: !0,
            accessWithLoginSession: !0
        }, {
            path: ["/connect/stem/album/:albumSlug", "/connect/stem/track/:trackId"],
            exact: !0,
            layers: [C.home, C.platform],
            deviceRequired: !0,
            accessWithLoginSession: !0
        }, {
            path: ["/controls"],
            exact: !0,
            layers: [C.home, C.platform, C.controls],
            deviceRequired: !1,
            accessWithLoginSession: !0
        }, {
            path: ["/remix"],
            exact: !1,
            layers: [C.home, C.remix],
            deviceRequired: !1,
            accessWithLoginSession: !0
        }, {
            path: ["/faq"],
            exact: !0,
            layers: [C.home, C.faq],
            deviceRequired: !1,
            accessWithLoginSession: !0
        }, {
            path: ["/faq/controls", "/controls"],
            exact: !0,
            layers: [C.home, C.faq, C.controls],
            deviceRequired: !1,
            accessWithLoginSession: !0
        }, {
            path: ["/info"],
            exact: !0,
            layers: [C.home, C.info],
            deviceRequired: !1,
            accessWithLoginSession: !0
        }, {
            path: ["/info/terms"],
            exact: !0,
            layers: [C.home, C.info, C.terms],
            deviceRequired: !1,
            accessWithLoginSession: !0
        }, {
            path: ["/info/privacy"],
            exact: !0,
            layers: [C.home, C.info, C.privacy],
            deviceRequired: !1,
            accessWithLoginSession: !0
        }, {
            path: ["/info/refund"],
            exact: !0,
            layers: [C.home, C.info, C.refund],
            deviceRequired: !1,
            accessWithLoginSession: !0
        }, {
            path: ["/stem1"],
            exact: !0,
            layers: [C.home, C.infoStem1],
            deviceRequired: !1,
            accessWithLoginSession: !1
        }, {
            path: ["/stem2"],
            exact: !0,
            layers: [C.home, C.infoStem2],
            deviceRequired: !1,
            accessWithLoginSession: !1
        }, {
            path: ["/stem3"],
            exact: !0,
            layers: [C.home, C.infoStem3],
            deviceRequired: !1,
            accessWithLoginSession: !1
        }, {
            path: ["/terms"],
            exact: !0,
            layers: [C.home, C.terms],
            deviceRequired: !1,
            accessWithLoginSession: !0
        }, {
            path: ["/privacy", "/privacy-policy"],
            exact: !0,
            layers: [C.home, C.privacy],
            deviceRequired: !1,
            accessWithLoginSession: !0
        }, {
            path: ["/refund", "/refund-policy"],
            exact: !0,
            layers: [C.home, C.refund],
            deviceRequired: !1,
            accessWithLoginSession: !0
        }, {
            path: ["/video"],
            exact: !0,
            layers: [C.home, C.video],
            deviceRequired: !1,
            accessWithLoginSession: !0
        }, {
            path: ["/music-videos"],
            exact: !0,
            layers: [C.home, C.musicVideos],
            deviceRequired: !1,
            accessWithLoginSession: !0
        }, {
            path: ["/signup"],
            exact: !0,
            layers: [C.home, C.holoplayerSignup],
            deviceRequired: !1,
            accessWithLoginSession: !1
        }, {
            path: ["/updating"],
            exact: !0,
            layers: [C.home, C.updating],
            deviceRequired: !1,
            accessWithLoginSession: !1
        }, {
            path: ["/"],
            exact: !0,
            layers: [C.home],
            deviceRequired: !1,
            accessWithLoginSession: !0
        }, {
            path: ["/signup"],
            exact: !0,
            layers: [C.home, C.holoplayerSignup],
            deviceRequired: !1,
            accessWithLoginSession: !1
        }];
        R.unshift({
            path: ["/dev"],
            exact: !0,
            layers: [C.home, C.devMenu],
            deviceRequired: !1,
            accessWithLoginSession: !1
        }),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(n, "LoadableUpdating", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(s, "LoadableRemix", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(i, "LoadableAccount", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(c, "LoadableResetPassword", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(l, "LoadableUpdateEmail", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(_, "LoadableRegistration", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(d, "LoadableAccountLogin", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(u, "LoadablePasswordChange", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(f, "LoadableHome", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(m, "LoadableControls", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(p, "LoadableFaq", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(h, "LoadableInfo", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(b, "LoadableInfoStem1", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(v, "LoadableInfoStem2", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(E, "LoadableInfoStem3", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(g, "LoadableTerms", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(A, "LoadablePrivacy", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(y, "LoadableRefund", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(P, "LoadableVideo", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(M, "LoadableMusicVideos", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(O, "LoadableFactoryReset", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(T, "LoadableDeviceConfig", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(D, "LoadableStemUpload", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(w, "LoadablePlatform", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(L, "LoadableDevMenu", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(k, "LoadableSignup", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(C, "views", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"),
            e.register(R, "routes", "/home/vsts/work/1/s/src/containers/ViewManager/routes.ts"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "727b34f8bf995459d503": (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            w0: ()=>AccountContext,
            ZP: ()=>__WEBPACK_DEFAULT_EXPORT__
        });
        var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("990057777e9b2b7543e8")
          , _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("de098c4daf91477f9cbc")
          , react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("8af190b70a6bc55c6f1b")
          , _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("8a5d22dd0b24a6092d3e")
          , _kano_kbc_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("8390a660195ca787c81e")
          , _utils_validate__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("590e518eaa9efe3ab6d3");
        function ownKeys(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var o = Object.getOwnPropertySymbols(e);
                t && (o = o.filter(function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                })),
                r.push.apply(r, o)
            }
            return r
        }
        function _objectSpread(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = null != arguments[t] ? arguments[t] : {};
                t % 2 ? ownKeys(Object(r), !0).forEach(function(t) {
                    (0,
                    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e, t, r[t])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : ownKeys(Object(r)).forEach(function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                })
            }
            return e
        }
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const AccountContext = react__WEBPACK_IMPORTED_MODULE_1__.createContext({})
          , DONDA_2_ID = "donda_2";
        class AccountProvider extends react__WEBPACK_IMPORTED_MODULE_1__.PureComponent {
            constructor(e) {
                var t;
                super(e),
                t = this,
                this.LSKey = void 0,
                this.BasicLSKey = void 0,
                this.setUpdatedEmail = (e=>{
                    this.setState({
                        updatedEmail: e
                    })
                }
                ),
                this.setUserLoggedOut = (e=>{
                    this.setState({
                        userLoggedOut: e
                    })
                }
                ),
                this.login = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*(e, r) {
                        const o = {
                            error: null,
                            session: null
                        };
                        if (!(0,
                        _utils_validate__WEBPACK_IMPORTED_MODULE_4__.oH)(e))
                            return o.error = "Invalid Email Address",
                            o;
                        if (!(0,
                        _utils_validate__WEBPACK_IMPORTED_MODULE_4__.uo)(r))
                            return o.error = "Invalid email or password",
                            o;
                        try {
                            const a = yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/login`, {
                                method: "POST",
                                body: JSON.stringify({
                                    email: e,
                                    password: r
                                })
                            });
                            if (!a.ok)
                                return o.error = "Invalid email or password",
                                o;
                            const n = yield a.json();
                            return t.saveSession(n.data),
                            o.session = n.data,
                            o
                        } catch (e) {
                            return o.error = "Login failed. Try again later",
                            o
                        }
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.signup = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*(e, r, o) {
                        const a = {
                            error: null,
                            session: null
                        };
                        if (!(0,
                        _utils_validate__WEBPACK_IMPORTED_MODULE_4__.oH)(e))
                            return a.error = "Invalid email",
                            a;
                        if (!(0,
                        _utils_validate__WEBPACK_IMPORTED_MODULE_4__.uo)(r))
                            return a.error = "Password must be 8 characters or longer",
                            a;
                        if (r !== o)
                            return a.error = "Passwords don't match",
                            a;
                        try {
                            const o = yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/signup`, {
                                method: "POST",
                                body: JSON.stringify({
                                    email: e,
                                    password: r
                                })
                            });
                            if (!o.ok) {
                                if (400 === o.status) {
                                    const e = yield o.json();
                                    return a.error = e.error,
                                    a.error = "Signup failed. Please try again later (2)",
                                    a
                                }
                                return a.error = "Signup failed. Please try again later",
                                a
                            }
                            const n = yield o.json();
                            return t.saveSession(n.data),
                            a.session = n.data,
                            a
                        } catch (e) {
                            return a.error = "Signup failed. Please try again later",
                            a
                        }
                    });
                    return function(t, r, o) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.redirectToCreatePurchase = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*(e) {
                        try {
                            const r = {
                                products: e
                            };
                            "production" !== t.props.config.TARGET_ENV && (r.redirectBaseUrl = `${document.location.origin}`);
                            const o = yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/purchase`, {
                                method: "POST",
                                headers: {
                                    Authorization: `bearer ${t.state.session.AccessToken}`
                                },
                                body: JSON.stringify(r)
                            });
                            if (!o.ok)
                                throw new Error(`Request failed: ${o.status}`);
                            const a = yield o.json();
                            window.location.href = a.data.redirectUrl
                        } catch (e) {
                            throw new Error(`Creating purchase failed: ${e}`)
                        }
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.redirectToCreateSubscription = (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*() {
                    try {
                        const e = {};
                        "production" !== t.props.config.TARGET_ENV && (e.redirectBaseUrl = `${document.location.origin}`);
                        const r = yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/subscribe`, {
                            method: "POST",
                            headers: {
                                Authorization: `bearer ${t.state.session.AccessToken}`
                            },
                            body: JSON.stringify(e)
                        });
                        if (!r.ok)
                            throw new Error(`Request failed: ${r.status}`);
                        const o = yield r.json();
                        window.location.href = o.data.redirectUrl
                    } catch (e) {
                        throw new Error(`Creating subscription failed: ${e}`)
                    }
                }),
                this.redirectToManageSubscription = (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*() {
                    try {
                        let e = [];
                        "production" !== t.props.config.TARGET_ENV && e.push(`redirectBaseUrl=${document.location.origin}`);
                        const r = e.length > 0 ? `?${e.join("&")}` : ""
                          , o = yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/manage-subscription${r}`, {
                            headers: {
                                Authorization: `bearer ${t.state.session.AccessToken}`
                            }
                        });
                        if (!o.ok)
                            throw new Error(`Request failed: ${o.status}`);
                        const a = yield o.json();
                        window.location.href = a.data.redirectUrl
                    } catch (e) {
                        throw new Error(`Managing subscription failed: ${e}`)
                    }
                }),
                this.resetPassword = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*(e) {
                        const r = {
                            error: null
                        };
                        try {
                            if (!(0,
                            _utils_validate__WEBPACK_IMPORTED_MODULE_4__.oH)(e))
                                return r.error = "Invalid Email Address",
                                r;
                            const o = yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/forgot-password`, {
                                method: "POST",
                                body: JSON.stringify({
                                    email: e
                                })
                            });
                            return o.ok ? r : (r.error = `${o.status}`,
                            r)
                        } catch (e) {
                            return r.error = `${e}`,
                            r
                        }
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.resendRegistrationEmail = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*(e) {
                        const r = {
                            error: null
                        };
                        try {
                            if (!(0,
                            _utils_validate__WEBPACK_IMPORTED_MODULE_4__.oH)(e))
                                return r.error = "Invalid Email Address",
                                r;
                            const o = yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/register`, {
                                method: "POST",
                                body: JSON.stringify({
                                    email: e
                                })
                            });
                            return o.ok ? r : (r.error = `${o.status}`,
                            r)
                        } catch (e) {
                            return r.error = `${e}`,
                            r
                        }
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.confirmResetPassword = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*(e, r, o) {
                        const a = {
                            error: null,
                            session: null
                        };
                        if (!(0,
                        _utils_validate__WEBPACK_IMPORTED_MODULE_4__.oH)(e))
                            return a.error = "Invalid Email Address",
                            a;
                        if (!(0,
                        _utils_validate__WEBPACK_IMPORTED_MODULE_4__.uo)(o))
                            return a.error = "Password must be over 8 characters long",
                            a;
                        if (!e || !r)
                            return a.error = "Link Expired",
                            a;
                        try {
                            const n = yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/confirm-forgot-password`, {
                                method: "POST",
                                body: JSON.stringify({
                                    email: e,
                                    confirmationCode: r,
                                    newPassword: o
                                })
                            });
                            if (!n.ok) {
                                switch (n.status) {
                                case 410:
                                    a.error = "Link Expired";
                                    break;
                                default:
                                    a.error = "Error saving password. Please try again later"
                                }
                                return a
                            }
                            const s = yield n.json();
                            return t.saveSession(s.data),
                            a.session = s.data,
                            a
                        } catch (e) {
                            return a.error = "Error saving password. Please try again later",
                            a
                        }
                    });
                    return function(t, r, o) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.confirmRegistration = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*(e, r, o) {
                        const a = {
                            error: null,
                            session: null
                        };
                        if (!(0,
                        _utils_validate__WEBPACK_IMPORTED_MODULE_4__.oH)(e))
                            return a.error = "Invalid Email Address",
                            a;
                        if (!(0,
                        _utils_validate__WEBPACK_IMPORTED_MODULE_4__.uo)(o))
                            return a.error = "Password must be over 8 characters long",
                            a;
                        if (!e || !r)
                            return a.error = "Link Expired",
                            a;
                        try {
                            const n = yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/complete-registration`, {
                                method: "POST",
                                body: JSON.stringify({
                                    email: e,
                                    tempPassword: r,
                                    newPassword: o
                                })
                            });
                            if (!n.ok) {
                                switch (n.status) {
                                case 401:
                                    a.error = "Link Expired";
                                    break;
                                default:
                                    a.error = "Error saving password. Please try again later"
                                }
                                return a
                            }
                            const s = yield n.json();
                            return t.saveSession(s.data),
                            a.session = s.data,
                            a
                        } catch (e) {
                            return a.error = "Error saving password. Please try again later",
                            a
                        }
                    });
                    return function(t, r, o) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.updatePassword = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*(e, r, o) {
                        const a = {
                            error: null
                        };
                        if (!(0,
                        _utils_validate__WEBPACK_IMPORTED_MODULE_4__.uo)(r))
                            return a.error = "Password must be 8 characters or longer",
                            a;
                        if (r !== o)
                            return a.error = "Passwords don't match",
                            a;
                        try {
                            return (yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/change-password`, {
                                method: "POST",
                                headers: {
                                    Authorization: `bearer ${t.state.session.AccessToken}`
                                },
                                body: JSON.stringify({
                                    oldPassword: e,
                                    newPassword: r
                                })
                            })).ok ? a : (a.error = "Incorrect password",
                            a)
                        } catch (e) {
                            return a.error = "Error updating password. Please try again later",
                            a
                        }
                    });
                    return function(t, r, o) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.updateEmail = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*(e) {
                        const r = {
                            error: null
                        };
                        if (!(0,
                        _utils_validate__WEBPACK_IMPORTED_MODULE_4__.oH)(e))
                            return r.error = "Invalid Email",
                            r;
                        try {
                            return (yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/update-email`, {
                                method: "POST",
                                headers: {
                                    Authorization: `bearer ${t.state.session.AccessToken}`
                                },
                                body: JSON.stringify({
                                    newEmail: e
                                })
                            })).ok ? r : (r.error = "Update failed. Please try again later.",
                            r)
                        } catch (e) {
                            return r.error = "Update failed. Please try again later.",
                            r
                        }
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.confirmedEmailUpdate = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*(e, r, o, a) {
                        const n = e
                          , s = r
                          , i = o
                          , c = a;
                        t.setUpdatedEmail(s);
                        try {
                            if (!(yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/confirm-update-email`, {
                                method: "POST",
                                headers: {
                                    Authorization: `bearer ${t.state.session.AccessToken}`
                                },
                                body: JSON.stringify({
                                    oldEmail: n,
                                    newEmail: s,
                                    signDate: i,
                                    sig: c
                                })
                            })).ok)
                                throw Error("Update failed. Please try again later.")
                        } catch (e) {
                            console.log(e)
                        }
                    });
                    return function(t, r, o, a) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.refreshSession = (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*() {
                    const e = {
                        error: null,
                        session: null
                    }
                      , {RefreshToken: r} = t.state.session;
                    try {
                        const o = yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/refresh-token`, {
                            method: "POST",
                            headers: {
                                Authorization: `bearer ${t.state.session.AccessToken}`
                            },
                            body: JSON.stringify({
                                RefreshToken: r
                            })
                        });
                        if (!o.ok) {
                            if (401 === o.status) {
                                const t = yield o.json();
                                return e.error = t.error,
                                e
                            }
                            return e.error = "Refresh failed. Try again later",
                            e
                        }
                        const a = _objectSpread({
                            RefreshToken: r
                        }, (yield o.json()).data);
                        return t.saveSession(a),
                        e.session = a,
                        e
                    } catch (t) {
                        return e.error = "Refresh failed. Try again later",
                        e
                    }
                }),
                this.getSession = (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*() {
                    return t.state.session
                }),
                this.saveSession = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*(e) {
                        t.setState({
                            session: e
                        }),
                        _kano_kbc_utils__WEBPACK_IMPORTED_MODULE_3__.mM.write(t.LSKey, JSON.stringify(e))
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.saveBasicSession = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*(e) {
                        t.setState({
                            basicSession: e
                        }),
                        _kano_kbc_utils__WEBPACK_IMPORTED_MODULE_3__.mM.write(t.BasicLSKey, JSON.stringify(e))
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.isUserSubscribed = (()=>{
                    var e, t;
                    return !(null === (e = this.state.session) || void 0 === e || null === (t = e.User) || void 0 === t || !t.SubscriptionActive)
                }
                ),
                this.purchasedDonda2 = (()=>{
                    var e, t, r;
                    return !(null === (e = this.state.session) || void 0 === e || null === (t = e.User) || void 0 === t || null === (r = t.Purchases) || void 0 === r || !r.includes(DONDA_2_ID))
                }
                ),
                this.purchasedStemPlayer = (()=>!!this.state.session),
                this.requestDeviceChallenge = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*(e) {
                        try {
                            const r = yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/device-challenge`, {
                                method: "POST",
                                body: JSON.stringify({
                                    device_id: e
                                })
                            });
                            if (!r.ok)
                                throw new Error(`Device challenge request failed: ${r.status} ${r.statusText}`);
                            const o = yield r.json();
                            return {
                                challenge: parseInt(o.data.challenge, 16)
                            }
                        } catch (e) {
                            return {
                                error: e
                            }
                        }
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.completeDeviceChallenge = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*(e, r) {
                        try {
                            const o = yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/device-login`, {
                                method: "POST",
                                body: JSON.stringify({
                                    device_id: e,
                                    challenge_response: r
                                })
                            });
                            if (!o.ok)
                                throw new Error(`Device challenge failed: ${o.status} ${o.statusText}`);
                            return {
                                token: (yield o.json()).data.AccessToken
                            }
                        } catch (e) {
                            return {
                                error: e
                            }
                        }
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.LSKey = `${e.config.TARGET_ENV}_sp_session`;
                const r = _kano_kbc_utils__WEBPACK_IMPORTED_MODULE_3__.mM.read(this.LSKey);
                this.BasicLSKey = `${e.config.TARGET_ENV}_sp_basic_session`;
                const o = _kano_kbc_utils__WEBPACK_IMPORTED_MODULE_3__.mM.read(this.BasicLSKey);
                this.state = {
                    session: r ? JSON.parse(r) : null,
                    basicSession: o ? JSON.parse(o) : null,
                    updatedEmail: null,
                    userLoggedOut: !1
                }
            }
            componentDidMount() {
                var e = this;
                return (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.Z)(function*() {
                    if (e.state.session) {
                        (yield e.refreshSession()).error && e.logout()
                    }
                })()
            }
            logout() {
                this.saveSession(null),
                this.saveBasicSession(null)
            }
            render() {
                const e = {
                    accountClient: _objectSpread(_objectSpread({}, {
                        resendRegistrationEmail: this.resendRegistrationEmail,
                        resetPassword: this.resetPassword,
                        confirmResetPassword: this.confirmResetPassword,
                        updatePassword: this.updatePassword,
                        updateEmail: this.updateEmail,
                        confirmedEmailUpdate: this.confirmedEmailUpdate,
                        confirmRegistration: this.confirmRegistration,
                        redirectToCreatePurchase: this.redirectToCreatePurchase,
                        redirectToCreateSubscription: this.redirectToCreateSubscription,
                        redirectToManageSubscription: this.redirectToManageSubscription,
                        getSession: this.getSession,
                        saveSession: this.saveSession,
                        refreshSession: this.refreshSession,
                        saveBasicSession: this.saveBasicSession,
                        isUserSubscribed: this.isUserSubscribed,
                        purchasedDonda2: this.purchasedDonda2,
                        purchasedStemPlayer: this.purchasedStemPlayer,
                        login: this.login,
                        signup: this.signup,
                        logout: this.logout,
                        requestDeviceChallenge: this.requestDeviceChallenge,
                        completeDeviceChallenge: this.completeDeviceChallenge,
                        setUserLoggedOut: this.setUserLoggedOut
                    }), this.state)
                };
                return react__WEBPACK_IMPORTED_MODULE_1__.createElement(AccountContext.Provider, {
                    value: e
                }, this.props.children)
            }
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        const __TEST__AccountProvider = AccountProvider
          , _default = (0,
        _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_2__.j)({
            module: "subscription"
        })(AccountProvider)
          , __WEBPACK_DEFAULT_EXPORT__ = _default;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(AccountContext, "AccountContext", "/home/vsts/work/1/s/src/contexts/account/account-context.tsx"),
            e.register(DONDA_2_ID, "DONDA_2_ID", "/home/vsts/work/1/s/src/contexts/account/account-context.tsx"),
            e.register(AccountProvider, "AccountProvider", "/home/vsts/work/1/s/src/contexts/account/account-context.tsx"),
            e.register(__TEST__AccountProvider, "__TEST__AccountProvider", "/home/vsts/work/1/s/src/contexts/account/account-context.tsx"),
            e.register(_default, "default", "/home/vsts/work/1/s/src/contexts/account/account-context.tsx"))
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    "5b59c92b90bc77179045": (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>d
        });
        var o = r("cc5a1791ca69c601dde3")
          , a = r("b02a35033e7f8e6fa1e0")
          , n = r("8af190b70a6bc55c6f1b")
          , s = r("727b34f8bf995459d503")
          , i = r("5ef9de3df8d92ea0e41c")
          , c = r.n(i);
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const l = e=>{
            const t = t=>{
                const {wrappedComponentRef: r} = t
                  , i = (0,
                a.Z)(t, ["wrappedComponentRef"]);
                return n.createElement(s.w0.Consumer, null, t=>n.createElement(e, (0,
                o.Z)({}, i, t, {
                    ref: r
                })))
            }
            ;
            return t.WrappedComponent = e,
            c()(t, e)
        }
          , _ = l
          , d = _;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(l, "withAccountClient", "/home/vsts/work/1/s/src/contexts/account/hoc.tsx"),
            e.register(_, "default", "/home/vsts/work/1/s/src/contexts/account/hoc.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    ad21e61587d47603cd1c: (e,t,r)=>{
        "use strict";
        r.d(t, {
            u: ()=>o.ZP,
            o: ()=>a.Z
        });
        var o = r("727b34f8bf995459d503")
          , a = r("5b59c92b90bc77179045");
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature
    }
    ,
    d33789936ad161eefce0: (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            VW: ()=>tempAlbumBadTrack,
            xU: ()=>MandatoryAlbums,
            OZ: ()=>AlbumRestoreContext,
            ZP: ()=>__WEBPACK_DEFAULT_EXPORT__
        });
        var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("990057777e9b2b7543e8"), _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("de098c4daf91477f9cbc"), react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("8af190b70a6bc55c6f1b"), _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("8a5d22dd0b24a6092d3e"), _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("5bed4c2c2c85e5553a5d"), _webusb__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("f60aef9fa88f4e9ce07a"), _stems__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("d92624744e8fb7e743e8"), _webusb_webusb_context__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("a7b043367627a4b04036"), _utils_misc__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("a60417c8351c73d4238a"), _utils_backOffRetry__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("557b135c7198835d5410"), _dec, _class, _temp;
        function ownKeys(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var o = Object.getOwnPropertySymbols(e);
                t && (o = o.filter(function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                })),
                r.push.apply(r, o)
            }
            return r
        }
        function _objectSpread(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = null != arguments[t] ? arguments[t] : {};
                t % 2 ? ownKeys(Object(r), !0).forEach(function(t) {
                    (0,
                    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e, t, r[t])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : ownKeys(Object(r)).forEach(function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                })
            }
            return e
        }
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const downloadProgressInterval = 2e4
          , downloadProgressPercent = 10
          , selectedUpdateRestoreCodec = "mp3"
          , tempAlbumBadTrack = "PENDING-TO-DELETE-ALBUM-OPS"
          , MandatoryAlbums = ["Donda", "Life of The Party"]
          , DEFAULT_ALBUMS_AVAILABLE = {
            "Donda 2": !1,
            "Donda (Deluxe)": !1,
            Donda: !1,
            "Life of The Party": !1,
            "Jesus Is King": !1,
            "Wash Us In The Blood": !1
        }
          , AlbumRestoreContext = react__WEBPACK_IMPORTED_MODULE_1__.createContext({})
          , emptyStems = {
            vocals: null,
            bass: null,
            drums: null,
            other: null
        };
        let AlbumRestoreProviderComp = (_dec = (0,
        _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_2__.j)({
            module: "album_restore_provider"
        }),
        _dec((_temp = class AlbumRestoreProviderComp extends react__WEBPACK_IMPORTED_MODULE_1__.PureComponent {
            constructor(e) {
                var t;
                super(e),
                t = this,
                this.restoreCancelled = void 0,
                this.apiUrl = void 0,
                this.checkForContentUpdates = (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*() {
                    const {webUSBClient: e} = t.props
                      , {latestAlbums: r} = t.state;
                    if (!r)
                        return;
                    const o = Object.values(r)
                      , a = Object.values(e.deviceAlbums);
                    return Promise.all(o.map(function() {
                        var e = (0,
                        _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*(e) {
                            const r = a.find(t=>(0,
                            _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.qP)(t.title, e.title));
                            yield t.checkForAlbumActions(r, e)
                        });
                        return function(t) {
                            return e.apply(this, arguments)
                        }
                    }()))
                }),
                this.resetState = (()=>{
                    this.setState({
                        albumsStatus: {},
                        restoringAlbum: !1,
                        trackRestore: null,
                        albumsStatusUpdated: null
                    })
                }
                ),
                this.resetErrorState = (()=>this.setState({
                    restoreError: !1
                })),
                this.fetchLatestAlbums = (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*() {
                    const {webUSBClient: {setCover: e}} = t.props;
                    try {
                        const r = yield(0,
                        _utils_backOffRetry__WEBPACK_IMPORTED_MODULE_8__.Z)((0,
                        _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*() {
                            return fetch(`${t.apiUrl}/albums`)
                        }), {
                            functionName: "fetchLatestAlbums"
                        })
                          , o = yield r.json()
                          , {data: a} = o;
                        let n = {};
                        Object.keys(a).forEach(r=>{
                            const o = t.mapAlbumTitles(r);
                            n[o] = a[r],
                            n[o].cover = e(o)
                        }
                        ),
                        t.setState({
                            latestAlbums: n
                        })
                    } catch (e) {}
                }),
                this.downloadStemsWithProgress = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*(e, r, o) {
                        const {stemsClient: {downloadStems: a}} = t.props;
                        t.setState({
                            trackRestore: {
                                id: e.id,
                                title: e.metadata.title,
                                progress: 0,
                                stage: "downloading"
                            }
                        });
                        const n = setInterval(()=>{
                            t.setState(t=>{
                                const r = t.trackRestore && t.trackRestore.progress ? t.trackRestore.progress : 0;
                                return {
                                    trackRestore: {
                                        id: e.id,
                                        title: e.metadata.title,
                                        progress: r < downloadProgressPercent / 100 ? r + .01 : .1,
                                        stage: "downloading"
                                    }
                                }
                            }
                            )
                        }
                        , downloadProgressInterval / downloadProgressPercent);
                        t.setState({
                            updateInterval: n
                        });
                        const s = yield a(r, o);
                        return clearInterval(n),
                        t.cancelInterval(),
                        t.setState({
                            trackRestore: {
                                id: e.id,
                                title: e.metadata.title,
                                progress: downloadProgressPercent / 100,
                                stage: "downloading"
                            }
                        }),
                        s
                    });
                    return function(t, r, o) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.mapAlbumTitles = (e=>{
                    switch (e) {
                    case "donda_2":
                        return "Donda 2";
                    case "donda_deluxe":
                        return "Donda (Deluxe)";
                    case "donda":
                        return "Donda";
                    case "life_of_the_party":
                        return "Life of The Party";
                    case "jesus_is_king":
                        return "Jesus Is King";
                    case "wash_us_in_the_blood":
                        return "Wash Us In The Blood";
                    default:
                        return null
                    }
                }
                ),
                this.componentWillUnmount = (()=>{
                    this.cancelInterval()
                }
                ),
                this.getLatestAlbumMetaVersion = ((e,t)=>{
                    const r = t.tracks.find(t=>t.id === e.global_id);
                    return r ? r.metadata.version : e.meta_version
                }
                ),
                this.checkForAlbumActions = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*(e, r) {
                        const o = r.tracks.map(e=>e.id)
                          , a = r.title
                          , n = MandatoryAlbums.includes(a)
                          , {webUSBClient: {setDeviceTransferActive: s, updateAlbumVersion: i}, stemsClient: {getLatestAlbumStemVersion: c}} = t.props;
                        if (!e)
                            return t.setState(e=>{
                                const {albumsStatus: t} = e;
                                return t[a] = {
                                    isMandatory: n,
                                    latestTrackIds: o,
                                    albumId: null,
                                    trackIds: [],
                                    moveOrAddTracks: !0,
                                    badMetaTracks: [],
                                    restoreAlbumAvailable: !0
                                },
                                {
                                    albumsStatus: t
                                }
                            }
                            ),
                            void t.setState(e=>{
                                const {albumsStatusUpdated: t} = e;
                                return {
                                    albumsStatusUpdated: t + 1
                                }
                            }
                            );
                        e.version || (s(!0),
                        yield i(e.id, "1"),
                        s(!1));
                        const {tracks: l} = e
                          , _ = l.filter(e=>e.stems_version !== c(e, r))
                          , d = l.filter(e=>e.meta_version !== t.getLatestAlbumMetaVersion(e, r)).filter(e=>!_.includes(e))
                          , u = e.tracks.length !== r.tracks.length
                          , f = e.tracks.map(e=>e.global_id)
                          , m = f.join("") !== o.join("")
                          , p = [];
                        e.tracks.forEach(e=>{
                            const t = r.tracks.find(t=>t.id === e.global_id);
                            if (!t)
                                return;
                            const o = e.colors.join("").toLowerCase() !== t.metadata.color.join("").toLowerCase()
                              , a = e.bpm !== t.metadata.tempos[0].tempo_bpm
                              , n = e.title !== t.metadata.title
                              , s = e.TrackGain_dB !== t.metadata.gain
                              , i = e.artist !== t.metadata.artists.join(", ");
                            return o || a || n || s || i ? p.push(e) : void 0
                        }
                        );
                        const h = u || m || p.length > 0
                          , b = p.length > 0 || r.version != e.version || _.length > 0 || d.length > 0;
                        t.setState(t=>{
                            const {albumsStatus: r} = t;
                            return r[a] = {
                                isMandatory: n,
                                trackIds: f,
                                latestTrackIds: o,
                                albumId: e.id,
                                moveOrAddTracks: u || m,
                                updateAlbumAvailable: b,
                                restoreAlbumAvailable: h,
                                metaUpdate: d,
                                stemsUpdate: _,
                                badMetaTracks: p
                            },
                            {
                                albumsStatus: r
                            }
                        }
                        ),
                        t.setState(e=>{
                            const {albumsStatusUpdated: t} = e;
                            return {
                                albumsStatusUpdated: t + 1
                            }
                        }
                        )
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getAlbumSize = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*(e) {
                        const {albumsStatus: r, latestAlbums: o} = t.state
                          , a = r[e];
                        return a.restoreAlbumAvailable && a.restoreAlbumAvailable && a.latestTrackIds ? a.latestTrackIds.filter((e,t)=>!a.trackIds.includes(e)).map(t=>o[e].tracks.find(e=>e.id === t)).filter(e=>void 0 !== e).reduce((e,t)=>{
                            return e + (t.metadata.stem_size[1] + t.metadata.stem_size[2] + t.metadata.stem_size[3] + t.metadata.stem_size[4])
                        }
                        , 0) : 0
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.cancelInterval = (()=>{
                    const {updateInterval: e} = this.state;
                    e && clearInterval(e)
                }
                ),
                this.cancelWaiting = (()=>{
                    const {cancelWaiting: e} = this.state;
                    e && e()
                }
                ),
                this.clearAlbumWithTracks = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*(e, r) {
                        const {webUSBClient: {deleteTrack: o, deleteAlbum: a, fetchDeviceAlbums: n}} = t.props
                          , s = yield n()
                          , i = (e=>{
                            let t, r = "", o = "";
                            for (r in s)
                                (t = s[r].title) === e && (o = r);
                            return o
                        }
                        )(e);
                        if ("" !== i)
                            if (s[i].tracks.length > 0) {
                                for (const e of s[i].tracks)
                                    if (yield o(i, e.id),
                                    r.aborted)
                                        throw new Error("Cancelled")
                            } else
                                yield a(e)
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.startAlbumRestoreAndUpdate = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*(e, r, o=!1, a) {
                        const {tracking: {trackEvent: n}, webUSBClient: {setDeviceTransferActive: s, fetchDeviceAlbums: i, addAlbum: c, moveAlbums: l, updateAlbumVersion: _, deviceInfo: d, deviceAlbums: u, deviceStorageUsed: f}} = t.props
                          , {albumsStatus: m, latestAlbums: p} = t.state
                          , h = m[e]
                          , b = p[e];
                        if (!h.restoreAlbumAvailable && !h.updateAlbumAvailable)
                            return;
                        n({
                            event: `user_started_album_${o ? "update" : "restore"}`,
                            data: {
                                album: e,
                                serialNumber: d.serialNumber
                            }
                        }),
                        s(!0),
                        t.setState({
                            restoringAlbum: !0,
                            restoreError: !1,
                            trackRestore: null
                        });
                        const v = new AbortController;
                        r && r(()=>{
                            n({
                                event: `user_cancelled_album_${o ? "update" : "restore"}`,
                                data: {
                                    album: e,
                                    serialNumber: d.serialNumber
                                }
                            }),
                            v.abort(),
                            t.restoreCancelled = !0,
                            t.cancelInterval(),
                            t.setState({
                                restoringAlbum: !1
                            }),
                            t.cancelWaiting()
                        }
                        );
                        try {
                            if (h.restoreAlbumAvailable && !h.albumId) {
                                yield c(e, b.artist);
                                const t = yield i()
                                  , r = Object.keys(t).sort().filter(e=>!(0,
                                _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.o7)(e, "RECORD")).map(e=>t[e])
                                  , o = r.findIndex(t=>(0,
                                _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.qP)(t.title, e));
                                (0,
                                _utils_misc__WEBPACK_IMPORTED_MODULE_7__.Rp)(r, o, 0);
                                const a = (0,
                                _webusb_webusb_context__WEBPACK_IMPORTED_MODULE_6__.ll)(r);
                                yield l(a)
                            }
                            if (t.restoreCancelled)
                                throw new Error("Cancelled");
                            if (h.moveOrAddTracks) {
                                if (yield t.clearAlbumWithTracks(tempAlbumBadTrack, v.signal),
                                yield t.moveMissingTracks(e, v.signal),
                                yield t.moveBadTracks(e, v.signal),
                                yield t.clearAlbumWithTracks(tempAlbumBadTrack, v.signal),
                                yield t.addMissingTracks(e, r, v.signal, a),
                                t.restoreCancelled)
                                    throw new Error("Cancelled");
                                yield t.restoreAlbumOrder(e, v.signal)
                            }
                            h.updateAlbumAvailable && h.stemsUpdate && h.stemsUpdate.length > 0 && (yield t.updateAlbumStems(e, r, v.signal, a));
                            let {metaUpdate: o} = h;
                            const n = function() {
                                var t = (0,
                                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*(t) {
                                    let r = yield i();
                                    if (void 0 !== r)
                                        for (let o = 0; o < t.length; o++) {
                                            const a = Object.keys(r).filter(t=>r[t].title === e)[0]
                                              , n = r[a].tracks.find(e=>t[o].global_id === e.global_id);
                                            t[o].id = n.id
                                        }
                                    return t
                                });
                                return function(e) {
                                    return t.apply(this, arguments)
                                }
                            }();
                            if (h.updateAlbumAvailable && o && o.length > 0)
                                for (o = yield n(o); o.length > 0; )
                                    yield t.metadataUpdate(e, o[0]),
                                    o.shift();
                            yield t.restoreMetadata(e);
                            let d = yield i();
                            const u = Object.values(d).find(t=>(0,
                            _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.qP)(t.title, e));
                            u && (yield _(u.id, b.version))
                        } catch (e) {
                            throw e.message.match(/cancelled/i) ? yield t.clearAlbumWithTracks(tempAlbumBadTrack, v.signal) : t.setState({
                                restoreError: !0
                            }),
                            e
                        } finally {
                            t.restoreCancelled = !1,
                            t.setState({
                                restoringAlbum: !1
                            }),
                            s(!1)
                        }
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.restoreMetadata = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*(e, r) {
                        const {albumsStatus: o} = t.state
                          , a = o[e]
                          , n = r ? r[0] : !(!a.restoreAlbumAvailable || !a.badMetaTracks) && a.badMetaTracks[0];
                        n && (yield t.metadataUpdate(e, n),
                        a.badMetaTracks.shift(),
                        yield t.restoreMetadata(e, a.badMetaTracks))
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.metadataUpdate = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*(e, r) {
                        const {albumsStatus: o} = t.state
                          , a = o[e]
                          , n = t.state.latestAlbums[e].tracks.find(e=>r.global_id === e.id)
                          , s = {
                            global_id: n.id,
                            artist: n.metadata.artists.join(", "),
                            title: n.metadata.title,
                            meta_version: n.metadata.version,
                            stems_version: n.stems_version,
                            colors: n.metadata.color,
                            temposConfig: n.metadata.tempos,
                            TrackGain_dB: n.metadata.gain
                        };
                        if (yield t.props.webUSBClient.editTrackMetadataSimple(a.albumId, r.id, s),
                        t.restoreCancelled)
                            throw new Error("Cancelled")
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.moveMissingTracks = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*(e, r) {
                        const {webUSBClient: {moveTracks: o, fetchDeviceAlbums: a, deviceAlbums: n}} = t.props
                          , {albumsStatus: s} = t.state
                          , i = s[e]
                          , c = Object.values(n).filter(e=>"RECORD" !== e.id && e.id !== i.albumId).map(e=>{
                            let t = {};
                            return t.id = e.id,
                            t.globalIds = e.tracks.map(e=>e.global_id),
                            t
                        }
                        );
                        let l;
                        const _ = i.restoreAlbumAvailable && i.latestTrackIds && i.latestTrackIds.find(e=>c.find(t=>{
                            const r = t.globalIds.includes(e);
                            return r && (l = t.id),
                            r
                        }
                        ));
                        if (_ && l) {
                            const n = l;
                            let s = Object.values(t.props.webUSBClient.deviceAlbums).find(t=>(0,
                            _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.qP)(t.title, e));
                            const i = s.id;
                            let c;
                            const d = t.props.webUSBClient.deviceAlbums[n].tracks.find(e=>{
                                const t = e.global_id === _;
                                return t && (c = e),
                                t
                            }
                            ).id
                              , u = `T${s.tracks.reduce((e,t)=>Math.max(parseInt(t.id.substr(1)), e), 0) + 2}`
                              , f = (0,
                            _webusb_webusb_context__WEBPACK_IMPORTED_MODULE_6__.Ye)(t.props.webUSBClient.deviceAlbums[n], t.props.webUSBClient.deviceAlbums[i], d, u);
                            if (t.setState({
                                trackRestore: {
                                    id: c.global_id,
                                    title: c.title,
                                    progress: 0,
                                    stage: "moving"
                                }
                            }),
                            yield o(f),
                            yield a(),
                            r.aborted)
                                throw new Error("Cancelled");
                            yield t.moveMissingTracks(e, r)
                        }
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.moveBadTracks = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*(e, r) {
                        const {webUSBClient: {addAlbum: o, moveTracks: a, fetchDeviceAlbums: n}} = t.props
                          , {albumsStatus: s} = t.state
                          , i = s[e];
                        let c = i.restoreAlbumAvailable && i.trackIds && i.trackIds.find((e,t)=>!i.latestTrackIds.includes(e));
                        if (void 0 === c) {
                            const e = e=>{
                                let t = e.slice().sort()
                                  , r = [];
                                for (let e = 0; e < t.length - 1; e++)
                                    t[e + 1] == t[e] && r.push(t[e]);
                                return r
                            }
                            ;
                            if (i.trackIds) {
                                const t = e(i.trackIds);
                                c = t.length > 0 ? t[0] : void 0
                            }
                        }
                        if (c) {
                            const s = tempAlbumBadTrack
                              , i = Object.values(t.props.webUSBClient.deviceAlbums).find(t=>(0,
                            _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.qP)(t.title, e)).id;
                            let l = Object.values(t.props.webUSBClient.deviceAlbums).find(e=>(0,
                            _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.qP)(e.title, s));
                            l || (yield o(s),
                            yield n(),
                            l = Object.values(t.props.webUSBClient.deviceAlbums).find(e=>(0,
                            _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.qP)(e.title, s)));
                            const _ = l.id
                              , d = (e,t)=>{
                                const r = `${e.global_id}_${e.stems_version}_${e.meta_version}`
                                  , o = `${t.global_id}_${t.stems_version}_${t.meta_version}`;
                                return r.localeCompare(o)
                            }
                              , u = t.props.webUSBClient.deviceAlbums[i].tracks.sort(d).find(e=>e.global_id === c).id
                              , f = `T${l.tracks.reduce((e,t)=>Math.max(parseInt(t.id.substr(1)), e), 0) + 2}`
                              , m = (0,
                            _webusb_webusb_context__WEBPACK_IMPORTED_MODULE_6__.Ye)(t.props.webUSBClient.deviceAlbums[i], t.props.webUSBClient.deviceAlbums[_], u, f);
                            if (yield a(m),
                            yield n(),
                            r.aborted)
                                throw new Error("Cancelled");
                            yield t.moveBadTracks(e, r)
                        } else
                            t.setState({
                                trackRestore: null
                            })
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.addMissingTracks = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*(e, r, o, a) {
                        const {webUSBClient: {addTrackSimple: n, fetchDeviceAlbums: s, setDeviceTransferActive: i, deviceInfo: c, deleteTrack: l, deviceAlbums: _}, stemsClient: {getLatestStems: d, hasSpaceForStems: u, getSizeOfStems: f}} = t.props
                          , {latestAlbums: m, albumsStatus: p} = t.state
                          , h = p[e];
                        let b = !1;
                        r && r(()=>{
                            b = !0
                        }
                        );
                        const v = h.restoreAlbumAvailable && h.latestTrackIds && h.latestTrackIds.reverse().find(e=>!h.trackIds.includes(e));
                        if (i(!0),
                        v) {
                            const i = m[e].tracks.find(e=>(0,
                            _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.O8)(e.id, v));
                            let c = "wav";
                            i.formats && i.formats.includes("mp3") && "mp3" === selectedUpdateRestoreCodec && (c = "mp3");
                            const p = yield d(v, i.version, c, i.subscription_required, o, !0);
                            if (o.aborted || b)
                                throw new Error("Cancelled");
                            const E = yield t.downloadStemsWithProgress(i, p.stems, o);
                            if (o.aborted || b)
                                throw new Error("Cancelled");
                            if (!(yield u(E, i.metadata.title))) {
                                const e = f(E);
                                yield t.waitUntilUserHasSpace(a, e)
                            }
                            const g = {
                                id: `T${h.latestTrackIds.reverse().indexOf(v) + 1}`,
                                global_id: i.id,
                                meta_version: i.metadata.version,
                                stems_version: i.stems_version,
                                album: e,
                                getMetadata: ()=>({
                                    artist: m[e].artist,
                                    trackConfig: {
                                        title: i.metadata.title,
                                        temposConfig: i.metadata.tempos,
                                        colors: i.metadata.color,
                                        TrackGain_dB: i.metadata.gain
                                    }
                                }),
                                vocals: {
                                    file: E.vocals,
                                    format: c
                                },
                                bass: {
                                    file: E.bass,
                                    format: c
                                },
                                drums: {
                                    file: E.drums,
                                    format: c
                                },
                                other: {
                                    file: E.other,
                                    format: c
                                }
                            }
                              , A = m[e].tracks.findIndex(e=>e.id === i.id)
                              , y = Object.keys(_).find(t=>_[t].title === e);
                            if (o.aborted || b)
                                throw new Error("Cancelled");
                            if (-1 !== A) {
                                const e = `T${A + 1}`;
                                try {
                                    yield l(y, e, o)
                                } catch (e) {
                                    if (e && "Cancelled" === e.message)
                                        throw e
                                }
                            }
                            if (o.aborted || b)
                                throw new Error("Cancelled");
                            if (yield n(g, e=>{
                                const r = e ? downloadProgressPercent / 100 + (100 - downloadProgressPercent) / 100 * e.total : 1;
                                t.setState({
                                    trackRestore: {
                                        id: i.id,
                                        title: i.metadata.title,
                                        progress: r,
                                        stage: "copying"
                                    }
                                })
                            }
                            , r),
                            yield s(),
                            o.aborted || b)
                                throw new Error("Cancelled");
                            yield t.addMissingTracks(e, r, o, a)
                        } else
                            t.setState({
                                trackRestore: null
                            })
                    });
                    return function(t, r, o, a) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.restoreAlbumOrder = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*(e, r) {
                        const {webUSBClient: {moveTracksSimple: o, fetchDeviceAlbums: a}} = t.props;
                        let n, s;
                        const {albumsStatus: i} = t.state
                          , c = i[e]
                          , l = yield a()
                          , _ = Object.keys(l).find(t=>l[t].title === e)
                          , d = l[_].tracks.map(e=>e.global_id);
                        if ((c.restoreAlbumAvailable && c.latestTrackIds ? c.latestTrackIds.find((e,t)=>{
                            const r = e !== d[t];
                            return r && (n = d.findIndex(t=>(0,
                            _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.O8)(t, e)),
                            s = t),
                            r
                        }
                        ) : null) && -1 !== n) {
                            t.setState({
                                restorationStatus: "reordering"
                            });
                            const a = Object.values(t.props.webUSBClient.deviceAlbums).find(t=>(0,
                            _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.qP)(t.title, e)).id
                              , i = t.props.webUSBClient.deviceAlbums[a]
                              , c = i
                              , l = i
                              , _ = i.tracks[n].id
                              , d = i.tracks.find(e=>(0,
                            _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.O8)(e.id, _))
                              , u = `T${l.tracks.reduce((e,t)=>Math.max(parseInt(t.id.substr(1)), e), 0) + 2}`
                              , f = Object.assign({}, _objectSpread(_objectSpread({}, d), {
                                id: u
                            }))
                              , m = Array.from(t.props.webUSBClient.deviceAlbums[a].tracks);
                            m.splice(n, 1),
                            m.splice(s, 0, f);
                            const p = _objectSpread(_objectSpread({}, c), {}, {
                                tracks: m
                            })
                              , h = (0,
                            _webusb_webusb_context__WEBPACK_IMPORTED_MODULE_6__.Ye)(p, p, _, u);
                            if (yield o(h),
                            r.aborted)
                                throw new Error("Cancelled");
                            yield t.restoreAlbumOrder(e, r)
                        }
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.waitUntilUserHasSpace = ((e,t)=>{
                    const {webUSBClient: {setDeviceTransferActive: r}} = this.props;
                    return r(!1),
                    new Promise((o,a)=>{
                        this.setState({
                            cancelWaiting: a
                        }),
                        e(t, ()=>{
                            r(!0),
                            o()
                        }
                        )
                    }
                    )
                }
                ),
                this.hasSpaceForFiles = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*(e, r) {
                        const {webUSBClient: {getRemainingSize: o}, tracking: {trackEvent: a}} = t.props
                          , n = (yield o()) > e;
                        return n || a({
                            event: "device_full_during_update_restore",
                            data: {
                                trackTitle: r
                            }
                        }),
                        n
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.updateAlbumStems = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*(e, r, o, a) {
                        const {webUSBClient: {addTrackSimple: n, fetchDeviceAlbums: s, setDeviceTransferActive: i, deleteTrack: c, deviceInfo: l}, stemsClient: {getLatestStems: _, hasSpaceForStems: d, getSizeOfStems: u}} = t.props
                          , {latestAlbums: f, albumsStatus: m} = t.state
                          , p = m[e]
                          , h = !!(p.stemsUpdate && p.stemsUpdate.length > 0) && p.stemsUpdate[0];
                        if (i(!0),
                        h) {
                            const l = Object.values(t.props.webUSBClient.deviceAlbums).find(t=>(0,
                            _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.qP)(t.title, e))
                              , m = l.tracks.find(e=>e.global_id === h.global_id).id;
                            yield c(l.id, m),
                            i(!0);
                            const p = f[e].tracks.find(e=>(0,
                            _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.O8)(e.id, h.global_id));
                            let b = "wav";
                            p.formats && p.formats.includes("mp3") && "mp3" === selectedUpdateRestoreCodec && (b = "mp3");
                            const v = yield _(h.global_id, p.version, b, p.subscription_required, o, !0);
                            if (o.aborted)
                                throw new Error("Cancelled");
                            const E = yield t.downloadStemsWithProgress(p, v, o);
                            if (o.aborted)
                                throw new Error("Cancelled");
                            if (!(yield d(E, p.metadata.title))) {
                                const e = u(E);
                                yield t.waitUntilUserHasSpace(a, e)
                            }
                            const g = {
                                id: m,
                                global_id: p.id,
                                meta_version: p.metadata.version,
                                stems_version: p.stems_version,
                                album: e,
                                getMetadata: ()=>({
                                    artist: f[e].artist,
                                    trackConfig: {
                                        title: p.metadata.title,
                                        temposConfig: p.metadata.tempos,
                                        colors: p.metadata.color,
                                        TrackGain_dB: p.metadata.gain
                                    }
                                }),
                                vocals: {
                                    file: E.vocals,
                                    format: b
                                },
                                bass: {
                                    file: E.bass,
                                    format: b
                                },
                                drums: {
                                    file: E.drums,
                                    format: b
                                },
                                other: {
                                    file: E.other,
                                    format: b
                                }
                            };
                            if (o.aborted)
                                throw new Error("Cancelled");
                            if (yield n(g, e=>{
                                const r = e ? downloadProgressPercent / 100 + (100 - downloadProgressPercent) / 100 * e.total : 1;
                                t.setState({
                                    trackRestore: {
                                        id: p.id,
                                        title: p.metadata.title,
                                        progress: r,
                                        stage: "refreshing"
                                    }
                                })
                            }
                            , r),
                            yield s(),
                            o.aborted)
                                throw new Error("Cancelled");
                            yield t.updateAlbumStems(e, r, o, a)
                        } else
                            t.setState({
                                trackRestore: null
                            })
                    });
                    return function(t, r, o, a) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.apiUrl = `${e.config.KB_STEMIFY_API_URL}/content`,
                this.state = {
                    albumsStatus: {},
                    restoringAlbum: !1,
                    restoreError: !1,
                    latestAlbums: {},
                    trackRestore: null,
                    updateInterval: null,
                    cancelWaiting: null,
                    albumsStatusUpdated: null
                }
            }
            componentDidUpdate(e, t) {
                var r = this;
                return (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.Z)(function*() {
                    const {webUSBClient: t} = r.props;
                    e.webUSBClient.deviceConnected === t.deviceConnected || t.deviceConnected || r.resetState(),
                    (e.webUSBClient.deviceAlbumsUpdated && e.webUSBClient.deviceAlbumsUpdated !== t.deviceAlbumsUpdated || !e.webUSBClient.deviceAlbumsUpdated && t.deviceAlbumsUpdated && r.state.latestAlbums) && (yield r.checkForContentUpdates()),
                    !e.webUSBClient.deviceConnected && t.deviceConnected && (yield r.fetchLatestAlbums())
                })()
            }
            render() {
                const e = {
                    albumRestoreClient: _objectSpread(_objectSpread({}, {
                        resetState: this.resetState,
                        fetchLatestAlbums: this.fetchLatestAlbums,
                        checkForContentUpdates: this.checkForContentUpdates,
                        mapAlbumTitles: this.mapAlbumTitles,
                        startAlbumRestoreAndUpdate: this.startAlbumRestoreAndUpdate,
                        getAlbumSize: this.getAlbumSize,
                        restoreMetadata: this.restoreMetadata,
                        moveBadTracks: this.moveBadTracks,
                        addMissingTracks: this.addMissingTracks,
                        restoreAlbumOrder: this.restoreAlbumOrder,
                        resetErrorState: this.resetErrorState
                    }), this.state)
                };
                return react__WEBPACK_IMPORTED_MODULE_1__.createElement(AlbumRestoreContext.Provider, {
                    value: e
                }, this.props.children)
            }
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        ,
        _class = _temp)) || _class);
        const __TEST_AlbumRestoreProvider = AlbumRestoreProviderComp
          , AlbumRestoreProvider = (0,
        _webusb__WEBPACK_IMPORTED_MODULE_4__.MM)((0,
        _stems__WEBPACK_IMPORTED_MODULE_5__.E9)(AlbumRestoreProviderComp))
          , _default = AlbumRestoreProvider
          , __WEBPACK_DEFAULT_EXPORT__ = _default;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(downloadProgressInterval, "downloadProgressInterval", "/home/vsts/work/1/s/src/contexts/album-restore/album-restore-context.tsx"),
            e.register(downloadProgressPercent, "downloadProgressPercent", "/home/vsts/work/1/s/src/contexts/album-restore/album-restore-context.tsx"),
            e.register(selectedUpdateRestoreCodec, "selectedUpdateRestoreCodec", "/home/vsts/work/1/s/src/contexts/album-restore/album-restore-context.tsx"),
            e.register(tempAlbumBadTrack, "tempAlbumBadTrack", "/home/vsts/work/1/s/src/contexts/album-restore/album-restore-context.tsx"),
            e.register(MandatoryAlbums, "MandatoryAlbums", "/home/vsts/work/1/s/src/contexts/album-restore/album-restore-context.tsx"),
            e.register(DEFAULT_ALBUMS_AVAILABLE, "DEFAULT_ALBUMS_AVAILABLE", "/home/vsts/work/1/s/src/contexts/album-restore/album-restore-context.tsx"),
            e.register(AlbumRestoreContext, "AlbumRestoreContext", "/home/vsts/work/1/s/src/contexts/album-restore/album-restore-context.tsx"),
            e.register(emptyStems, "emptyStems", "/home/vsts/work/1/s/src/contexts/album-restore/album-restore-context.tsx"),
            e.register(AlbumRestoreProviderComp, "AlbumRestoreProviderComp", "/home/vsts/work/1/s/src/contexts/album-restore/album-restore-context.tsx"),
            e.register(__TEST_AlbumRestoreProvider, "__TEST_AlbumRestoreProvider", "/home/vsts/work/1/s/src/contexts/album-restore/album-restore-context.tsx"),
            e.register(AlbumRestoreProvider, "AlbumRestoreProvider", "/home/vsts/work/1/s/src/contexts/album-restore/album-restore-context.tsx"),
            e.register(_default, "default", "/home/vsts/work/1/s/src/contexts/album-restore/album-restore-context.tsx"))
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    "9051b4e216287ce0ce77": (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>d
        });
        var o = r("cc5a1791ca69c601dde3")
          , a = r("b02a35033e7f8e6fa1e0")
          , n = r("8af190b70a6bc55c6f1b")
          , s = r("5ef9de3df8d92ea0e41c")
          , i = r.n(s)
          , c = r("d33789936ad161eefce0");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const l = e=>{
            const t = t=>{
                const {wrappedComponentRef: r} = t
                  , s = (0,
                a.Z)(t, ["wrappedComponentRef"]);
                return n.createElement(c.OZ.Consumer, null, t=>n.createElement(e, (0,
                o.Z)({}, s, t, {
                    ref: r
                })))
            }
            ;
            return t.WrappedComponent = e,
            i()(t, e)
        }
          , _ = l
          , d = _;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(l, "withAlbumRestoreClient", "/home/vsts/work/1/s/src/contexts/album-restore/hoc.tsx"),
            e.register(_, "default", "/home/vsts/work/1/s/src/contexts/album-restore/hoc.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "16c6bde65fb4831cea2e": (e,t,r)=>{
        "use strict";
        r.d(t, {
            _: ()=>o.ZP,
            C: ()=>a.Z
        });
        var o = r("d33789936ad161eefce0")
          , a = r("9051b4e216287ce0ce77");
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature
    }
    ,
    "6515cd559c65eab0c80c": (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            iJ: ()=>AudioEngineContext,
            QK: ()=>AudioEnginePlaybackState,
            wA: ()=>AudioEngineStemType,
            $_: ()=>QueueType,
            ZP: ()=>__WEBPACK_DEFAULT_EXPORT__
        });
        var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("990057777e9b2b7543e8")
          , _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("de098c4daf91477f9cbc")
          , react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("8af190b70a6bc55c6f1b")
          , _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("8a5d22dd0b24a6092d3e")
          , _repository__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("9f8992917dda43cfdc1d")
          , _utils_waveforms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("238af0e74d3daf256b28")
          , react_page_visibility__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("065f3a895d559954cd46")
          , react_page_visibility__WEBPACK_IMPORTED_MODULE_16___default = __webpack_require__.n(react_page_visibility__WEBPACK_IMPORTED_MODULE_16__)
          , _utils_feature_flags__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("c0326c9d650a633c92d0")
          , _utils_lerp__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("e2161c2bb2fb866f34ce")
          , _utils_colors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("c90b79b40c6328f03c9e")
          , _utils_setThemeColor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("b61b44d5123c4032e9da")
          , _assets_images_album_art_sp_logo_sp_logo_96_png__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("9eb170d7c5000dac8fd6")
          , _assets_images_album_art_sp_logo_sp_logo_128_png__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("a87a3620bcdc8bcede82")
          , _assets_images_album_art_sp_logo_sp_logo_192_png__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("76464ae046d8581913da")
          , _assets_images_album_art_sp_logo_sp_logo_256_png__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("0986e48731cd117d741e")
          , _assets_images_album_art_sp_logo_sp_logo_384_png__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("f79c0e8d8cc00d078e63")
          , _assets_images_album_art_sp_logo_sp_logo_512_png__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("b966f52c481692c934b9");
        function ownKeys(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var o = Object.getOwnPropertySymbols(e);
                t && (o = o.filter(function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                })),
                r.push.apply(r, o)
            }
            return r
        }
        function _objectSpread(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = null != arguments[t] ? arguments[t] : {};
                t % 2 ? ownKeys(Object(r), !0).forEach(function(t) {
                    (0,
                    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e, t, r[t])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : ownKeys(Object(r)).forEach(function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                })
            }
            return e
        }
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const MODULE = "audio_engine"
          , AudioEngineContext = react__WEBPACK_IMPORTED_MODULE_1__.createContext({});
        let AudioEnginePlaybackState, AudioEngineStemType, QueueType;
        !function(e) {
            e.Playing = "playing",
            e.Paused = "paused",
            e.Stopped = "stopped",
            e.Ended = "ended"
        }(AudioEnginePlaybackState || (AudioEnginePlaybackState = {})),
        function(e) {
            e.Vocals = "vocals",
            e.Other = "other",
            e.Bass = "bass",
            e.Drums = "drums"
        }(AudioEngineStemType || (AudioEngineStemType = {})),
        function(e) {
            e.Official = "official",
            e.User = "user"
        }(QueueType || (QueueType = {}));
        const AudioEngineEmptyState = {
            currentTrack: null,
            trackIsLoaded: !1,
            isLoading: !1,
            currentTrackMetadataUpdated: -1,
            playbackState: AudioEnginePlaybackState.Stopped,
            currentPosition: 0,
            isAllMuted: !1,
            vocalsMuted: !1,
            otherMuted: !1,
            drumsMuted: !1,
            bassMuted: !1,
            vocalsIsolated: !1,
            otherIsolated: !1,
            drumsIsolated: !1,
            bassIsolated: !1,
            isIsolating: !1
        };
        class AudioEngineProvider extends react__WEBPACK_IMPORTED_MODULE_1__.PureComponent {
            constructor(e) {
                var t;
                super(e),
                t = this,
                this.repository = void 0,
                this.audioContext = void 0,
                this.hasPlayed = !1,
                this.hasUserConsent = !1,
                this.previousPlaybackState = void 0,
                this.setupAutoplay = (()=>{
                    if (!0 === this.hasUserConsent)
                        return;
                    this.repository.setupSilentTrackForAutoPlay();
                    const e = ()=>{
                        this.repository.play(),
                        this.hasUserConsent = !0,
                        document.body.removeEventListener("click", e)
                    }
                    ;
                    document.body.addEventListener("click", e)
                }
                ),
                this.getHasPlayed = (()=>this.hasPlayed),
                this.getHasUserConsent = (()=>this.hasUserConsent),
                this.load = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*(e) {
                        t.stop(),
                        t.setState({
                            isLoading: !0,
                            trackIsLoaded: !1,
                            currentTrack: e
                        }),
                        t.repository.load(e, ()=>{
                            t.state.isLoading && (t.setState({
                                trackIsLoaded: !0,
                                isLoading: !1
                            }),
                            t.hasUserConsent && t.play())
                        }
                        , e=>t.onPlaybackEnded(e), e=>{}
                        )
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.unload = (()=>{
                    this.stop(),
                    this.repository.unload(),
                    this.setState(AudioEngineEmptyState)
                }
                ),
                this.play = (()=>{
                    this.setState({
                        playbackState: AudioEnginePlaybackState.Playing
                    }),
                    this.repository.play(),
                    this.hasPlayed = !0,
                    this.hasUserConsent = !0,
                    this.setupMediaControls(this.state.currentTrack)
                }
                ),
                this.pause = (()=>{
                    this.setState({
                        playbackState: AudioEnginePlaybackState.Paused
                    }),
                    this.repository.pause()
                }
                ),
                this.playPause = (()=>{
                    const {playbackState: e} = this.state;
                    switch (e) {
                    case AudioEnginePlaybackState.Playing:
                        this.pause();
                        break;
                    default:
                        this.play()
                    }
                }
                ),
                this.stop = (()=>{
                    this.state.playbackState !== AudioEnginePlaybackState.Stopped && (this.state.playbackState !== AudioEnginePlaybackState.Ended && this.setState({
                        playbackState: AudioEnginePlaybackState.Stopped
                    }),
                    this.setState({
                        currentPosition: 0
                    }),
                    this.clearMediacontrols(),
                    this.repository.stop(),
                    this.state.isIsolating && this.setIsolatedStems([]))
                }
                ),
                this.seekTo = (e=>{
                    this.setState({
                        currentPosition: e
                    }),
                    this.repository.seekTo(e)
                }
                ),
                this.seekToPercent = (e=>{
                    e *= this.getDuration(),
                    this.seekTo(e)
                }
                ),
                this.onPlaybackEnded = (e=>{
                    this.repository.getDurationForStem(e) === this.getDuration() && this.state.playbackState !== AudioEnginePlaybackState.Ended && this.setState({
                        playbackState: AudioEnginePlaybackState.Ended
                    })
                }
                ),
                this.toggleMute = (e=>{
                    const t = this.getMutedStateForStem(e);
                    switch (t ? this.repository.unmute(e) : this.repository.mute(e),
                    e) {
                    case AudioEngineStemType.Vocals:
                        this.setState({
                            vocalsMuted: !t
                        });
                        break;
                    case AudioEngineStemType.Other:
                        this.setState({
                            otherMuted: !t
                        });
                        break;
                    case AudioEngineStemType.Drums:
                        this.setState({
                            drumsMuted: !t
                        });
                        break;
                    case AudioEngineStemType.Bass:
                        this.setState({
                            bassMuted: !t
                        })
                    }
                }
                ),
                this.getMutedStateForStem = (e=>{
                    switch (e) {
                    case AudioEngineStemType.Vocals:
                        return this.state.vocalsMuted;
                    case AudioEngineStemType.Other:
                        return this.state.otherMuted;
                    case AudioEngineStemType.Drums:
                        return this.state.drumsMuted;
                    case AudioEngineStemType.Bass:
                        return this.state.bassMuted
                    }
                }
                ),
                this.shouldMute = (e=>{
                    const {isAllMuted: t, isIsolating: r} = this.state;
                    return t || r && !this.getIsolationForStem(e) || !r && this.getMutedStateForStem(e)
                }
                ),
                this.isolate = (e=>{
                    switch (this.state.isIsolating || this.startIsolating([e]),
                    e) {
                    case AudioEngineStemType.Vocals:
                        this.setState({
                            isIsolating: !0,
                            vocalsIsolated: !0
                        });
                        break;
                    case AudioEngineStemType.Other:
                        this.setState({
                            isIsolating: !0,
                            otherIsolated: !0
                        });
                        break;
                    case AudioEngineStemType.Drums:
                        this.setState({
                            isIsolating: !0,
                            drumsIsolated: !0
                        });
                        break;
                    case AudioEngineStemType.Bass:
                        this.setState({
                            isIsolating: !0,
                            bassIsolated: !0
                        })
                    }
                    this.repository.isolate(e)
                }
                ),
                this.setIsolatedStems = (e=>{
                    if (e.length > 0)
                        this.startIsolating(e),
                        e.forEach(e=>this.repository.isolate(e));
                    else {
                        this.getIsolatedStems().forEach(e=>this.stopIsolating(e))
                    }
                    this.setState({
                        isIsolating: e.length > 0,
                        vocalsIsolated: e.includes(AudioEngineStemType.Vocals),
                        otherIsolated: e.includes(AudioEngineStemType.Other),
                        drumsIsolated: e.includes(AudioEngineStemType.Drums),
                        bassIsolated: e.includes(AudioEngineStemType.Bass)
                    })
                }
                ),
                this.getIsolatedStems = (()=>{
                    const {bassIsolated: e, vocalsIsolated: t, drumsIsolated: r, otherIsolated: o} = this.state
                      , a = [];
                    return e && a.push(AudioEngineStemType.Bass),
                    t && a.push(AudioEngineStemType.Vocals),
                    r && a.push(AudioEngineStemType.Drums),
                    o && a.push(AudioEngineStemType.Other),
                    a
                }
                ),
                this.stopIsolating = (e=>{
                    switch (e) {
                    case AudioEngineStemType.Vocals:
                        this.setState({
                            vocalsIsolated: !1
                        });
                        break;
                    case AudioEngineStemType.Other:
                        this.setState({
                            otherIsolated: !1
                        });
                        break;
                    case AudioEngineStemType.Drums:
                        this.setState({
                            drumsIsolated: !1
                        });
                        break;
                    case AudioEngineStemType.Bass:
                        this.setState({
                            bassIsolated: !1
                        })
                    }
                    this.otherStemsAreIsolated(e) ? this.repository.mute(e) : (Object.values(AudioEngineStemType).forEach(t=>{
                        if (t !== e) {
                            this.getMutedStateForStem(t) ? this.repository.mute(t) : this.repository.unmute(t)
                        }
                    }
                    ),
                    this.setState({
                        isIsolating: !1
                    }))
                }
                ),
                this.getIsolationForStem = (e=>{
                    switch (e) {
                    case AudioEngineStemType.Vocals:
                        return this.state.vocalsIsolated;
                    case AudioEngineStemType.Other:
                        return this.state.otherIsolated;
                    case AudioEngineStemType.Drums:
                        return this.state.drumsIsolated;
                    case AudioEngineStemType.Bass:
                        return this.state.bassIsolated
                    }
                }
                ),
                this.previousTrack = (e=>{
                    this.load(e)
                }
                ),
                this.nextTrack = (e=>{
                    this.load(e)
                }
                ),
                this.addToQueue = (()=>{}
                ),
                this.createQueue = ((e,t)=>{
                    t === QueueType.Official ? this.setState({
                        officialQueue: e
                    }) : this.setState({
                        userQueue: e
                    })
                }
                ),
                this.setActiveQueue = (e=>{
                    this.setState({
                        activeQueue: e
                    })
                }
                ),
                this.getActiveQueue = (()=>{
                    const {activeQueue: e} = this.state;
                    return e ? e === QueueType.Official ? this.state.officialQueue : this.state.userQueue : []
                }
                ),
                this.removeFromQueue = (()=>{}
                ),
                this.setShouldHideMiniPlayer = (e=>{
                    this.setState({
                        shouldHideMiniPlayer: e
                    })
                }
                ),
                this.setIsNavigating = (e=>{
                    this.setState({
                        isNavigating: e
                    })
                }
                ),
                this.getWaveformPeaksForStem = ((e,t)=>{
                    const r = this.state.currentTrack;
                    if (null === r)
                        return [];
                    const o = r.stems[e].waveform;
                    return 0 === o.length ? [] : (0,
                    _utils_waveforms__WEBPACK_IMPORTED_MODULE_4__.f1)(o)
                }
                ),
                this.getAmplitudeForStem = (e=>[]),
                this.getEnergyAtCurrentTime = (()=>({
                    vocals: Math.random(),
                    other: Math.random(),
                    bass: Math.random(),
                    drums: Math.random()
                })),
                this.getCurrentTime = (()=>this.repository.getCurrentTime()),
                this.getCurrentTimeForStem = (e=>this.repository.getCurrentTimeForStem(e)),
                this.getDuration = (()=>{
                    const e = this.repository.getDuration();
                    return isNaN(e) ? 0 : e
                }
                ),
                this.getDurationForStem = (e=>{
                    const t = this.repository.getDurationForStem(e);
                    return isNaN(t) ? 0 : t
                }
                ),
                this.getCurrentPositionPercent = (()=>this.repository.getCurrentPositionPercent()),
                this.setupMediaControls = (e=>{
                    "mediaSession"in navigator && (navigator.mediaSession.metadata = new MediaMetadata({
                        title: e.title,
                        artist: e.artist,
                        album: e.album,
                        artwork: [{
                            src: _assets_images_album_art_sp_logo_sp_logo_96_png__WEBPACK_IMPORTED_MODULE_9__,
                            sizes: "96x96",
                            type: "image/png"
                        }, {
                            src: _assets_images_album_art_sp_logo_sp_logo_128_png__WEBPACK_IMPORTED_MODULE_10__,
                            sizes: "128x128",
                            type: "image/png"
                        }, {
                            src: _assets_images_album_art_sp_logo_sp_logo_192_png__WEBPACK_IMPORTED_MODULE_11__,
                            sizes: "192x192",
                            type: "image/png"
                        }, {
                            src: _assets_images_album_art_sp_logo_sp_logo_256_png__WEBPACK_IMPORTED_MODULE_12__,
                            sizes: "256x256",
                            type: "image/png"
                        }, {
                            src: _assets_images_album_art_sp_logo_sp_logo_384_png__WEBPACK_IMPORTED_MODULE_13__,
                            sizes: "384x384",
                            type: "image/png"
                        }, {
                            src: _assets_images_album_art_sp_logo_sp_logo_512_png__WEBPACK_IMPORTED_MODULE_14__,
                            sizes: "512x512",
                            type: "image/png"
                        }]
                    }),
                    navigator.mediaSession.setActionHandler("play", this.play),
                    navigator.mediaSession.setActionHandler("pause", this.pause),
                    navigator.mediaSession.setActionHandler("seekto", e=>{
                        this.seekTo(e.seekTime)
                    }
                    ))
                }
                ),
                this.isBackgrounded = !1,
                this.generateTrack = ((e,t,r)=>{
                    try {
                        let d = {};
                        var o, a, n, s, i, c, l, _;
                        if (d.id = e.global_id ? e.global_id : e.id,
                        e.metadata ? (d.title = e.metadata.title,
                        d.artist = e.metadata.artists ? e.metadata.artists.join(",") : e.metadata.artist,
                        e.metadata.colors ? d.colors = e.metadata.colors : e.metadata.color && (d.colors = e.metadata.color)) : (d.title = e.title,
                        d.artist = e.artists ? e.artists.join(",") : e.artist),
                        d.duration = -1,
                        d.albumCover = "",
                        t)
                            r && (d.waveformData = r),
                            d.stems = {
                                vocals: {
                                    file: t.stems.vocals.file,
                                    url: t.stems.vocals,
                                    waveform: [0, 0],
                                    version: 1
                                },
                                other: {
                                    file: t.stems.other.file,
                                    url: t.stems.other,
                                    waveform: [0, 0],
                                    version: 1
                                },
                                bass: {
                                    file: t.stems.bass.file,
                                    url: t.stems.bass,
                                    waveform: [0, 0],
                                    version: 1
                                },
                                drums: {
                                    file: t.stems.drums.file,
                                    url: t.stems.drums,
                                    waveform: [0, 0],
                                    version: 1
                                }
                            };
                        else if (e.waveformData && (0,
                        _utils_waveforms__WEBPACK_IMPORTED_MODULE_4__.Jb)(e.waveformData))
                            d.waveformData = e.waveformData,
                            d.stems = {
                                vocals: {
                                    file: e.stems.vocals.file,
                                    url: e.stems.vocals.url ? e.stems.vocals.url : e.stems.vocals,
                                    waveform: [0, 0],
                                    energy: [],
                                    version: 1
                                },
                                other: {
                                    file: e.stems.other.file,
                                    url: e.stems.other.url ? e.stems.other.url : e.stems.other,
                                    waveform: [0, 0],
                                    energy: [],
                                    version: 1
                                },
                                bass: {
                                    file: e.stems.bass.file,
                                    url: e.stems.bass.url ? e.stems.bass.url : e.stems.bass,
                                    waveform: [0, 0],
                                    energy: [],
                                    version: 1
                                },
                                drums: {
                                    file: e.stems.drums.file,
                                    url: e.stems.drums.url ? e.stems.drums.url : e.stems.drums,
                                    waveform: [0, 0],
                                    energy: [],
                                    version: 1
                                }
                            };
                        else
                            d.stems = {
                                vocals: {
                                    file: e.stems.vocals.file,
                                    url: e.stems.vocals.url ? e.stems.vocals.url : e.stems.vocals,
                                    waveform: null !== (o = e.metadata) && void 0 !== o && null !== (a = o.waveforms) && void 0 !== a && a.vocals ? e.metadata.waveforms.vocals : [0, 0],
                                    energy: [],
                                    version: 1
                                },
                                other: {
                                    file: e.stems.other.file,
                                    url: e.stems.other.url ? e.stems.other.url : e.stems.other,
                                    waveform: null !== (n = e.metadata) && void 0 !== n && null !== (s = n.waveforms) && void 0 !== s && s.other ? e.metadata.waveforms.other : [0, 0],
                                    energy: [],
                                    version: 1
                                },
                                bass: {
                                    file: e.stems.bass.file,
                                    url: e.stems.bass.url ? e.stems.bass.url : e.stems.bass,
                                    waveform: null !== (i = e.metadata) && void 0 !== i && null !== (c = i.waveforms) && void 0 !== c && c.bass ? e.metadata.waveforms.bass : [0, 0],
                                    energy: [],
                                    version: 1
                                },
                                drums: {
                                    file: e.stems.drums.file,
                                    url: e.stems.drums.url ? e.stems.drums.url : e.stems.drums,
                                    waveform: null !== (l = e.metadata) && void 0 !== l && null !== (_ = l.waveforms) && void 0 !== _ && _.drums ? e.metadata.waveforms.drums : [0, 0],
                                    energy: [],
                                    version: 1
                                }
                            };
                        return d
                    } catch (e) {
                        return console.log(e),
                        null
                    }
                }
                ),
                this.updateTrackMetaData = ((e,t,r,o,a,n)=>{
                    const s = this.state.userQueue
                      , {currentTrack: i} = this.state;
                    if (s) {
                        const c = s.findIndex(t=>{
                            return (t.id ? t.id : t.global_id) === e
                        }
                        );
                        let l = !1;
                        if (-1 !== c) {
                            const _ = s[c]
                              , d = i;
                            t !== _.metadata.title && (d && d.id === e ? d.title = t : _.metadata.title = t,
                            l = !0),
                            r !== _.metadata.artist && (d && d.id === e ? d.artist = r : _.metadata.artist = r,
                            l = !0),
                            o === _.metadata.colors[0] && a === _.metadata.colors[1] || "" === o || "" === a || (d && d.id === e ? d.colors = [o, a] : _.colors = [o, a],
                            l = !0),
                            l && n && (d && d.id === e && this.setState({
                                currentTrack: i
                            }),
                            this.setState({
                                currentTrackMetadataUpdated: this.state.currentTrackMetadataUpdated + 1
                            }))
                        }
                    }
                }
                ),
                this.getPreviousPlaybackState = (()=>this.previousPlaybackState),
                this.state = _objectSpread(_objectSpread({}, AudioEngineEmptyState), {}, {
                    officialQueue: [],
                    userQueue: []
                })
            }
            componentDidMount() {
                this.setup()
            }
            componentDidUpdate(e, t) {
                const {playbackState: r, currentTrack: o} = this.state;
                if (t.playbackState != r && (this.previousPlaybackState = t.playbackState),
                t.playbackState !== AudioEnginePlaybackState.Ended && r === AudioEnginePlaybackState.Ended && this.stop(),
                o && o !== t.currentTrack && _utils_feature_flags__WEBPACK_IMPORTED_MODULE_5__.V.hasFlag("background-shader-gradients")) {
                    const e = o.colors.map(e=>(0,
                    _utils_colors__WEBPACK_IMPORTED_MODULE_7__.oo)(e.substring(1)))
                      , t = e[0].map((t,r)=>Math.floor((0,
                    _utils_lerp__WEBPACK_IMPORTED_MODULE_6__.t)(t, e[1][r], .5)))
                      , r = (0,
                    _utils_colors__WEBPACK_IMPORTED_MODULE_7__.dk)(t, 1, .6)
                      , a = ((0,
                    _utils_colors__WEBPACK_IMPORTED_MODULE_7__.vq)(r[0], r[1], r[2]),
                    (0,
                    _utils_colors__WEBPACK_IMPORTED_MODULE_7__.Dk)([.7, .7, .7], e[1].map(e=>e / 255), .25).map(e=>Math.round(255 * e)))
                      , n = (0,
                    _utils_colors__WEBPACK_IMPORTED_MODULE_7__.vq)(a[0], a[1], a[2]);
                    (0,
                    _utils_setThemeColor__WEBPACK_IMPORTED_MODULE_8__.g)(n)
                }
            }
            setup() {
                this.setupRepository(),
                window.location.pathname.includes("/track/") || this.setupAutoplay(),
                this.setupAudioContext()
            }
            setupRepository() {
                this.repository = new _repository__WEBPACK_IMPORTED_MODULE_3__.is
            }
            setupAudioContext() {
                if (this.audioContext = new (window.AudioContext || window.webkitAudioContext),
                "suspended" === this.audioContext.state) {
                    const e = ()=>{
                        this.audioContext.resume(),
                        document.body.removeEventListener("click", e),
                        document.body.removeEventListener("touchstart", e),
                        document.body.removeEventListener("touchend", e)
                    }
                    ;
                    document.body.addEventListener("click", e),
                    document.body.addEventListener("touchstart", e),
                    document.body.addEventListener("touchend", e)
                }
            }
            resumeAudioContextIfNeeded() {
                "suspended" === this.audioContext.state && this.audioContext.resume()
            }
            muteAll() {
                Object.values(AudioEngineStemType).forEach(e=>{
                    this.getMutedStateForStem(e) || this.toggleMute(e)
                }
                )
            }
            unmuteAll() {
                Object.values(AudioEngineStemType).forEach(e=>{
                    this.getMutedStateForStem(e) && this.toggleMute(e)
                }
                )
            }
            isAllMuted() {
                const {vocalsMuted: e, otherMuted: t, drumsMuted: r, bassMuted: o} = this.state;
                return e && t && r && o
            }
            startIsolating(e) {
                Object.values(AudioEngineStemType).filter(t=>!e.includes(t)).forEach(e=>{
                    this.repository.mute(e)
                }
                )
            }
            otherStemsAreIsolated(e) {
                const t = Object.values(AudioEngineStemType).filter(t=>t != e);
                for (let e of t) {
                    if (this.getIsolationForStem(e))
                        return !0
                }
                return !1
            }
            clearMediacontrols() {
                "mediaSession"in navigator && (navigator.mediaSession.metadata = null)
            }
            onVisibilityChange(e) {
                this.isBackgrounded = !e,
                this.repository.isBackgrounded = this.isBackgrounded,
                e && this.resumeAudioContextIfNeeded(),
                this.repository.onBackgrounded(this.isBackgrounded)
            }
            render() {
                const e = {
                    audioEngine: _objectSpread(_objectSpread({}, {
                        load: this.load,
                        unload: this.unload,
                        play: this.play,
                        pause: this.pause,
                        playPause: this.playPause,
                        stop: this.stop,
                        muteAll: this.muteAll,
                        unmuteAll: this.unmuteAll,
                        toggleMute: this.toggleMute,
                        getMutedStateForStem: this.getMutedStateForStem,
                        shouldMute: this.shouldMute,
                        isolate: this.isolate,
                        setIsolatedStems: this.setIsolatedStems,
                        getIsolatedStems: this.getIsolatedStems,
                        stopIsolating: this.stopIsolating,
                        getIsolationForStem: this.getIsolationForStem,
                        setShouldHideMiniPlayer: this.setShouldHideMiniPlayer,
                        setIsNavigating: this.setIsNavigating,
                        seekTo: this.seekTo,
                        seekToPercent: this.seekToPercent,
                        previousTrack: this.previousTrack,
                        nextTrack: this.nextTrack,
                        createQueue: this.createQueue,
                        getActiveQueue: this.getActiveQueue,
                        setActiveQueue: this.setActiveQueue,
                        addToQueue: this.addToQueue,
                        removeFromQueue: this.removeFromQueue,
                        setupAutoplay: this.setupAutoplay,
                        getWaveformPeaksForStem: this.getWaveformPeaksForStem,
                        getAmplitudeForStem: this.getAmplitudeForStem,
                        getEnergyAtCurrentTime: this.getEnergyAtCurrentTime,
                        getCurrentTimeForStem: this.getCurrentTimeForStem,
                        getCurrentPositionPercent: this.getCurrentPositionPercent,
                        getCurrentTime: this.getCurrentTime,
                        getDuration: this.getDuration,
                        generateTrack: this.generateTrack,
                        getHasPlayed: this.getHasPlayed,
                        getHasUserConsent: this.getHasUserConsent,
                        updateTrackMetaData: this.updateTrackMetaData,
                        getPreviousPlaybackState: this.getPreviousPlaybackState
                    }), this.state)
                };
                return react__WEBPACK_IMPORTED_MODULE_1__.createElement(AudioEngineContext.Provider, {
                    value: e
                }, react__WEBPACK_IMPORTED_MODULE_1__.createElement(react_page_visibility__WEBPACK_IMPORTED_MODULE_16___default(), {
                    onChange: e=>this.onVisibilityChange(e)
                }), this.props.children)
            }
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        const __TEST__AudioEngineProvider = AudioEngineProvider
          , _default = (0,
        _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_2__.j)({
            module: MODULE
        })(AudioEngineProvider)
          , __WEBPACK_DEFAULT_EXPORT__ = _default;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(MODULE, "MODULE", "/home/vsts/work/1/s/src/contexts/audio-engine/audio-engine-context.tsx"),
            e.register(AudioEngineContext, "AudioEngineContext", "/home/vsts/work/1/s/src/contexts/audio-engine/audio-engine-context.tsx"),
            e.register(AudioEngineEmptyState, "AudioEngineEmptyState", "/home/vsts/work/1/s/src/contexts/audio-engine/audio-engine-context.tsx"),
            e.register(AudioEngineProvider, "AudioEngineProvider", "/home/vsts/work/1/s/src/contexts/audio-engine/audio-engine-context.tsx"),
            e.register(__TEST__AudioEngineProvider, "__TEST__AudioEngineProvider", "/home/vsts/work/1/s/src/contexts/audio-engine/audio-engine-context.tsx"),
            e.register(_default, "default", "/home/vsts/work/1/s/src/contexts/audio-engine/audio-engine-context.tsx"))
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    da2143d0c5dd27b4850b: (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>d
        });
        var o = r("cc5a1791ca69c601dde3")
          , a = r("b02a35033e7f8e6fa1e0")
          , n = r("8af190b70a6bc55c6f1b")
          , s = r("5ef9de3df8d92ea0e41c")
          , i = r.n(s)
          , c = r("6515cd559c65eab0c80c");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const l = e=>{
            const t = t=>{
                const {wrappedComponentRef: r} = t
                  , s = (0,
                a.Z)(t, ["wrappedComponentRef"]);
                return n.createElement(c.iJ.Consumer, null, t=>n.createElement(e, (0,
                o.Z)({}, s, t, {
                    ref: r
                })))
            }
            ;
            return t.WrappedComponent = e,
            i()(t, e)
        }
          , _ = l
          , d = _;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(l, "withAudioEngine", "/home/vsts/work/1/s/src/contexts/audio-engine/hoc.tsx"),
            e.register(_, "default", "/home/vsts/work/1/s/src/contexts/audio-engine/hoc.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "77d9647920c06e8befd6": (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>o.ZP,
            f: ()=>a.Z
        });
        var o = r("6515cd559c65eab0c80c")
          , a = r("da2143d0c5dd27b4850b");
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature
    }
    ,
    "29133bc41b1e7dcf829f": (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            i: ()=>AudioEngineRepositoryHTMLAudio
        });
        var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("de098c4daf91477f9cbc")
          , _components_TrackUploadForm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("371760fd96b575cf2118")
          , _utils_browser_detection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("5347e167343c470dbdfe")
          , _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("6515cd559c65eab0c80c");
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        class AudioEngineRepositoryHTMLAudio {
            constructor() {
                this.vocals = void 0,
                this.other = void 0,
                this.drums = void 0,
                this.bass = void 0,
                this.intervalId = void 0,
                this.syncCheck = {},
                this.syncPlayheadsTS = void 0,
                this.autosyncPlayheads = void 0,
                this.threshold = void 0,
                this.track = void 0,
                this.silentTrack = void 0,
                this.masterPlayhead = 0,
                this.masterStem = _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Vocals,
                this.isBackgrounded = !1,
                this.MIN_VOLUME = .001,
                this.MAX_VOLUME = 1,
                this.ENABLE_DEBUG = !1,
                this.onBackgrounded = (e=>{
                    if (e)
                        Object.values(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA).forEach(e=>{
                            const t = this.getAudioForStem(e);
                            (t.muted || t.volume == this.MIN_VOLUME) && t.play()
                        }
                        );
                    else {
                        4 === this.getMutedStems().length && this.syncPlayheads()
                    }
                }
                ),
                this.shouldSyncStem = (e=>{
                    const t = this.getAudioForStem(e);
                    if (t.muted && this.isBackgrounded)
                        return !1;
                    const r = Math.abs(t.currentTime - this.masterPlayhead) > this.threshold;
                    return this.ENABLE_DEBUG && console.log(`Checking sync status for stem ${e} - current: ${t.currentTime} - diff from master[${this.masterStem}]: ${t.currentTime - this.masterPlayhead}, should sync: ${r}`),
                    r
                }
                ),
                this.getMutedStems = (()=>{
                    const e = [];
                    return Object.values(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA).forEach(t=>{
                        this.isMuted(t) && e.push(t)
                    }
                    ),
                    e
                }
                ),
                this.releaseSourceForStem = (e=>{
                    const t = this.getAudioForStem(e)
                      , r = t.src;
                    t.src = "",
                    t.oncanplaythrough = null,
                    t.load(),
                    URL.revokeObjectURL(r)
                }
                ),
                this.getCurrentTime = (()=>{
                    let e = 0;
                    return Object.values(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA).forEach(t=>{
                        const r = this.getAudioForStem(t);
                        r && r.currentTime > e && (e = r.currentTime)
                    }
                    ),
                    e
                }
                ),
                this.getDuration = (()=>{
                    let e = 0;
                    return Object.values(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA).forEach(t=>{
                        const r = this.getAudioForStem(t);
                        r && (isNaN(r.duration) || r.duration > e && (e = r.duration))
                    }
                    ),
                    e
                }
                ),
                this.getDurationForStem = (e=>{
                    const t = this.getAudioForStem(e);
                    if (t && !isNaN(t.duration))
                        return t.duration
                }
                ),
                this.getCurrentPositionPercent = (()=>{
                    let e = {
                        type: null,
                        length: 0
                    };
                    Object.values(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA).forEach(t=>{
                        const r = this.getAudioForStem(t);
                        r && r.duration > e.length && (e.type = t,
                        e.length = r.duration)
                    }
                    );
                    const t = this.getAudioForStem(e.type);
                    if (t)
                        return t.currentTime / e.length
                }
                ),
                this.getCurrentTimeForStem = (e=>this.getAudioForStem(e).currentTime),
                this.vocals = new Audio,
                this.other = new Audio,
                this.drums = new Audio,
                this.bass = new Audio,
                this.setupSilentTrackForAutoPlay(),
                this.threshold = .1,
                this.autosyncPlayheads = !0
            }
            load(e, t, r, o) {
                this.loadAudioDirect(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Vocals, e.stems.vocals, t, r),
                this.loadAudioDirect(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Other, e.stems.other, t, r),
                this.loadAudioDirect(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Drums, e.stems.drums, t, r),
                this.loadAudioDirect(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Bass, e.stems.bass, t, r)
            }
            setupInternalInterval() {
                this.intervalId = setInterval(()=>{
                    void 0 !== this.vocals && void 0 !== this.other && void 0 !== this.bass && void 0 !== this.drums && (this.updateMasterPlayhead(),
                    this.ENABLE_DEBUG && console.log(`HTMLAudio master stem: ${this.masterStem}, playhead: ${this.masterPlayhead}`),
                    this.autosyncPlayheads && this.shouldSyncPlayheads() && (this.ENABLE_DEBUG && console.error("AudioEngine: need to sync stems"),
                    this.ENABLE_DEBUG && console.log(this.syncCheck),
                    this.syncPlayheads(!1)))
                }
                , 500)
            }
            updateMasterPlayhead() {
                return this.isMuted(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Vocals) ? this.isMuted(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Other) ? this.isMuted(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Drums) ? this.isMuted(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Bass) ? (this.masterPlayhead += .5,
                void (this.masterStem = null)) : (this.masterPlayhead = this.bass.currentTime,
                void (this.masterStem = _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Bass)) : (this.masterPlayhead = this.drums.currentTime,
                void (this.masterStem = _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Drums)) : (this.masterPlayhead = this.other.currentTime,
                void (this.masterStem = _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Other)) : (this.masterPlayhead = this.vocals.currentTime,
                void (this.masterStem = _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Vocals))
            }
            clearInternalInterval() {
                clearInterval(this.intervalId)
            }
            setupSilentTrackForAutoPlay() {
                (0,
                _components_TrackUploadForm__WEBPACK_IMPORTED_MODULE_0__.Rq)(!0).then(e=>{
                    this.silentTrack = URL.createObjectURL(e),
                    this.vocals.src = this.silentTrack,
                    this.other.src = this.silentTrack,
                    this.drums.src = this.silentTrack,
                    this.bass.src = this.silentTrack
                }
                )
            }
            syncPlayheads(e=!0) {
                this.ENABLE_DEBUG && console.log("syncPlayheads()");
                const t = new Date;
                if (void 0 === this.syncPlayheadsTS)
                    this.syncPlayheadsTS = t;
                else {
                    if (t.getTime() - this.syncPlayheadsTS.getTime() < 1e3 && !0 === e)
                        return void (this.ENABLE_DEBUG && console.log("it is too soon to syncPlayheads since last time i worked."));
                    this.syncPlayheadsTS = t
                }
                const r = this.masterPlayhead;
                if (e)
                    this.seekTo(r);
                else {
                    const e = Object.values(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA).filter(e=>this.shouldSyncStem(e));
                    this.ENABLE_DEBUG && console.log("Stems to Sync: ", e),
                    this.ENABLE_DEBUG && console.log("as master playhead: ", r),
                    e.forEach(e=>{
                        this.ENABLE_DEBUG && console.log(`${e} new time : ${this.getAudioForStem(e).currentTime}`),
                        this.getAudioForStem(e).currentTime = r + .05
                    }
                    )
                }
            }
            shouldSyncPlayheads() {
                return !(this.masterStem == _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Vocals || !this.shouldSyncStem(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Vocals)) || (!(this.masterStem == _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Other || !this.shouldSyncStem(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Other)) || (!(this.masterStem == _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Drums || !this.shouldSyncStem(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Drums)) || !(this.masterStem == _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Bass || !this.shouldSyncStem(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Bass))))
            }
            unload() {
                this.stop(),
                this.releaseSources()
            }
            releaseSources() {
                this.releaseSourceForStem(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Vocals),
                this.releaseSourceForStem(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Other),
                this.releaseSourceForStem(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Drums),
                this.releaseSourceForStem(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Bass)
            }
            play() {
                this.vocals.play(),
                this.other.play(),
                this.drums.play(),
                this.bass.play(),
                this.setupInternalInterval()
            }
            pause() {
                this.vocals.pause(),
                this.other.pause(),
                this.drums.pause(),
                this.bass.pause(),
                this.syncPlayheads(),
                this.clearInternalInterval()
            }
            stop() {
                this.pause(),
                this.masterPlayhead = 0
            }
            canUseVolume() {
                return !(0,
                _utils_browser_detection__WEBPACK_IMPORTED_MODULE_1__.gn)()
            }
            isMuted(e) {
                const t = this.getAudioForStem(e);
                return this.canUseVolume() ? t.volume === this.MIN_VOLUME : !0 === t.muted
            }
            mute(e) {
                const t = this.getAudioForStem(e);
                this.canUseVolume() ? t.volume = this.MIN_VOLUME : t.muted = !0
            }
            unmute(e) {
                const t = this.getAudioForStem(e);
                this.canUseVolume() ? t.volume = this.MAX_VOLUME : t.muted = !1
            }
            unmuteAll() {
                this.canUseVolume() ? (this.vocals.volume = this.MAX_VOLUME,
                this.other.volume = this.MAX_VOLUME,
                this.drums.volume = this.MAX_VOLUME,
                this.bass.volume = this.MAX_VOLUME) : (this.vocals.muted = !1,
                this.other.muted = !1,
                this.drums.muted = !1,
                this.bass.muted = !1)
            }
            isolate(e) {
                const t = this.getAudioForStem(e);
                this.canUseVolume() ? t.volume = this.MAX_VOLUME : t.muted = !1
            }
            seekTo(e) {
                this.masterPlayhead = e,
                Object.values(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA).forEach(t=>{
                    this.getAudioForStem(t).currentTime = e
                }
                )
            }
            loadAudioDirect(e, t, r, o) {
                var a = this;
                return (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.Z)(function*() {
                    const n = a.getAudioForStem(e);
                    let s = null;
                    if (n.src && (s = n.src),
                    t.file ? (n.src = URL.createObjectURL(t.file),
                    n.load(),
                    n.oncanplaythrough = (()=>{
                        a.areOtherStemsReady(e) && r()
                    }
                    )) : (n.src = t.url,
                    n.load(),
                    n.oncanplaythrough = (()=>{
                        a.areOtherStemsReady(e) && r()
                    }
                    )),
                    n.onended = (()=>o(e)),
                    s)
                        try {
                            URL.revokeObjectURL(s)
                        } catch (e) {
                            console.error(e)
                        }
                })()
            }
            areOtherStemsReady(e) {
                const t = Object.values(_audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA).filter(t=>t != e);
                for (let e of t) {
                    if (!(4 == this.getAudioForStem(e).readyState))
                        return !1
                }
                return !0
            }
            getAudioForStem(e) {
                switch (e) {
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Vocals:
                    return this.vocals;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Other:
                    return this.other;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Drums:
                    return this.drums;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Bass:
                    return this.bass
                }
            }
            enforceHiHatToneForDebug(e, t) {
                switch (e) {
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Vocals:
                    t.src = "/audio/hi-hat-2-1-cbr.mp3";
                    break;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Other:
                    t.src = "/audio/hi-hat-2-2-cbr.mp3";
                    break;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Drums:
                    t.src = "/audio/hi-hat-2-3-cbr.mp3";
                    break;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_2__.wA.Bass:
                    t.src = "/audio/hi-hat-2-4-cbr.mp3"
                }
            }
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && e.register(AudioEngineRepositoryHTMLAudio, "AudioEngineRepositoryHTMLAudio", "/home/vsts/work/1/s/src/contexts/audio-engine/repository/html-audio.ts")
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    "2ca539090f17e1b084e6": (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("de098c4daf91477f9cbc")
          , _audio_engine_context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("6515cd559c65eab0c80c")
          , _html_audio__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("29133bc41b1e7dcf829f");
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        class AudioEngineRepositoryHTMLMediaController extends _html_audio__WEBPACK_IMPORTED_MODULE_1__.i {
            constructor() {
                super(),
                this.controller = void 0,
                this.setupMediaController()
            }
            setupMediaController() {
                this.controller = new window.MediaController,
                Object.values(_audio_engine_context__WEBPACK_IMPORTED_MODULE_0__.wA).forEach(e=>{
                    this.getAudioForStem(e).controller = this.controller
                }
                )
            }
            load(e, t, r, o) {
                var a = this;
                return (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.Z)(function*() {
                    a.unload(),
                    a.unmuteAll(),
                    yield a.loadAudioDirect(_audio_engine_context__WEBPACK_IMPORTED_MODULE_0__.wA.Vocals, e.stems.vocals, t, r),
                    yield a.loadAudioDirect(_audio_engine_context__WEBPACK_IMPORTED_MODULE_0__.wA.Other, e.stems.other, t, r),
                    yield a.loadAudioDirect(_audio_engine_context__WEBPACK_IMPORTED_MODULE_0__.wA.Drums, e.stems.drums, t, r),
                    yield a.loadAudioDirect(_audio_engine_context__WEBPACK_IMPORTED_MODULE_0__.wA.Bass, e.stems.bass, t, r)
                })()
            }
            loadAudio(e, t, r, o) {
                var a = this;
                return (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.Z)(function*() {
                    const n = a.getAudioForStem(e)
                      , s = yield fetch(t.url);
                    if (!s.ok)
                        throw new Error(`Failed downloading track ${t.url} (${s.statusText})`);
                    const i = yield s.blob()
                      , c = new File([i],`${e}.mp3`,{
                        type: "audio/mp3"
                    });
                    var l = URL.createObjectURL(c);
                    n.src = l,
                    n.load(),
                    n.oncanplaythrough = (()=>{
                        a.areOtherStemsReady(e) && r()
                    }
                    ),
                    n.onended = (()=>o(e))
                })()
            }
            play() {
                this.controller.play(),
                this.setupInternalInterval()
            }
            pause() {
                this.controller.pause(),
                this.syncPlayheads(),
                this.clearInternalInterval()
            }
            stop() {
                this.controller.pause(),
                this.controller.currentTime = 0
            }
            isMuted(e) {
                return !0 === this.getAudioForStem(e).muted
            }
            mute(e) {
                this.getAudioForStem(e).muted = !0
            }
            unmute(e) {
                this.getAudioForStem(e).muted = !1
            }
            unmuteAll() {
                Object.values(_audio_engine_context__WEBPACK_IMPORTED_MODULE_0__.wA).forEach(e=>{
                    this.getAudioForStem(e).muted = !1
                }
                )
            }
            isolate(e) {
                this.getAudioForStem(e).muted = !1
            }
            seekTo(e) {
                this.controller.currentTime = e
            }
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && e.register(AudioEngineRepositoryHTMLMediaController, "AudioEngineRepositoryHTMLMediaController", "/home/vsts/work/1/s/src/contexts/audio-engine/repository/html-mediacontroller.ts")
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    "9f8992917dda43cfdc1d": (e,t,r)=>{
        "use strict";
        r.d(t, {
            is: ()=>o.i
        });
        r("1f0f3f47e7d0195f2f75");
        var o = r("29133bc41b1e7dcf829f");
        r("2ca539090f17e1b084e6"),
        r("29df392f3133c6496e02"),
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature
    }
    ,
    "1f0f3f47e7d0195f2f75": ()=>{
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature
    }
    ,
    "29df392f3133c6496e02": (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("de098c4daf91477f9cbc")
          , standardized_audio_context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("f9fd2a53d9d77b928861")
          , standardized_audio_context__WEBPACK_IMPORTED_MODULE_0___default = __webpack_require__.n(standardized_audio_context__WEBPACK_IMPORTED_MODULE_0__)
          , _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("6515cd559c65eab0c80c")
          , _utils_unmute__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("6792dda0bcc4906dd1ad");
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        class AudioEngineRepositoryWebAudio {
            constructor() {
                this.isBackgrounded = !1,
                this.audioContext = void 0,
                this.offlineContext = void 0,
                this.vocalsGain = void 0,
                this.otherGain = void 0,
                this.drumsGain = void 0,
                this.bassGain = void 0,
                this.vocalsSource = void 0,
                this.otherSource = void 0,
                this.drumsSource = void 0,
                this.bassSource = void 0,
                this.vocalsBuffer = void 0,
                this.otherBuffer = void 0,
                this.drumsBuffer = void 0,
                this.bassBuffer = void 0,
                this.vocalsLoaded = !1,
                this.drumsLoaded = !1,
                this.otherLoaded = !1,
                this.bassLoaded = !1,
                this.backgroundAudioHandler = void 0,
                this.onBackgrounded = (e=>{}
                ),
                this.getCurrentTimeForStem = (e=>0),
                this.audioContext = new standardized_audio_context__WEBPACK_IMPORTED_MODULE_0__.AudioContext,
                this.offlineContext = new standardized_audio_context__WEBPACK_IMPORTED_MODULE_0__.OfflineAudioContext({
                    length: 1,
                    numberOfChannels: 2,
                    sampleRate: 44100
                })
            }
            play() {
                Object.values(_audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA).forEach(e=>{
                    const t = this.getBuffer(e);
                    this.createSourceNode(e, t, ()=>{
                        this.getSource(e).start(0, 0)
                    }
                    )
                }
                ),
                this.resumeAudioContext()
            }
            pause() {
                Object.values(_audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA).forEach(e=>{
                    const t = this.getSource(e);
                    t && t.stop()
                }
                )
            }
            stop() {
                this.pause()
            }
            syncPlayheads() {}
            mute(e) {}
            unmute(e) {}
            unmuteAll() {}
            isolate(e) {}
            seekTo(e) {}
            getCurrentTime() {
                return 0
            }
            getDuration() {
                return 0
            }
            getDurationForStem(e) {
                return 0
            }
            getCurrentPositionPercent() {
                return 0
            }
            load(e, t) {
                this.unload();
                const r = (0,
                _utils_unmute__WEBPACK_IMPORTED_MODULE_2__.$)(this.audioContext, !0, !0);
                this.backgroundAudioHandler = r,
                this.loadAudio(_audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Vocals, e.stems.vocals, t),
                this.loadAudio(_audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Other, e.stems.other, t),
                this.loadAudio(_audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Drums, e.stems.drums, t),
                this.loadAudio(_audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Bass, e.stems.bass, t)
            }
            loadAudio(e, t, r) {
                var o = this;
                return (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.Z)(function*() {
                    const a = new XMLHttpRequest;
                    a.open("GET", encodeURI(t.url), !0),
                    a.setRequestHeader("Content-Type", "application/json"),
                    a.responseType = "blob",
                    a.onload = function() {
                        var t = (0,
                        _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.Z)(function*(t) {
                            var n = new Blob([a.response],{
                                type: "audio/aac"
                            });
                            const s = yield n.arrayBuffer();
                            o.loadBuffer(e, s, r)
                        });
                        return function(e) {
                            return t.apply(this, arguments)
                        }
                    }(),
                    a.send()
                })()
            }
            loadBuffer(e, t, r) {
                this.offlineContext.decodeAudioData(t, t=>{
                    switch (e) {
                    case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Vocals:
                        this.vocalsBuffer = t;
                        break;
                    case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Other:
                        this.otherBuffer = t;
                        break;
                    case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Drums:
                        this.drumsBuffer = t;
                        break;
                    case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Bass:
                        this.bassBuffer = t
                    }
                    this.createSourceNode(e, t, ()=>{
                        this.stemsAreReady && r()
                    }
                    )
                }
                )
            }
            getBuffer(e) {
                switch (e) {
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Vocals:
                    return this.vocalsBuffer;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Other:
                    return this.otherBuffer;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Drums:
                    return this.drumsBuffer;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Bass:
                    return this.bassBuffer
                }
            }
            onLoaded(e, t) {
                switch (e) {
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Vocals:
                    this.vocalsLoaded = !0;
                    break;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Other:
                    this.otherLoaded = !0;
                    break;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Drums:
                    this.drumsLoaded = !0;
                    break;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Bass:
                    this.bassLoaded = !0
                }
                t()
            }
            createSourceNode(e, t, r) {
                this.destroySourceNode(e);
                const o = this.audioContext.createBufferSource();
                switch (o.buffer = t,
                e) {
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Vocals:
                    this.vocalsSource = o;
                    break;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Other:
                    this.otherSource = o;
                    break;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Drums:
                    this.drumsSource = o;
                    break;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Bass:
                    this.bassSource = o
                }
                if (!(a = this.getGainNode(e)))
                    var a = this.createGainNode(e);
                o.connect(a),
                a.connect(this.audioContext.destination),
                this.onLoaded(e, r)
            }
            destroySourceNode(e) {
                const t = this.getSource(e);
                t && (delete t.buffer,
                t.disconnect(0))
            }
            getSource(e) {
                switch (e) {
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Vocals:
                    return this.vocalsSource;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Other:
                    return this.otherSource;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Drums:
                    return this.drumsSource;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Bass:
                    return this.bassSource
                }
            }
            createGainNode(e) {
                const t = this.audioContext.createGain();
                switch (e) {
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Vocals:
                    this.vocalsGain = t;
                    break;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Other:
                    this.otherGain = t;
                    break;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Drums:
                    this.drumsGain = t;
                    break;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Bass:
                    this.bassGain = t
                }
                return t
            }
            destroyGainNode(e) {
                const t = this.getGainNode(e);
                if (t)
                    switch (t.disconnect(),
                    e) {
                    case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Vocals:
                        this.vocalsGain = null;
                    case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Other:
                        this.otherGain = null;
                    case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Drums:
                        this.drumsGain = null;
                    case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Bass:
                        this.bassGain = null
                    }
            }
            getGainNode(e) {
                switch (e) {
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Vocals:
                    return this.vocalsGain;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Other:
                    return this.otherGain;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Drums:
                    return this.drumsGain;
                case _audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA.Bass:
                    return this.bassGain
                }
            }
            unload() {
                var e;
                this.pause(),
                this.disonnectAll(),
                this.clearBuffers(),
                this.resetLoaded(),
                null === (e = this.backgroundAudioHandler) || void 0 === e || e.dispose(),
                this.backgroundAudioHandler = null
            }
            resetLoaded() {
                this.vocalsLoaded = !1,
                this.otherLoaded = !1,
                this.drumsLoaded = !1,
                this.bassLoaded = !1
            }
            disonnectAll() {
                Object.values(_audio_engine_context__WEBPACK_IMPORTED_MODULE_1__.wA).forEach(e=>{
                    this.destroySourceNode(e),
                    this.destroyGainNode(e)
                }
                ),
                this.vocalsSource = null,
                this.otherSource = null,
                this.drumsSource = null,
                this.bassSource = null
            }
            clearBuffers() {
                this.vocalsBuffer = null,
                this.otherBuffer = null,
                this.drumsBuffer = null,
                this.bassBuffer = null
            }
            stemsAreReady() {
                return this.vocalsLoaded && this.otherLoaded && this.drumsLoaded && this.bassLoaded
            }
            resumeAudioContext() {
                "suspended" == this.audioContext.state && this.audioContext.resume()
            }
            setupSilentTrackForAutoPlay() {}
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && e.register(AudioEngineRepositoryWebAudio, "AudioEngineRepositoryWebAudio", "/home/vsts/work/1/s/src/contexts/audio-engine/repository/web-audio.ts")
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    "3f02c5877d4690b5563c": (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            HI: ()=>FirmwareUpdateContext,
            Ee: ()=>compareFirmwareVersions,
            Hm: ()=>firmwareIsOlderThan,
            ZP: ()=>__WEBPACK_DEFAULT_EXPORT__
        });
        var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("990057777e9b2b7543e8")
          , _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("de098c4daf91477f9cbc")
          , react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("8af190b70a6bc55c6f1b");
        function ownKeys(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var o = Object.getOwnPropertySymbols(e);
                t && (o = o.filter(function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                })),
                r.push.apply(r, o)
            }
            return r
        }
        function _objectSpread(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = null != arguments[t] ? arguments[t] : {};
                t % 2 ? ownKeys(Object(r), !0).forEach(function(t) {
                    (0,
                    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e, t, r[t])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : ownKeys(Object(r)).forEach(function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                })
            }
            return e
        }
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const FirmwareUpdateContext = react__WEBPACK_IMPORTED_MODULE_1__.createContext({});
        function compareFirmwareVersions(e, t) {
            const [r,o,a] = e.split(".").map(e=>parseInt(e, 10))
              , [n,s,i] = t.split(".").map(e=>parseInt(e, 10));
            return Number.isInteger(r) && Number.isInteger(o) && Number.isInteger(a) && !Number.isInteger(n) && Number.isInteger(s) && Number.isInteger(i) ? r === n ? o === s ? a === i ? 0 : a < i ? -1 : 1 : o < s ? -1 : 1 : r < n ? -1 : 1 : e < t ? -1 : e > t ? 1 : 0
        }
        function firmwareIsOlderThan(e, t) {
            return -1 === compareFirmwareVersions(e, t)
        }
        function firmwareIsNewerThan(e, t) {
            return 1 === compareFirmwareVersions(e, t)
        }
        class FirmwareUpdateProvider extends react__WEBPACK_IMPORTED_MODULE_1__.PureComponent {
            constructor(e) {
                var t;
                super(e),
                t = this,
                this.queryEndpoint = void 0,
                this.activeRequests = void 0,
                this.setHasUpdateStarted = (e=>{
                    this.setState({
                        hasUpdateStarted: e
                    })
                }
                ),
                this.getAvailableUpdates = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.Z)(function*(e) {
                        const r = yield fetch(t.queryEndpoint, {
                            headers: {
                                "Cache-Control": "max-age=0"
                            },
                            signal: e
                        });
                        if (r.ok) {
                            return yield r.json()
                        }
                        throw new Error(`Received ${r.status}: ${r.statusText}`)
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.hasPreferredUpdate = ((e,t)=>!!firmwareIsOlderThan(t.bootloaderVersion, "0.1.1010") || (!!firmwareIsOlderThan(t.bootloaderVersion, e.bootloader.preferredMinimumVersion) || (!(t.bluetoothVersion && !firmwareIsOlderThan(t.bluetoothVersion, e.bluetooth.preferredMinimumVersion)) || !!firmwareIsOlderThan(t.appVersion, e.firmware.preferredMinimumVersion)))),
                this.hasCrucialUpdate = ((e,t)=>null !== e && null !== t && (!!firmwareIsOlderThan(t.bootloaderVersion, "0.1.1010") || (!!firmwareIsOlderThan(t.bootloaderVersion, e.bootloader.minimumVersion) || (!(t.bluetoothVersion && !firmwareIsOlderThan(t.bluetoothVersion, e.bluetooth.minimumVersion)) || firmwareIsOlderThan(t.appVersion, e.firmware.minimumVersion))))),
                this.calculateUpdates = ((e,t)=>{
                    const r = [];
                    let o = !1;
                    if (null === e || null === t)
                        return r;
                    firmwareIsOlderThan(t.bootloaderVersion, "0.1.1010") ? (r.push({
                        filename: "samara.dfu",
                        url: e.bootloader.dfuUrl
                    }),
                    o = !0) : firmwareIsOlderThan(t.bootloaderVersion, e.bootloader.version) && (r.push({
                        filename: "1_blua.dfu",
                        url: e.bootloader.dfuUrl
                    }),
                    o = !0),
                    t.bluetoothVersion && !firmwareIsOlderThan(t.bluetoothVersion, e.bluetooth.version) || (r.push({
                        filename: "2_btua.dfu",
                        url: e.bluetooth.dfuUrl
                    }),
                    r.push({
                        filename: "rehex.hex",
                        url: e.bluetooth.hexUrl
                    }),
                    o = !0),
                    (o || firmwareIsOlderThan(t.appVersion, e.firmware.version)) && (r.push({
                        filename: "config.txt",
                        url: e.config.configUrl
                    }),
                    r.push({
                        filename: "3_stpl.dfu",
                        url: e.firmware.dfuUrl
                    }));
                    const a = r.find(e=>"rehex.hex" === e.filename);
                    return this.setState({
                        updateType: a ? "bluetooth" : "firmware"
                    }),
                    r
                }
                ),
                this.downloadUpdates = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.Z)(function*(e) {
                        const t = [];
                        for (let r of e) {
                            const e = yield fetch(r.url);
                            if (!e.ok)
                                throw new Error(`Received ${e.status}: ${e.statusText}`);
                            {
                                const o = yield e.blob();
                                t.push(new File([o],r.filename))
                            }
                        }
                        return t
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.queryEndpoint = this.props.config.KB_UPDATE_QUERY_ENDPOINT,
                this.state = {
                    updateType: null,
                    hasUpdateStarted: !1
                }
            }
            render() {
                const e = {
                    firmwareUpdateClient: _objectSpread(_objectSpread({}, {
                        getAvailableUpdates: this.getAvailableUpdates,
                        calculateUpdates: this.calculateUpdates,
                        hasCrucialUpdate: this.hasCrucialUpdate,
                        hasPreferredUpdate: this.hasPreferredUpdate,
                        downloadUpdates: this.downloadUpdates,
                        setHasUpdateStarted: this.setHasUpdateStarted
                    }), this.state)
                };
                return react__WEBPACK_IMPORTED_MODULE_1__.createElement(FirmwareUpdateContext.Provider, {
                    value: e
                }, this.props.children)
            }
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        const _default = FirmwareUpdateProvider
          , __WEBPACK_DEFAULT_EXPORT__ = _default;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(FirmwareUpdateContext, "FirmwareUpdateContext", "/home/vsts/work/1/s/src/contexts/firmware-update/firmware-update-context.tsx"),
            e.register(compareFirmwareVersions, "compareFirmwareVersions", "/home/vsts/work/1/s/src/contexts/firmware-update/firmware-update-context.tsx"),
            e.register(firmwareIsOlderThan, "firmwareIsOlderThan", "/home/vsts/work/1/s/src/contexts/firmware-update/firmware-update-context.tsx"),
            e.register(firmwareIsNewerThan, "firmwareIsNewerThan", "/home/vsts/work/1/s/src/contexts/firmware-update/firmware-update-context.tsx"),
            e.register(FirmwareUpdateProvider, "FirmwareUpdateProvider", "/home/vsts/work/1/s/src/contexts/firmware-update/firmware-update-context.tsx"),
            e.register(_default, "default", "/home/vsts/work/1/s/src/contexts/firmware-update/firmware-update-context.tsx"))
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    e1212da5b2e14234c7a1: (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>d
        });
        var o = r("cc5a1791ca69c601dde3")
          , a = r("b02a35033e7f8e6fa1e0")
          , n = r("8af190b70a6bc55c6f1b")
          , s = r("3f02c5877d4690b5563c")
          , i = r("5ef9de3df8d92ea0e41c")
          , c = r.n(i);
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const l = e=>{
            const t = t=>{
                const {wrappedComponentRef: r} = t
                  , i = (0,
                a.Z)(t, ["wrappedComponentRef"]);
                return n.createElement(s.HI.Consumer, null, t=>n.createElement(e, (0,
                o.Z)({}, i, t, {
                    ref: r
                })))
            }
            ;
            return t.WrappedComponent = e,
            c()(t, e)
        }
          , _ = l
          , d = _;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(l, "withFirmwareUpdateClient", "/home/vsts/work/1/s/src/contexts/firmware-update/hoc.tsx"),
            e.register(_, "default", "/home/vsts/work/1/s/src/contexts/firmware-update/hoc.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    c1bece57111e2d76e639: (e,t,r)=>{
        "use strict";
        r.d(t, {
            E: ()=>o.ZP,
            J: ()=>a.Z
        });
        var o = r("3f02c5877d4690b5563c")
          , a = r("e1212da5b2e14234c7a1");
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature
    }
    ,
    c84f0674dd266fe19a17: (e,t,r)=>{
        "use strict";
        var o = r("cc5a1791ca69c601dde3")
          , a = r("b02a35033e7f8e6fa1e0")
          , n = r("8af190b70a6bc55c6f1b")
          , s = r("8256549a766e1cb27712")
          , i = r("5ef9de3df8d92ea0e41c")
          , c = r.n(i);
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const l = e=>{
            const t = t=>{
                const {wrappedComponentRef: r} = t
                  , i = (0,
                a.Z)(t, ["wrappedComponentRef"]);
                return n.createElement(s.uj.Consumer, null, t=>n.createElement(e, (0,
                o.Z)({}, i, t, {
                    ref: r
                })))
            }
            ;
            return t.WrappedComponent = e,
            c()(t, e)
        }
          , _ = l;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(l, "withNotificationClient", "/home/vsts/work/1/s/src/contexts/notifications/hoc.tsx"),
            e.register(_, "default", "/home/vsts/work/1/s/src/contexts/notifications/hoc.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    ceede5265ca6ca2cb4b1: (e,t,r)=>{
        "use strict";
        r.d(t, {
            JB: ()=>o.ZP
        });
        var o = r("8256549a766e1cb27712");
        r("c84f0674dd266fe19a17"),
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature
    }
    ,
    "8256549a766e1cb27712": (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            uj: ()=>NotificationContext,
            ZP: ()=>__WEBPACK_DEFAULT_EXPORT__
        });
        var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("990057777e9b2b7543e8")
          , react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("8af190b70a6bc55c6f1b")
          , _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("8a5d22dd0b24a6092d3e");
        function ownKeys(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var o = Object.getOwnPropertySymbols(e);
                t && (o = o.filter(function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                })),
                r.push.apply(r, o)
            }
            return r
        }
        function _objectSpread(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = null != arguments[t] ? arguments[t] : {};
                t % 2 ? ownKeys(Object(r), !0).forEach(function(t) {
                    (0,
                    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e, t, r[t])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : ownKeys(Object(r)).forEach(function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                })
            }
            return e
        }
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const NotificationContext = react__WEBPACK_IMPORTED_MODULE_1__.createContext({});
        let NotificationType;
        !function(e) {
            e[e.OSUpdate = 0] = "OSUpdate",
            e[e.OSCrucialUpdate = 1] = "OSCrucialUpdate",
            e[e.MusicUpdate = 2] = "MusicUpdate"
        }(NotificationType || (NotificationType = {}));
        class NotificationProvider extends react__WEBPACK_IMPORTED_MODULE_1__.PureComponent {
            constructor(e) {
                super(e),
                this.getNotificationName = (e=>{
                    return {
                        [NotificationType.OSUpdate]: "OS Update",
                        [NotificationType.MusicUpdate]: "Music Update",
                        [NotificationType.OSCrucialUpdate]: "Crucial Update"
                    }[e]
                }
                ),
                this.resetNotifications = (()=>{
                    this.setState({
                        notifications: []
                    })
                }
                ),
                this.addNotification = ((e,t=(()=>{}
                ))=>{
                    const {notifications: r} = this.state;
                    if (r.find(t=>t.notification === e))
                        return;
                    const o = [...r, {
                        notification: e,
                        callback: t
                    }];
                    this.setState({
                        notifications: o
                    })
                }
                ),
                this.removeNotification = (e=>{
                    const {notifications: t} = this.state
                      , r = [...t]
                      , o = r.findIndex(t=>t.notification === e);
                    -1 !== o && (r.splice(o, 1),
                    this.setState({
                        notifications: r
                    }))
                }
                ),
                this.state = {
                    notifications: []
                }
            }
            render() {
                const e = {
                    notificationClient: _objectSpread(_objectSpread({}, {
                        addNotification: this.addNotification,
                        removeNotification: this.removeNotification,
                        getNotificationName: this.getNotificationName,
                        resetNotifications: this.resetNotifications
                    }), this.state)
                };
                return react__WEBPACK_IMPORTED_MODULE_1__.createElement(NotificationContext.Provider, {
                    value: e
                }, this.props.children)
            }
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        const _default = (0,
        _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_2__.j)({
            module: "notifications"
        })(NotificationProvider)
          , __WEBPACK_DEFAULT_EXPORT__ = _default;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(NotificationContext, "NotificationContext", "/home/vsts/work/1/s/src/contexts/notifications/notification-context.tsx"),
            e.register(NotificationProvider, "NotificationProvider", "/home/vsts/work/1/s/src/contexts/notifications/notification-context.tsx"),
            e.register(_default, "default", "/home/vsts/work/1/s/src/contexts/notifications/notification-context.tsx"))
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    "1368faf58685f2c8dc6c": (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>d
        });
        var o = r("cc5a1791ca69c601dde3")
          , a = r("b02a35033e7f8e6fa1e0")
          , n = r("8af190b70a6bc55c6f1b")
          , s = r("5ef9de3df8d92ea0e41c")
          , i = r.n(s)
          , c = r("8e3e448917f6413c5c1b");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const l = e=>{
            const t = t=>{
                const {wrappedComponentRef: r} = t
                  , s = (0,
                a.Z)(t, ["wrappedComponentRef"]);
                return n.createElement(c._.Consumer, null, t=>n.createElement(e, (0,
                o.Z)({}, s, t, {
                    ref: r
                })))
            }
            ;
            return t.WrappedComponent = e,
            i()(t, e)
        }
          , _ = l
          , d = _;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(l, "withRemixClient", "/home/vsts/work/1/s/src/contexts/remix/hoc.tsx"),
            e.register(_, "default", "/home/vsts/work/1/s/src/contexts/remix/hoc.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "04580fa4bddd672dfde3": (e,t,r)=>{
        "use strict";
        r.d(t, {
            V: ()=>o.Z,
            o: ()=>a.Z
        });
        var o = r("8e3e448917f6413c5c1b")
          , a = r("1368faf58685f2c8dc6c");
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature
    }
    ,
    "8e3e448917f6413c5c1b": (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            _: ()=>RemixContext,
            Z: ()=>__WEBPACK_DEFAULT_EXPORT__
        });
        var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("990057777e9b2b7543e8")
          , _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("de098c4daf91477f9cbc")
          , react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("8af190b70a6bc55c6f1b")
          , react_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("395ade0bdd7d87af2885")
          , _webusb__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("f60aef9fa88f4e9ce07a");
        function ownKeys(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var o = Object.getOwnPropertySymbols(e);
                t && (o = o.filter(function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                })),
                r.push.apply(r, o)
            }
            return r
        }
        function _objectSpread(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = null != arguments[t] ? arguments[t] : {};
                t % 2 ? ownKeys(Object(r), !0).forEach(function(t) {
                    (0,
                    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e, t, r[t])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : ownKeys(Object(r)).forEach(function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                })
            }
            return e
        }
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const RemixContext = react__WEBPACK_IMPORTED_MODULE_1__.createContext({});
        class RemixProvider extends react__WEBPACK_IMPORTED_MODULE_1__.PureComponent {
            constructor(e) {
                var t;
                super(e),
                t = this,
                this.apiUrl = void 0,
                this.platformUrl = void 0,
                this.setIsViewingSharedRemix = (e=>this.setState({
                    isViewingSharedRemix: e
                })),
                this.getRecordingById = (e=>this.state.recordings.find(t=>t.id === e)),
                this.setRecordings = (e=>{
                    this.state.recordings.some(t=>t.id === e.id) || this.setState({
                        recordings: [...this.state.recordings, e]
                    })
                }
                ),
                this.setRecordingToShare = (e=>{
                    this.setState({
                        recordingToShare: e
                    }, ()=>{
                        e ? this.props.history.push("/remix") : this.props.webUSBClient.deviceConnected ? this.props.history.push("/connect/stem/tracks") : this.props.history.push("/")
                    }
                    )
                }
                ),
                this.uploadRemixFile = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.Z)(function*(e, t, r, o) {
                        let a = new FormData;
                        Object.keys(t).forEach(e=>{
                            let r = t[e];
                            a.append(e, r)
                        }
                        ),
                        a.append("file", r);
                        const n = yield fetch(e, {
                            method: "POST",
                            body: a,
                            signal: o
                        });
                        if (n.ok)
                            return n;
                        throw new Error("Failed to upload file")
                    });
                    return function(t, r, o, a) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.createRemixUpload = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.Z)(function*(e) {
                        const r = yield fetch(`${t.apiUrl}/remixes`, {
                            method: "POST",
                            body: JSON.stringify({
                                title: e
                            })
                        });
                        return (yield r.json()).data
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.createRemixFromStem = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.Z)(function*(e, r, o) {
                        o && o("Uploading");
                        try {
                            const {upload: o, id: a, url: n} = yield t.createRemixUpload(e);
                            return yield t.uploadRemixFile(o.url, o.fields, r),
                            {
                                id: a,
                                title: e,
                                downloadUrl: n,
                                shareUrl: `${t.platformUrl}/remix/${a}`
                            }
                        } catch (e) {
                            throw e
                        }
                    });
                    return function(t, r, o) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getRemixById = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.Z)(function*(e) {
                        const r = yield fetch(`${t.apiUrl}/remixes/${e}`, {
                            method: "GET"
                        });
                        return (yield r.json()).data
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getRemix = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.Z)(function*(e) {
                        try {
                            const {id: r, url: o, title: a} = yield t.getRemixById(e);
                            return {
                                id: r,
                                title: a,
                                downloadUrl: o,
                                shareUrl: `${t.platformUrl}/remix/${r}`
                            }
                        } catch (e) {
                            throw e
                        }
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.downloadRemixStem = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.Z)(function*(e) {
                        yield fetch(e.downloadUrl).then(e=>e.blob()).then(t=>{
                            const r = URL.createObjectURL(t)
                              , o = document.createElement("a");
                            o.style.display = "none",
                            o.href = r,
                            o.download = `${e.title}.mp3`,
                            o.click(),
                            URL.revokeObjectURL(r)
                        }
                        )
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.resetRemixState = (()=>{
                    this.setState({
                        recordings: [],
                        recordingToShare: null
                    })
                }
                ),
                this.apiUrl = e.config.KB_STEMIFY_API_URL,
                this.platformUrl = e.config.KB_APP_URL,
                this.state = {
                    recordingToShare: null,
                    recordings: [],
                    isViewingSharedRemix: null
                }
            }
            render() {
                const e = {
                    remixClient: _objectSpread(_objectSpread({}, {
                        setRecordingToShare: this.setRecordingToShare,
                        createRemixFromStem: this.createRemixFromStem,
                        downloadRemixStem: this.downloadRemixStem,
                        getRemix: this.getRemix,
                        getRecordingById: this.getRecordingById,
                        setRecordings: this.setRecordings,
                        resetRemixState: this.resetRemixState,
                        setIsViewingSharedRemix: this.setIsViewingSharedRemix
                    }), this.state)
                };
                return react__WEBPACK_IMPORTED_MODULE_1__.createElement(RemixContext.Provider, {
                    value: e
                }, this.props.children)
            }
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        const _default = (0,
        react_router__WEBPACK_IMPORTED_MODULE_4__.withRouter)((0,
        _webusb__WEBPACK_IMPORTED_MODULE_2__.MM)(RemixProvider))
          , __WEBPACK_DEFAULT_EXPORT__ = _default;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(RemixContext, "RemixContext", "/home/vsts/work/1/s/src/contexts/remix/remix-context.tsx"),
            e.register(RemixProvider, "RemixProvider", "/home/vsts/work/1/s/src/contexts/remix/remix-context.tsx"),
            e.register(_default, "default", "/home/vsts/work/1/s/src/contexts/remix/remix-context.tsx"))
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    "7c5fda3b28a2cb9d3bf6": (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>d
        });
        var o = r("cc5a1791ca69c601dde3")
          , a = r("b02a35033e7f8e6fa1e0")
          , n = r("8af190b70a6bc55c6f1b")
          , s = r("5ef9de3df8d92ea0e41c")
          , i = r.n(s)
          , c = r("661f68c254b5c15c9d92");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const l = e=>{
            const t = t=>{
                const {wrappedComponentRef: r} = t
                  , s = (0,
                a.Z)(t, ["wrappedComponentRef"]);
                return n.createElement(c.ws.Consumer, null, t=>n.createElement(e, (0,
                o.Z)({}, s, t, {
                    ref: r
                })))
            }
            ;
            return t.WrappedComponent = e,
            i()(t, e)
        }
          , _ = l
          , d = _;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(l, "withStemsClient", "/home/vsts/work/1/s/src/contexts/stems/hoc.tsx"),
            e.register(_, "default", "/home/vsts/work/1/s/src/contexts/stems/hoc.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    d92624744e8fb7e743e8: (e,t,r)=>{
        "use strict";
        r.d(t, {
            nZ: ()=>o.ZP,
            E9: ()=>a.Z,
            o9: ()=>n.o
        });
        var o = r("661f68c254b5c15c9d92")
          , a = r("7c5fda3b28a2cb9d3bf6")
          , n = r("4e1fab892d8fe6fce890");
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature
    }
    ,
    "661f68c254b5c15c9d92": (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            ws: ()=>StemsContext,
            ZP: ()=>__WEBPACK_DEFAULT_EXPORT__
        });
        var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("990057777e9b2b7543e8"), _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("de098c4daf91477f9cbc"), react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("8af190b70a6bc55c6f1b"), _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("8a5d22dd0b24a6092d3e"), _webusb__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("f60aef9fa88f4e9ce07a"), _account__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("ad21e61587d47603cd1c"), _utils_backOffRetry__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("557b135c7198835d5410"), _utils_downloads__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("ae7c73bc2a0288473236"), _dec, _class, _temp;
        function ownKeys(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var o = Object.getOwnPropertySymbols(e);
                t && (o = o.filter(function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                })),
                r.push.apply(r, o)
            }
            return r
        }
        function _objectSpread(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = null != arguments[t] ? arguments[t] : {};
                t % 2 ? ownKeys(Object(r), !0).forEach(function(t) {
                    (0,
                    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e, t, r[t])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : ownKeys(Object(r)).forEach(function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                })
            }
            return e
        }
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const StemsContext = react__WEBPACK_IMPORTED_MODULE_1__.createContext({})
          , unixTimeAsJSDate = e=>new Date(1e3 * e);
        let StemsProvider = (_dec = (0,
        _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_2__.j)({
            module: "stems_provider"
        }),
        _dec((_temp = class StemsProvider extends react__WEBPACK_IMPORTED_MODULE_1__.PureComponent {
            constructor(e) {
                var t;
                super(e),
                t = this,
                this.apiUrl = void 0,
                this.cachedWaveform = void 0,
                this.cachedPresignedUrl = void 0,
                this.fetchAndDownloadLatestStems = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(function*(e, r, o, a, n) {
                        const s = yield t.getLatestStems(e, r, o, a, n, !0);
                        return t.downloadStems(s.stems, n)
                    });
                    return function(t, r, o, a, n) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getTrackMix = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(function*(e, r, o, a) {
                        const {webUSBClient: {deviceInfo: n, authenticateDevice: s}, accountClient: {session: i, basicSession: c}} = t.props;
                        try {
                            let l, _ = void 0;
                            if (i)
                                _ = {
                                    Authorization: `bearer ${i.AccessToken}`
                                };
                            else if (n) {
                                const e = yield s();
                                _ = {
                                    Authorization: `bearer ${e}`
                                }
                            } else
                                c && (_ = {
                                    Authorization: `Basic ${c.AuthToken}`
                                });
                            const d = yield(0,
                            _utils_backOffRetry__WEBPACK_IMPORTED_MODULE_5__.Z)((0,
                            _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(function*() {
                                return fetch(`${t.apiUrl}/tracks/${e}?version=${r}&codec=${o}`, {
                                    signal: a,
                                    headers: _
                                })
                            }), {
                                functionName: "getTrackMix"
                            });
                            l = yield d.json();
                            const {data: u} = l;
                            return u.file
                        } catch (t) {
                            throw console.log(t),
                            new Error(`Failed to get track ${e}`)
                        }
                    });
                    return function(t, r, o, a) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getTracksMixes = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(function*(e, r) {
                        const {webUSBClient: {deviceInfo: o, authenticateDevice: a}, accountClient: {session: n, basicSession: s}} = t.props;
                        try {
                            let i = void 0;
                            if (n)
                                i = {
                                    Authorization: `bearer ${n.AccessToken}`
                                };
                            else if (o) {
                                const e = yield a();
                                i = {
                                    Authorization: `bearer ${e}`
                                }
                            } else
                                s && (i = {
                                    Authorization: `Basic ${s.AuthToken}`
                                });
                            const c = yield(0,
                            _utils_backOffRetry__WEBPACK_IMPORTED_MODULE_5__.Z)((0,
                            _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(function*() {
                                return fetch(`${t.apiUrl}/tracks`, {
                                    method: "POST",
                                    signal: r,
                                    headers: i,
                                    body: JSON.stringify(e)
                                })
                            }), {
                                functionName: "getTracksMixes"
                            });
                            return (yield c.json()).data
                        } catch (e) {
                            throw console.log(e),
                            new Error("Failed to get tracks")
                        }
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getLatestStems = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(function*(e, r, o, a, n, s=!1) {
                        const {webUSBClient: {deviceInfo: i, authenticateDevice: c}} = t.props;
                        try {
                            const l = t.getCachedPresignedUrl(e, r, o);
                            if (null !== l && !1 === s)
                                return l.json.data;
                            const _ = `${t.apiUrl}/stems?track_id=${e}&version=${r}&codec=${o}${!0 === s ? "&profile=stemplayer" : "&profile=web"}`;
                            let d = void 0;
                            if (a || t.props.accountClient.session)
                                d = {
                                    Authorization: `bearer ${t.props.accountClient.session.AccessToken}`
                                };
                            else if (i) {
                                const e = yield c();
                                d = {
                                    Authorization: `bearer ${e}`
                                }
                            }
                            const u = yield(0,
                            _utils_backOffRetry__WEBPACK_IMPORTED_MODULE_5__.Z)((0,
                            _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(function*() {
                                return fetch(_, {
                                    headers: d,
                                    signal: n
                                })
                            }), {
                                functionName: "getLatestStems"
                            })
                              , f = yield u.json();
                            return !1 === s && t.updatePresignedUrl(e, r, o, f),
                            f.data
                        } catch (t) {
                            throw new Error(`Failed to get stem track ${e}`)
                        }
                    });
                    return function(t, r, o, a, n) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getMultipleTracksStems = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(function*(e, r, o) {
                        const {webUSBClient: {deviceInfo: a, authenticateDevice: n}, accountClient: {session: s, basicSession: i}} = t.props;
                        try {
                            const s = {};
                            for (let r in e) {
                                var c;
                                if (null === t.getCachedPresignedUrl(r, e[r].version, e[r].codec))
                                    s[r] = {
                                        version: e[r].version,
                                        codec: e[r].codec,
                                        profile: null !== (c = e[r].profile) && void 0 !== c ? c : "web"
                                    }
                            }
                            if (Object.keys(s).length > 0) {
                                let e = void 0;
                                if (r || t.props.accountClient.session)
                                    e = {
                                        Authorization: `bearer ${t.props.accountClient.session.AccessToken}`
                                    };
                                else if (a) {
                                    const t = yield n();
                                    e = {
                                        Authorization: `bearer ${t}`
                                    }
                                }
                                const i = yield(0,
                                _utils_backOffRetry__WEBPACK_IMPORTED_MODULE_5__.Z)((0,
                                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(function*() {
                                    return fetch(`${t.apiUrl}/stems`, {
                                        method: "POST",
                                        signal: o,
                                        headers: e,
                                        body: JSON.stringify(s)
                                    })
                                }), {
                                    functionName: "getMultipleTracksStems"
                                })
                                  , c = yield i.json();
                                for (let e in s)
                                    c.data[e] && t.updatePresignedUrl(e, s[e].version, s[e].codec, {
                                        data: c.data[e]
                                    })
                            }
                            const i = {};
                            for (let r in e) {
                                const o = t.getCachedPresignedUrl(r, e[r].version, e[r].codec);
                                null !== o && (i[r] = o.json.data)
                            }
                            return i
                        } catch (e) {
                            throw console.log(e),
                            new Error("Failed to get tracks")
                        }
                    });
                    return function(t, r, o) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getCachedPresignedUrlId = ((e,t,r)=>`${e}_${t}_${r}`),
                this.getCachedPresignedUrl = ((e,t,r)=>{
                    const o = this.getCachedPresignedUrlId(e, t, r)
                      , a = this.cachedPresignedUrl[o];
                    return a ? this.isPresignUrlExpired(a.expires) ? null : a : null
                }
                ),
                this.updatePresignedUrl = ((e,t,r,o)=>{
                    try {
                        const a = new URL(o.data.stems.vocals)
                          , n = new URLSearchParams(a.search).get("Expires")
                          , s = this.getCachedPresignedUrlId(e, t, r)
                          , i = {
                            expires: 1 * n,
                            trackId: e,
                            version: t,
                            codec: r,
                            json: o
                        };
                        this.cachedPresignedUrl[s] = i
                    } catch (e) {
                        console.error(e)
                    }
                }
                ),
                this.isPresignUrlExpired = (e=>{
                    return unixTimeAsJSDate(e) < new Date
                }
                ),
                this.getWaveformData = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(function*(e, r, o, a) {
                        const {webUSBClient: {deviceInfo: n, authenticateDevice: s}} = t.props;
                        try {
                            let i;
                            if (r && null !== (i = t.getCachedWaveform(r)))
                                return i;
                            const c = `${e}`;
                            let l = void 0;
                            if (o || t.props.accountClient.session)
                                l = {
                                    Authorization: `bearer ${t.props.accountClient.session.AccessToken}`
                                };
                            else if (n) {
                                const e = yield s();
                                l = {
                                    Authorization: `bearer ${e}`
                                }
                            }
                            const _ = yield(0,
                            _utils_backOffRetry__WEBPACK_IMPORTED_MODULE_5__.Z)((0,
                            _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(function*() {
                                return fetch(c, {
                                    headers: l,
                                    signal: a
                                })
                            }), {
                                functionName: "getWaveformData"
                            })
                              , d = yield _.json();
                            return r && t.updateCachedWaveform(r, e, d),
                            d
                        } catch (t) {
                            throw console.error(t),
                            new Error(`Failed to get waveform ${e}, ${t}`)
                        }
                    });
                    return function(t, r, o, a) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getMultipleWaveformData = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(function*(e, r) {
                        const {webUSBClient: {deviceInfo: o, authenticateDevice: a}} = t.props;
                        try {
                            let n = void 0;
                            if (e || t.props.accountClient.session)
                                n = {
                                    Authorization: `bearer ${t.props.accountClient.session.AccessToken}`
                                };
                            else if (o) {
                                const e = yield a();
                                n = {
                                    Authorization: `bearer ${e}`
                                }
                            }
                            const s = yield(0,
                            _utils_backOffRetry__WEBPACK_IMPORTED_MODULE_5__.Z)((0,
                            _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(function*() {
                                return fetch("", {
                                    headers: n,
                                    signal: r
                                })
                            }), {
                                functionName: "getMultipleWaveformData"
                            })
                              , i = yield s.json();
                            t.addDataIntoCache("stemplayer", "", JSON.stringify(i));
                            for (const e in i)
                                t.updateCachedWaveform(e, null, i[e]);
                            return i
                        } catch (e) {
                            throw new Error(`Failed to get waveform , ${e}`)
                        }
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.downloadStems = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(function*({vocals: e, bass: r, drums: o, other: a}, n) {
                        const {tracking: {trackEvent: s}} = t.props
                          , i = Date.now()
                          , c = yield Promise.all([(0,
                        _utils_downloads__WEBPACK_IMPORTED_MODULE_6__.S)(e, "vocals", n), (0,
                        _utils_downloads__WEBPACK_IMPORTED_MODULE_6__.S)(r, "bass", n), (0,
                        _utils_downloads__WEBPACK_IMPORTED_MODULE_6__.S)(o, "drums", n), (0,
                        _utils_downloads__WEBPACK_IMPORTED_MODULE_6__.S)(a, "other", n)])
                          , l = {
                            vocals: c[0],
                            bass: c[1],
                            drums: c[2],
                            other: c[3]
                        };
                        return s({
                            event: "download_stems_complete",
                            data: {
                                time: Date.now() - i
                            }
                        }),
                        l
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getLatestAlbumStemVersion = ((e,t)=>{
                    const r = t.tracks.find(t=>t.id === e.global_id);
                    return r ? r.stems_version : e.stems_version
                }
                ),
                this.getSizeOfStems = (e=>{
                    const {webUSBClient: {getDeviceFileSize: t}} = this.props;
                    return t(e.bass) + t(e.drums) + t(e.other) + t(e.vocals)
                }
                ),
                this.hasSpaceForStems = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.Z)(function*(e, r) {
                        const {webUSBClient: {getRemainingSize: o}, tracking: {trackEvent: a}} = t.props
                          , n = t.getSizeOfStems(e)
                          , s = (yield o()) > n;
                        return s || a({
                            event: "device_full_during_update_restore",
                            data: {
                                trackTitle: r
                            }
                        }),
                        s
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getCachedWaveform = (e=>e && void 0 !== this.cachedWaveform[e] ? this.cachedWaveform[e] : null),
                this.updateCachedWaveform = ((e,t,r)=>{
                    e && (this.cachedWaveform[e] = r,
                    null !== t && this.addDataIntoCache("stemplayer", t, JSON.stringify(r)))
                }
                ),
                this.addDataIntoCache = ((e,t,r)=>{
                    const o = new Response(r);
                    "caches"in window && caches.open(e).then(e=>e.put(t, o))
                }
                ),
                this.apiUrl = `${e.config.KB_STEMIFY_API_URL}/content`,
                this.cachedWaveform = {},
                this.cachedPresignedUrl = {}
            }
            render() {
                const e = {
                    stemsClient: _objectSpread(_objectSpread({}, {
                        fetchAndDownloadLatestStems: this.fetchAndDownloadLatestStems,
                        getLatestStems: this.getLatestStems,
                        getMultipleTracksStems: this.getMultipleTracksStems,
                        getWaveformData: this.getWaveformData,
                        downloadStems: this.downloadStems,
                        getLatestAlbumStemVersion: this.getLatestAlbumStemVersion,
                        getSizeOfStems: this.getSizeOfStems,
                        hasSpaceForStems: this.hasSpaceForStems,
                        getTrackMix: this.getTrackMix,
                        getTracksMixes: this.getTracksMixes
                    }), this.state)
                };
                return react__WEBPACK_IMPORTED_MODULE_1__.createElement(StemsContext.Provider, {
                    value: e
                }, this.props.children)
            }
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        ,
        _class = _temp)) || _class);
        const __TEST__StemsProvider = StemsProvider
          , _default = (0,
        _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_2__.j)({
            module: "stems_provider"
        })((0,
        _webusb__WEBPACK_IMPORTED_MODULE_3__.MM)((0,
        _account__WEBPACK_IMPORTED_MODULE_4__.o)(StemsProvider)))
          , __WEBPACK_DEFAULT_EXPORT__ = _default;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(StemsContext, "StemsContext", "/home/vsts/work/1/s/src/contexts/stems/stems-context.tsx"),
            e.register(unixTimeAsJSDate, "unixTimeAsJSDate", "/home/vsts/work/1/s/src/contexts/stems/stems-context.tsx"),
            e.register(StemsProvider, "StemsProvider", "/home/vsts/work/1/s/src/contexts/stems/stems-context.tsx"),
            e.register(__TEST__StemsProvider, "__TEST__StemsProvider", "/home/vsts/work/1/s/src/contexts/stems/stems-context.tsx"),
            e.register(_default, "default", "/home/vsts/work/1/s/src/contexts/stems/stems-context.tsx"))
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    "4e1fab892d8fe6fce890": (e,t,r)=>{
        "use strict";
        r.d(t, {
            o: ()=>a
        });
        var o = r("de098c4daf91477f9cbc");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const a = function() {
            var e = (0,
            o.Z)(function*(e, t, r, o) {
                const a = e.findIndex(e=>{
                    return (e.id ? e.id : e.global_id) === t
                }
                );
                r = r % 2 == 1 ? r + 1 : r;
                const n = a - Math.floor(r / 2)
                  , s = [...Array(r + 1).keys()].map(e=>e + n).map(t=>t < 0 ? e.length + t < 0 ? -1 : e.length + t : t > e.length - 1 ? -e.length + t > e.length - 1 ? -1 : -e.length + t : t === a ? -1 : t).filter((e,t,r)=>r.indexOf(e) == t)
                  , i = {} || {};
                s.forEach(t=>{
                    -1 !== t && (i[e[t].id] = {
                        version: e[t].version,
                        codec: "mp3"
                    })
                }
                ),
                o.getMultipleTracksStems(i)
            });
            return function(t, r, o, a) {
                return e.apply(this, arguments)
            }
        }();
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && e.register(a, "fetchPresignedUrl", "/home/vsts/work/1/s/src/contexts/stems/utils.ts")
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    cc568cf4493256150123: (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>d
        });
        var o = r("cc5a1791ca69c601dde3")
          , a = r("b02a35033e7f8e6fa1e0")
          , n = r("8af190b70a6bc55c6f1b")
          , s = r("9a38c66934fd9dbd5f9c")
          , i = r("5ef9de3df8d92ea0e41c")
          , c = r.n(i);
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const l = e=>{
            const t = t=>{
                const {wrappedComponentRef: r} = t
                  , i = (0,
                a.Z)(t, ["wrappedComponentRef"]);
                return n.createElement(s.Rg.Consumer, null, t=>n.createElement(e, (0,
                o.Z)({}, i, t, {
                    ref: r
                })))
            }
            ;
            return t.WrappedComponent = e,
            c()(t, e)
        }
          , _ = l
          , d = _;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(l, "withTrackApiClient", "/home/vsts/work/1/s/src/contexts/trackapi/hoc.tsx"),
            e.register(_, "default", "/home/vsts/work/1/s/src/contexts/trackapi/hoc.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "09e5b40f0abea70b7ff4": (e,t,r)=>{
        "use strict";
        r.d(t, {
            G: ()=>o.ZP,
            j: ()=>a.Z
        });
        var o = r("9a38c66934fd9dbd5f9c")
          , a = r("cc568cf4493256150123");
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature
    }
    ,
    "9a38c66934fd9dbd5f9c": (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            Rg: ()=>TrackApiContext,
            ZP: ()=>__WEBPACK_DEFAULT_EXPORT__
        });
        var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("990057777e9b2b7543e8")
          , _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("de098c4daf91477f9cbc")
          , react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("8af190b70a6bc55c6f1b")
          , _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("8a5d22dd0b24a6092d3e")
          , _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("5bed4c2c2c85e5553a5d")
          , _stems__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("d92624744e8fb7e743e8")
          , _utils_ids__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("a251fa0b0449b11ba1dd")
          , _utils_colors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("c90b79b40c6328f03c9e")
          , _utils_misc__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("a60417c8351c73d4238a")
          , _utils_downloads__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("ae7c73bc2a0288473236")
          , _utils_api_request_pagination__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("1cbf6a093bab4cc54764");
        function ownKeys(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var o = Object.getOwnPropertySymbols(e);
                t && (o = o.filter(function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                })),
                r.push.apply(r, o)
            }
            return r
        }
        function _objectSpread(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = null != arguments[t] ? arguments[t] : {};
                t % 2 ? ownKeys(Object(r), !0).forEach(function(t) {
                    (0,
                    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e, t, r[t])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : ownKeys(Object(r)).forEach(function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                })
            }
            return e
        }
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const TrackApiContext = react__WEBPACK_IMPORTED_MODULE_1__.createContext({});
        class TrackApiProvider extends react__WEBPACK_IMPORTED_MODULE_1__.PureComponent {
            constructor(e) {
                var t;
                super(e),
                t = this,
                this.apiUrl = void 0,
                this.platformUrl = void 0,
                this.activeRequests = void 0,
                this.getRecordingById = (e=>this.state.recordings.find(t=>t.id === e)),
                this.setRecordings = (e=>{
                    this.state.recordings.some(t=>t.id === e.id) || this.setState({
                        recordings: [...this.state.recordings, e]
                    })
                }
                ),
                this.setTracksLoading = (e=>{
                    this.setState({
                        tracksLoading: e
                    })
                }
                ),
                this.setUserLibraryTracksLoading = (e=>{
                    this.setState({
                        userLibraryTracksLoading: e
                    })
                }
                ),
                this.createAudioUpload = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*(e, r) {
                        const o = yield fetch(`${t.apiUrl}/audio-uploads`, {
                            method: "POST",
                            signal: e,
                            body: JSON.stringify(r)
                        });
                        return (yield o.json()).data
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.uploadFile = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*(e, t, r) {
                        if (200 !== (yield fetch(e, {
                            method: "PUT",
                            body: t,
                            headers: {
                                "Content-Type": ""
                            },
                            signal: r
                        })).status)
                            throw new Error("Failed to upload file")
                    });
                    return function(t, r, o) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.createTrack = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*(e, r, o) {
                        let a = {
                            method: "POST",
                            body: e.audio_file_ids ? JSON.stringify({
                                audio_file_ids: e.audio_file_ids,
                                fallback_track_title: e.fallback_track_title
                            }) : JSON.stringify(e),
                            signal: o
                        };
                        r && (a.headers = {
                            Authorization: `bearer ${r}`
                        });
                        const n = yield fetch(`${t.apiUrl}/track-creator/tracks`, a)
                          , s = yield n.json();
                        if (!n.ok) {
                            if (422 === n.status && s.error && ("invalid link" === s.error.message || "track download error" === s.error.message))
                                throw new Error("Invalid link");
                            if (422 === n.status && "video geo-restricted" === s.error.message)
                                throw new Error("Invalid link: video geo-restricted");
                            if (422 === n.status)
                                throw new Error("Track is too long");
                            try {
                                const e = yield n.json();
                                throw new Error(e.error.message)
                            } catch (e) {
                                throw new Error("Stemifying failed")
                            }
                        }
                        if (s.error)
                            throw new Error(s.error.message);
                        return s.data
                    });
                    return function(t, r, o) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getTracks = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*(e, r) {
                        try {
                            const o = [];
                            for (let r of e) {
                                null === t.getCachedPresignedUrl(r) && 0 === o.filter(e=>e === r).length && o.push(r)
                            }
                            const a = `${t.apiUrl}/track-creator/tracks?`
                              , n = (0,
                            _utils_api_request_pagination__WEBPACK_IMPORTED_MODULE_9__.T)(o, a, 4094)
                              , s = {}
                              , i = {};
                            yield Promise.all(n.map(function() {
                                var e = (0,
                                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*(e) {
                                    if (Object.keys(e.items).length > 0) {
                                        const o = yield fetch(e.url, {
                                            signal: r
                                        });
                                        if (!o.ok)
                                            throw new Error(`Unable to download track(s) (Status: ${o.status})`);
                                        const a = yield o.json();
                                        for (let r of e.items)
                                            a.data[r] && ("ready" === a.data[r].status || a.data[r].error && a.data[r].error && 400 === a.data[r].error.code ? t.updatePresignedUrl(r, a.data[r]) : i[r] = a.data[r])
                                    }
                                });
                                return function(t) {
                                    return e.apply(this, arguments)
                                }
                            }()));
                            for (let r of e) {
                                const e = t.getCachedPresignedUrl(r);
                                null !== e ? s[r] = e : i[r] && (s[r] = i[r])
                            }
                            return s
                        } catch (e) {
                            throw new Error(`Failed to get tracks: ${e}`)
                        }
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.cachedPresignedUrl = void 0,
                this.randomGeneratedTrackColors = void 0,
                this.getCachedPresignedUrlId = (e=>`${e}`),
                this.getCachedPresignedUrl = (e=>{
                    const t = this.getCachedPresignedUrlId(e)
                      , r = this.cachedPresignedUrl[t];
                    return r ? _objectSpread(_objectSpread({}, r), {}, {
                        metadata: _objectSpread({}, r.metadata)
                    }) : null
                }
                ),
                this.updatePresignedUrl = ((e,t)=>{
                    try {
                        const r = this.getCachedPresignedUrlId(e);
                        this.cachedPresignedUrl[r] = t
                    } catch (e) {
                        console.error(e)
                    }
                }
                ),
                this.getReadyTrack = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*(e, r, o) {
                        return new Promise((a,n)=>{
                            const s = ()=>{
                                setTimeout((0,
                                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*() {
                                    try {
                                        const i = (yield t.getTracks([e], o))[e];
                                        if ("ready" === i.status) {
                                            if (!r || t.trackHasHighQualityStems(i))
                                                return a(i);
                                            s()
                                        } else if ("failed" === i.status) {
                                            let e = "Failed to stemify";
                                            throw i.errors && i.errors.length > 0 && i.errors[0].message && (e = i.errors[0].message),
                                            new Error(e)
                                        }
                                        s()
                                    } catch (e) {
                                        return n(e)
                                    }
                                }), 1e3)
                            }
                            ;
                            s()
                        }
                        )
                    });
                    return function(t, r, o) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.createTrackFromMultiFiles = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*(e, r, o, a) {
                        const n = e[0].name.replace(/\.\w+$/i, "");
                        let s = ["vocals", "drums", "bass", "other"];
                        const i = new AbortController
                          , c = e.every(e=>e.name.match(/\.mp3$/i)) ? "mp3" : "wav"
                          , l = {};
                        let _ = {};
                        for (let o = 0; o < e.length; o++) {
                            const a = s[o]
                              , n = e[o];
                            r("Adding to Library");
                            try {
                                const {audio_file_id: e, upload_url: r} = yield t.createAudioUpload(i.signal);
                                yield t.uploadFile(r, n, i.signal),
                                l[a] = e
                            } catch (e) {
                                console.log("err", e)
                            }
                        }
                        try {
                            const e = yield t.createTrack({
                                stem_codec: c,
                                fallback_track_title: n,
                                audio_file_ids: l
                            }, o, i.signal)
                              , {id: r} = e
                              , {stems: s} = yield t.getReadyTrack(r, a, i.signal)
                              , d = t.state.userLibraryTrackIds.some(e=>e == r);
                            if (d)
                                throw new Error("Duplicate Track");
                            _ = {
                                id: r,
                                stems: s,
                                colors: [(0,
                                _utils_colors__WEBPACK_IMPORTED_MODULE_6__.lY)(), (0,
                                _utils_colors__WEBPACK_IMPORTED_MODULE_6__.lY)()]
                            },
                            !d && o && t.addTrackToUserLibrary([{
                                track_id: _.id,
                                color1: _.colors[0],
                                color2: _.colors[1]
                            }], o)
                        } catch (e) {
                            console.log("error", e)
                        }
                        const {stemsClient: {downloadStems: d}} = t.props;
                        return _objectSpread(_objectSpread({}, yield d(_.stems, i.signal)), {}, {
                            id: _.id,
                            album: "Other",
                            artist: "Other",
                            title: (0,
                            _utils_misc__WEBPACK_IMPORTED_MODULE_7__.BS)(n, _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.Kz),
                            bpm: 90,
                            colors: _.colors
                        })
                    });
                    return function(t, r, o, a) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.createTrackFromFile = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*(e, r, o, a, n, s) {
                        const {stemsClient: {downloadStems: i}} = t.props
                          , c = (0,
                        _utils_ids__WEBPACK_IMPORTED_MODULE_5__.T)();
                        t.startActiveRequest(c);
                        const l = new AbortController;
                        let _ = !1;
                        o && o(()=>{
                            l.abort(),
                            _ = !0
                        }
                        ),
                        r && r("Splitting");
                        try {
                            const {audio_file_id: o, upload_url: d} = yield t.createAudioUpload(l.signal);
                            yield t.uploadFile(d, e, l.signal);
                            const u = yield t.createTrack({
                                audio_file_id: o,
                                stem_codec: "mp3",
                                fallback_track_title: e.name
                            }, a, l.signal)
                              , {id: f} = u
                              , {metadata: {album: m, artist: p, duration: h, title: b, bpm: v}, stems: E} = yield t.getReadyTrack(f, n, l.signal);
                            if (_)
                                throw new Error("Cancelled");
                            const g = t.state.userLibraryTrackIds.some(e=>e == f);
                            if (!s && g)
                                throw new Error("Duplicate Track");
                            const A = {
                                track_id: f,
                                color1: (0,
                                _utils_colors__WEBPACK_IMPORTED_MODULE_6__.lY)(),
                                color2: (0,
                                _utils_colors__WEBPACK_IMPORTED_MODULE_6__.lY)()
                            };
                            !g && a && t.addTrackToUserLibrary([A], a),
                            r && r("Importing");
                            const y = yield i(E, l.signal);
                            return _objectSpread(_objectSpread({
                                id: A.track_id,
                                album: m,
                                artist: (0,
                                _utils_misc__WEBPACK_IMPORTED_MODULE_7__.BS)(p, _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.h1),
                                duration: h,
                                title: (0,
                                _utils_misc__WEBPACK_IMPORTED_MODULE_7__.BS)(b || e.name, _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.Kz),
                                bpm: v
                            }, y), {}, {
                                colors: [A.color1, A.color2]
                            })
                        } catch (e) {
                            if (e.name && "AbortError" === e.name)
                                throw new Error("Cancelled");
                            throw e
                        } finally {
                            t.endActiveRequest(c)
                        }
                    });
                    return function(t, r, o, a, n, s) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.setUserLibraryTrackIds = (e=>{
                    this.setState({
                        userLibraryTrackIds: e
                    })
                }
                ),
                this.createTrackFromLink = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*(e, r, o, a, n) {
                        const {stemsClient: {downloadStems: s}} = t.props
                          , i = (0,
                        _utils_ids__WEBPACK_IMPORTED_MODULE_5__.T)();
                        t.startActiveRequest(i);
                        const c = new AbortController;
                        let l = !1;
                        o && o(()=>{
                            c.abort(),
                            l = !0
                        }
                        ),
                        r && r("Splitting");
                        try {
                            const o = yield t.createTrack({
                                link: e,
                                stem_codec: "mp3"
                            }, a, c.signal);
                            let _ = null;
                            const {id: d} = o
                              , u = t.state.userLibraryTrackIds.some(e=>e == d);
                            if (u)
                                throw new Error("Duplicate Track");
                            "ready" !== o.status ? _ = yield t.getReadyTrack(d, n, c.signal) : (_ = o,
                            n && !t.trackHasHighQualityStems(_) && (_ = yield t.getReadyTrack(d, n, c.signal)));
                            const {metadata: {album: f, artist: m, duration: p, title: h, bpm: b}, stems: v} = _;
                            if (l)
                                throw new Error("Cancelled");
                            const E = {
                                track_id: d,
                                color1: (0,
                                _utils_colors__WEBPACK_IMPORTED_MODULE_6__.lY)(),
                                color2: (0,
                                _utils_colors__WEBPACK_IMPORTED_MODULE_6__.lY)()
                            };
                            !u && a && t.addTrackToUserLibrary([E], a),
                            r && r("Importing");
                            const g = yield s(v, c.signal);
                            return _objectSpread(_objectSpread({
                                id: E.track_id,
                                album: f,
                                artist: (0,
                                _utils_misc__WEBPACK_IMPORTED_MODULE_7__.BS)(m, _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.h1),
                                duration: p,
                                title: (0,
                                _utils_misc__WEBPACK_IMPORTED_MODULE_7__.BS)(h, _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.Kz),
                                bpm: b
                            }, g), {}, {
                                colors: [E.color1, E.color2],
                                metadata: _.metadata
                            })
                        } catch (e) {
                            if (e.name && "AbortError" === e.name)
                                throw new Error("Cancelled");
                            throw e
                        } finally {
                            t.endActiveRequest(i)
                        }
                    });
                    return function(t, r, o, a, n) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.addTrackToUserLibrary = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*(e, r) {
                        const o = {
                            trackList: []
                        };
                        for (const t of e)
                            o.trackList.push(t);
                        const a = {
                            error: null
                        };
                        try {
                            const e = yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/user-library`, {
                                method: "POST",
                                headers: {
                                    Authorization: `bearer ${r}`
                                },
                                body: JSON.stringify(o)
                            });
                            return e.ok ? (yield e.json(),
                            a) : (a.error = "Upload failed. Please try again later.",
                            a)
                        } catch (e) {
                            return a.error = "Upload failed. Please try again later.",
                            a
                        }
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.updateTrackToUserLibrary = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*(e, r) {
                        const o = {
                            trackList: e
                        }
                          , a = {
                            error: null
                        };
                        try {
                            const e = yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/user-library`, {
                                method: "POST",
                                headers: {
                                    Authorization: `bearer ${r}`
                                },
                                body: JSON.stringify(o)
                            });
                            return e.ok ? (yield e.json(),
                            a) : (a.error = "Upload failed. Please try again later.",
                            a)
                        } catch (e) {
                            return a.error = "Upload failed. Please try again later.",
                            a
                        }
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getUserAccountTracks = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*(e) {
                        const r = {
                            error: null
                        };
                        try {
                            const o = yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/user-library`, {
                                method: "GET",
                                headers: {
                                    Authorization: `bearer ${e}`
                                }
                            });
                            if (!o.ok)
                                return r.error = "Failed to fetch library.",
                                console.error(r),
                                [];
                            const a = (yield o.json()).data.filter(e=>["02", "03"].includes(e.track_id.slice(0, 2)))
                              , n = a.map(e=>e.track_id);
                            if (0 === n.length)
                                return [];
                            let s = !1
                              , i = [];
                            return a.map(e=>{
                                null !== e.color1 && null !== e.color2 || (void 0 === t.randomGeneratedTrackColors[e.track_id] && (t.randomGeneratedTrackColors[e.track_id] = [(0,
                                _utils_colors__WEBPACK_IMPORTED_MODULE_6__.lY)(), (0,
                                _utils_colors__WEBPACK_IMPORTED_MODULE_6__.lY)()]),
                                e.color1 = t.randomGeneratedTrackColors[e.track_id][0],
                                e.color2 = t.randomGeneratedTrackColors[e.track_id][1],
                                i.push({
                                    track_id: e.track_id,
                                    color1: e.color1,
                                    color2: e.color2
                                }),
                                s = !0)
                            }
                            ),
                            s && t.updateTrackToUserLibrary(i, e),
                            t.setState({
                                userLibraryTrackIds: n
                            }),
                            a
                        } catch (e) {
                            return r.error = "Failed to fetch library.",
                            console.error(r),
                            []
                        }
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.deleteUserAccountTracks = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*(e, r) {
                        const o = {
                            trackList: e
                        }
                          , a = {
                            error: null
                        };
                        try {
                            const e = yield fetch(`${t.props.config.KB_STEMIFY_API_URL}/accounts/user-library`, {
                                method: "DELETE",
                                headers: {
                                    Authorization: `bearer ${r}`
                                },
                                body: JSON.stringify(o)
                            });
                            return e.ok ? (yield e.json(),
                            a) : (a.error = "Delete failed. Please try again later.",
                            a)
                        } catch (e) {
                            return a.error = "Delete failed. Please try again later.",
                            a
                        }
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.createStem = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*(e) {
                        return fetch(`${t.apiUrl}/stems`, {
                            method: "POST",
                            body: JSON.stringify({
                                audio_file_id: e
                            })
                        }).then(e=>e.json()).then(e=>e.data).catch(e=>{
                            throw e
                        }
                        )
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getStem = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*(e) {
                        return fetch(`${t.apiUrl}/stems/${e}`, {}).then(e=>e.json()).then(e=>e.data).catch(e=>{
                            throw e
                        }
                        )
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getReadyStem = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*(e) {
                        return new Promise((r,o)=>{
                            const a = ()=>setTimeout((0,
                            _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*() {
                                try {
                                    const n = yield t.getStem(e);
                                    if (n.no_change || "ready" === n.status)
                                        return r(n);
                                    a()
                                } catch (e) {
                                    return o(e)
                                }
                            }), 1e3);
                            a()
                        }
                        )
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.createStemFromFile = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__.Z)(function*(e, r, o) {
                        const a = (0,
                        _utils_ids__WEBPACK_IMPORTED_MODULE_5__.T)();
                        t.startActiveRequest(a),
                        o && o("Mastering");
                        try {
                            const {audio_file_id: n, upload_url: s} = yield t.createAudioUpload();
                            yield t.uploadFile(s, e);
                            const i = yield t.createStem(n)
                              , {url: c, no_change: l} = yield t.getReadyStem(i.id);
                            if (o && o("Importing"),
                            l)
                                return t.endActiveRequest(a),
                                null;
                            const _ = yield(0,
                            _utils_downloads__WEBPACK_IMPORTED_MODULE_8__.S)(c, r);
                            return t.endActiveRequest(a),
                            _
                        } catch (e) {
                            throw e
                        }
                    });
                    return function(t, r, o) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.startActiveRequest = (e=>{
                    this.activeRequests.add(e),
                    this.state.trackApiActive || this.setState({
                        trackApiActive: !0
                    })
                }
                ),
                this.endActiveRequest = (e=>{
                    this.activeRequests.delete(e),
                    this.state.trackApiActive && 0 === this.activeRequests.size && this.setState({
                        trackApiActive: !1
                    })
                }
                ),
                this.trackHasHighQualityStems = (e=>{
                    var t;
                    return !(null === (t = e.stem_variants) || void 0 === t || !t.find(e=>"demucs" === e.splitting_source.toLowerCase()))
                }
                ),
                this.apiUrl = e.config.KB_STEMIFY_API_URL,
                this.platformUrl = e.config.KB_APP_URL,
                this.activeRequests = new Set,
                this.state = {
                    trackApiActive: !1,
                    recordings: [],
                    tracksLoading: !0,
                    userLibraryTracksLoading: !0,
                    userLibraryTrackIds: []
                },
                this.cachedPresignedUrl = {},
                this.randomGeneratedTrackColors = {}
            }
            render() {
                const e = {
                    trackApiClient: _objectSpread(_objectSpread({}, {
                        createStemFromFile: this.createStemFromFile,
                        createTrackFromFile: this.createTrackFromFile,
                        createTrackFromMultiFiles: this.createTrackFromMultiFiles,
                        createTrackFromLink: this.createTrackFromLink,
                        getTracks: this.getTracks,
                        setTracksLoading: this.setTracksLoading,
                        setUserLibraryTracksLoading: this.setUserLibraryTracksLoading,
                        getUserAccountTracks: this.getUserAccountTracks,
                        deleteUserAccountTracks: this.deleteUserAccountTracks,
                        setUserLibraryTrackIds: this.setUserLibraryTrackIds,
                        updateTrackToUserLibrary: this.updateTrackToUserLibrary
                    }), this.state)
                };
                return react__WEBPACK_IMPORTED_MODULE_1__.createElement(TrackApiContext.Provider, {
                    value: e
                }, this.props.children)
            }
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        const __TEST__TrackApiProvider = TrackApiProvider
          , _default = (0,
        _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_2__.j)({
            module: "track_api"
        })((0,
        _stems__WEBPACK_IMPORTED_MODULE_4__.E9)(TrackApiProvider))
          , __WEBPACK_DEFAULT_EXPORT__ = _default;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(TrackApiContext, "TrackApiContext", "/home/vsts/work/1/s/src/contexts/trackapi/track-api-context.tsx"),
            e.register(TrackApiProvider, "TrackApiProvider", "/home/vsts/work/1/s/src/contexts/trackapi/track-api-context.tsx"),
            e.register(__TEST__TrackApiProvider, "__TEST__TrackApiProvider", "/home/vsts/work/1/s/src/contexts/trackapi/track-api-context.tsx"),
            e.register(_default, "default", "/home/vsts/work/1/s/src/contexts/trackapi/track-api-context.tsx"))
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    "62c5c68fae4c59b9a093": (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>d
        });
        var o = r("cc5a1791ca69c601dde3")
          , a = r("b02a35033e7f8e6fa1e0")
          , n = r("8af190b70a6bc55c6f1b")
          , s = r("5ef9de3df8d92ea0e41c")
          , i = r.n(s)
          , c = r("c8274a236c515829d380");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const l = e=>{
            const t = t=>{
                const {wrappedComponentRef: r} = t
                  , s = (0,
                a.Z)(t, ["wrappedComponentRef"]);
                return n.createElement(c.w.Consumer, null, t=>n.createElement(e, (0,
                o.Z)({}, s, t, {
                    ref: r
                })))
            }
            ;
            return t.WrappedComponent = e,
            i()(t, e)
        }
          , _ = l
          , d = _;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(l, "withViewManagerClient", "/home/vsts/work/1/s/src/contexts/view-manager/hoc.tsx"),
            e.register(_, "default", "/home/vsts/work/1/s/src/contexts/view-manager/hoc.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "3e17aee31846974e528a": (e,t,r)=>{
        "use strict";
        r.d(t, {
            d: ()=>o.Z,
            q: ()=>a.Z
        });
        var o = r("c8274a236c515829d380")
          , a = r("62c5c68fae4c59b9a093");
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature
    }
    ,
    c8274a236c515829d380: (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            w: ()=>ViewManagerContext,
            Z: ()=>__WEBPACK_DEFAULT_EXPORT__
        });
        var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("990057777e9b2b7543e8")
          , react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("8af190b70a6bc55c6f1b")
          , react_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("395ade0bdd7d87af2885")
          , _utils_promises__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("971fd0ff834a938d5a3d")
          , uuid_v4__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("c7b40aca13c4330396a9")
          , uuid_v4__WEBPACK_IMPORTED_MODULE_3___default = __webpack_require__.n(uuid_v4__WEBPACK_IMPORTED_MODULE_3__);
        function ownKeys(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var o = Object.getOwnPropertySymbols(e);
                t && (o = o.filter(function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                })),
                r.push.apply(r, o)
            }
            return r
        }
        function _objectSpread(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = null != arguments[t] ? arguments[t] : {};
                t % 2 ? ownKeys(Object(r), !0).forEach(function(t) {
                    (0,
                    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e, t, r[t])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : ownKeys(Object(r)).forEach(function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                })
            }
            return e
        }
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const ViewManagerContext = react__WEBPACK_IMPORTED_MODULE_1__.createContext({});
        class ViewManagerProvider extends react__WEBPACK_IMPORTED_MODULE_1__.PureComponent {
            constructor(e) {
                super(e),
                this.apiUrl = void 0,
                this.platformUrl = void 0,
                this.createModal = (()=>{
                    const e = uuid_v4__WEBPACK_IMPORTED_MODULE_3___default()()
                      , t = react__WEBPACK_IMPORTED_MODULE_1__.createRef()
                      , r = new _utils_promises__WEBPACK_IMPORTED_MODULE_2__.C;
                    return this.setState(o=>({
                        modals: o.modals.concat([{
                            id: e,
                            container: t,
                            ready: r
                        }])
                    })),
                    {
                        id: e,
                        container: t,
                        ready: r,
                        destroy: ()=>{
                            this.setState(t=>({
                                modals: t.modals.filter(t=>t.id !== e)
                            }))
                        }
                    }
                }
                ),
                this.closeAllModals = (()=>{
                    this.setState({
                        modals: []
                    })
                }
                ),
                this.setNewTrack = (e=>{
                    this.setState({
                        newTrack: e
                    })
                }
                ),
                this.setDeviceFullUploadError = (e=>{
                    this.setState({
                        deviceFullUploadError: e
                    })
                }
                ),
                this.setNewTransformedAudioEngineTrack = (e=>{
                    this.setState({
                        transformedAudioEngineTrack: e
                    })
                }
                ),
                this.setPreviousLocation = (e=>{
                    this.setState({
                        previousLocation: e
                    })
                }
                ),
                this.navigate = (e=>{
                    this.props.history.push(e)
                }
                ),
                this.goBack = ((e="/")=>{
                    const {previousLocation: t} = this.state
                      , r = this.props.location.pathname + this.props.location.search;
                    t && t !== r ? this.navigate(t) : this.navigate(e)
                }
                ),
                this.state = {
                    modals: [],
                    newTrack: null,
                    deviceFullUploadError: !1,
                    transformedAudioEngineTrack: null,
                    previousLocation: null
                }
            }
            render() {
                const e = {
                    viewManagerClient: _objectSpread(_objectSpread({}, {
                        createModal: this.createModal,
                        setNewTrack: this.setNewTrack,
                        setDeviceFullUploadError: this.setDeviceFullUploadError,
                        setNewTransformedAudioEngineTrack: this.setNewTransformedAudioEngineTrack,
                        setPreviousLocation: this.setPreviousLocation,
                        navigate: this.navigate,
                        goBack: this.goBack
                    }), this.state)
                };
                return react__WEBPACK_IMPORTED_MODULE_1__.createElement(ViewManagerContext.Provider, {
                    value: e
                }, this.props.children)
            }
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        const _default = (0,
        react_router__WEBPACK_IMPORTED_MODULE_4__.withRouter)(ViewManagerProvider)
          , __WEBPACK_DEFAULT_EXPORT__ = _default;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(ViewManagerContext, "ViewManagerContext", "/home/vsts/work/1/s/src/contexts/view-manager/view-manager-context.tsx"),
            e.register(ViewManagerProvider, "ViewManagerProvider", "/home/vsts/work/1/s/src/contexts/view-manager/view-manager-context.tsx"),
            e.register(_default, "default", "/home/vsts/work/1/s/src/contexts/view-manager/view-manager-context.tsx"))
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    "2e23121d141c228196a0": (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>d
        });
        var o = r("cc5a1791ca69c601dde3")
          , a = r("b02a35033e7f8e6fa1e0")
          , n = r("8af190b70a6bc55c6f1b")
          , s = r("a7b043367627a4b04036")
          , i = r("5ef9de3df8d92ea0e41c")
          , c = r.n(i);
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const l = e=>{
            const t = t=>{
                const {wrappedComponentRef: r} = t
                  , i = (0,
                a.Z)(t, ["wrappedComponentRef"]);
                return n.createElement(s.qj.Consumer, null, t=>n.createElement(e, (0,
                o.Z)({}, i, t, {
                    ref: r
                })))
            }
            ;
            return t.WrappedComponent = e,
            c()(t, e)
        }
          , _ = l
          , d = _;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(l, "withWebUSBClient", "/home/vsts/work/1/s/src/contexts/webusb/hoc.tsx"),
            e.register(_, "default", "/home/vsts/work/1/s/src/contexts/webusb/hoc.tsx"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    f60aef9fa88f4e9ce07a: (e,t,r)=>{
        "use strict";
        r.d(t, {
            Ye: ()=>o.ZP,
            wO: ()=>o.wO,
            MM: ()=>a.Z
        });
        var o = r("a7b043367627a4b04036")
          , a = r("2e23121d141c228196a0");
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature
    }
    ,
    a7b043367627a4b04036: (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            wO: ()=>_kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.wO,
            Ye: ()=>calculateTrackMoves,
            ll: ()=>calculateAlbumMoves,
            qj: ()=>WebUSBContext,
            ZP: ()=>__WEBPACK_DEFAULT_EXPORT__
        });
        var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("990057777e9b2b7543e8")
          , _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("de098c4daf91477f9cbc")
          , react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("8af190b70a6bc55c6f1b")
          , react_router_dom__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("657c5d0bc31a26770cad")
          , react_router_dom__WEBPACK_IMPORTED_MODULE_16___default = __webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_16__)
          , _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("8a5d22dd0b24a6092d3e")
          , _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("5bed4c2c2c85e5553a5d")
          , _account__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("ad21e61587d47603cd1c")
          , _utils_promises__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("971fd0ff834a938d5a3d")
          , _contexts_firmware_update_firmware_update_context__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("3f02c5877d4690b5563c")
          , _assets_images_album_art_blank_png__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("5fc49946715057305344")
          , _assets_images_album_art_donda_png__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("f82e462f9208bbad1e7d")
          , _assets_images_album_art_jesus_is_king_png__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("5c27a08769d295c50ba7")
          , _assets_images_album_art_wash_us_in_the_blood_png__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("9f2316eeebc9c27ecc70")
          , _assets_images_album_art_life_of_the_party_png__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("fbf27e791db133ce7130")
          , _assets_images_album_art_recordings_png__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("6d601a08887d6ace5f82")
          , _utils_cancel_controller__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("3145f0c7f3b91ffef7d2")
          , _kano_stem_player_webusb_build_device__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("b2b922375814bbdc5154");
        function ownKeys(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var o = Object.getOwnPropertySymbols(e);
                t && (o = o.filter(function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                })),
                r.push.apply(r, o)
            }
            return r
        }
        function _objectSpread(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = null != arguments[t] ? arguments[t] : {};
                t % 2 ? ownKeys(Object(r), !0).forEach(function(t) {
                    (0,
                    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e, t, r[t])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : ownKeys(Object(r)).forEach(function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                })
            }
            return e
        }
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const CHARGE_POLLING_INTERVAL = 6e4
          , MAGIC_MP3_WAV_CONVERSION = 8;
        function calculateTrackMoves(e, t, r, o) {
            const a = []
              , n = t
              , s = t.tracks;
            a.push({
                albumOld: e.id,
                trackOld: r,
                albumNew: t.id,
                trackNew: o
            });
            const i = s.map(e=>parseInt(e.id.substr(1)))
              , c = s.map((e,t)=>({
                oldId: i[t],
                newId: t + 1
            })).filter(e=>e.oldId !== e.newId);
            for (; c.length > 0; ) {
                let e = 0;
                for (let t = 0; t < c.length; t += 1) {
                    const r = c[t];
                    if (i.indexOf(r.newId) < 0) {
                        a.push({
                            albumOld: n.id,
                            trackOld: `T${r.oldId}`,
                            albumNew: n.id,
                            trackNew: `T${r.newId}`
                        });
                        const o = i.indexOf(r.oldId);
                        i.splice(o, 1, r.newId),
                        c.splice(t, 1),
                        e += 1
                    }
                }
                if (!e) {
                    const e = c.map(e=>e.newId)
                      , t = c.findIndex(t=>e.indexOf(t.oldId) >= 0)
                      , r = c[t];
                    c.splice(t, 1);
                    let o = Math.max(...i) + 5;
                    for (; e.indexOf(o) >= 0; )
                        o += 1;
                    a.push({
                        albumOld: n.id,
                        trackOld: `T${r.oldId}`,
                        albumNew: n.id,
                        trackNew: `T${o}`
                    });
                    const s = i.indexOf(r.oldId);
                    i.splice(s, 1, o),
                    c.push({
                        oldId: o,
                        newId: r.newId
                    })
                }
            }
            return a
        }
        function calculateAlbumMoves(e) {
            const t = e.map(e=>parseInt(e.id.substr(1)))
              , r = []
              , o = e.map((e,t)=>({
                oldId: parseInt(e.id.substr(1)),
                newId: t + 1
            })).filter(e=>e.oldId !== e.newId);
            for (; o.length > 0; ) {
                let e = 0;
                for (let a = 0; a < o.length; a += 1) {
                    const n = o[a];
                    if (t.indexOf(n.newId) < 0) {
                        r.push({
                            oldId: `A${n.oldId}`,
                            newId: `A${n.newId}`
                        });
                        const s = t.indexOf(n.oldId);
                        t.splice(s, 1, n.newId),
                        o.splice(a, 1),
                        e += 1
                    }
                }
                if (!e) {
                    const e = o.map(e=>e.newId)
                      , a = o.findIndex(t=>e.indexOf(t.oldId) >= 0)
                      , n = o[a];
                    o.splice(a, 1);
                    let s = Math.max(...t) + 5;
                    for (; e.indexOf(s) >= 0; )
                        s += 1;
                    r.push({
                        oldId: `A${n.oldId}`,
                        newId: `A${s}`
                    });
                    const i = t.indexOf(n.oldId);
                    t.splice(i, 1, s),
                    o.push({
                        oldId: s,
                        newId: n.newId
                    })
                }
            }
            return r
        }
        const WebUSBContext = react__WEBPACK_IMPORTED_MODULE_1__.createContext({});
        class WebUSBProvider extends react__WEBPACK_IMPORTED_MODULE_1__.PureComponent {
            constructor(e) {
                var t;
                super(e),
                t = this,
                this.device = void 0,
                this.activeRequests = void 0,
                this.chargeStateInterval = void 0,
                this.conversionValue = 1048576,
                this._isMounted = !1,
                this.resetState = (()=>{
                    this.stopChargeStatePolling(),
                    this._isMounted && (this.setState({
                        deviceConnected: !1,
                        deviceAlbums: {},
                        deviceInfo: null,
                        deviceConfig: null,
                        deviceRecordedSlots: null,
                        deviceStorageUsed: null,
                        deviceStorageSize: null,
                        deviceChargeState: null,
                        deviceTransferActive: !1,
                        deviceUpdating: !1
                    }),
                    this.resetUploadData())
                }
                ),
                this.beforeUnloadHandler = (e=>{
                    if (this.state.deviceTransferActive)
                        return e.preventDefault(),
                        e.returnValue = "Transfer in process, exiting site may cause an error. Continue?",
                        "Transfer in process, exiting site may cause an error. Continue?"
                }
                ),
                this.setDeviceIsUpdating = (e=>{
                    this._isMounted && this.setState({
                        deviceUpdating: e
                    })
                }
                ),
                this.setDeviceTransferActive = (e=>{
                    e !== this.state.deviceTransferActive && this._isMounted && this.setState({
                        deviceTransferActive: e
                    })
                }
                ),
                this.resetUploadData = (()=>{
                    this._isMounted && (this.setState({
                        uploadProgress: null,
                        cancelController: null
                    }),
                    this.setDeviceTransferActive(!1))
                }
                ),
                this.handleCancelUpload = (()=>{
                    const {cancelController: e} = this.state;
                    e && e.cancel()
                }
                ),
                this.connect = (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*() {
                    const {device: e} = t
                      , {deviceTransferActive: r} = t.state;
                    if (!r) {
                        t.setDeviceTransferActive(!0);
                        try {
                            e.connected ? yield t.onConnect() : (yield e.connect(),
                            yield t.onConnect()),
                            t.setDeviceTransferActive(!1)
                        } catch (e) {
                            throw t._isMounted && (t.setState({
                                deviceConnected: !1,
                                deviceTransferActive: !1
                            }),
                            t.setDeviceTransferActive(!1)),
                            e.message
                        }
                    }
                }),
                this.disconnect = (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*() {
                    const {device: e} = t
                      , {deviceTransferActive: r} = t.state;
                    if (!r) {
                        t.setDeviceTransferActive(!0),
                        t.stopChargeStatePolling();
                        try {
                            yield e.endSession(),
                            yield e.disconnect()
                        } catch (e) {
                            throw e.message
                        } finally {
                            t._isMounted && t.setState({
                                deviceConnected: !1,
                                deviceTransferActive: !1,
                                _deviceToken: null
                            })
                        }
                    }
                }),
                this.reboot = (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*() {
                    const {device: e} = t;
                    try {
                        yield e.reboot(),
                        t._isMounted && t.setState({
                            deviceConnected: !1,
                            deviceTransferActive: !1
                        })
                    } catch (e) {
                        throw e.message
                    }
                }),
                this.onConnect = (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*() {
                    if (t.activeRequests.has("onConnect"))
                        return t.activeRequests.get("onConnect").promise;
                    const e = new _utils_promises__WEBPACK_IMPORTED_MODULE_5__.C
                      , {tracking: {trackEvent: r}} = t.props;
                    t.activeRequests.set("onConnect", e),
                    t.setDeviceTransferActive(!0);
                    try {
                        yield t.device.startSession(),
                        yield(0,
                        _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.wO)(250),
                        t._isMounted && t.setState({
                            deviceConnected: !0
                        }),
                        yield t.fetchDeviceAlbums(),
                        yield t.fetchDeviceRecordedSlots(),
                        yield t.fetchDeviceInfo(),
                        yield t.fetchDeviceConfig(),
                        yield t.fetchDeviceStorageInfo(),
                        t.authenticateDevice();
                        const o = (yield t.updateDeviceChargeState()).lastBt
                          , a = null === o ? "None" : o ? o.split(new RegExp("(..)")).filter(Boolean).reverse().join(":") : "UNKNOWN";
                        let n = 0;
                        null !== t.state.deviceRecordedSlots && (n = t.state.deviceRecordedSlots.reduce((e,t)=>e + (t ? 1 : 0), 0)),
                        r({
                            event: "device_connected",
                            data: _objectSpread(_objectSpread({}, t.state.deviceInfo), {}, {
                                lastBluetoothAddress: a,
                                recordings: n
                            })
                        }),
                        "/" !== t.props.location.pathname && "/updating" !== t.props.location.pathname || t.props.history.push("/connect/stem")
                    } catch (e) {
                        throw r({
                            error: {
                                name: "on_connect",
                                stack: "Failed to connect to device",
                                message: JSON.stringify(e.message || e)
                            }
                        }),
                        e.message
                    } finally {
                        t.setDeviceTransferActive(!1),
                        e.resolve(!0),
                        t.activeRequests.delete("onConnect")
                    }
                }),
                this.onDisconnect = (()=>this.resetState()),
                this.fetchDeviceInfo = (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*() {
                    const {device: e} = t
                      , r = yield e.getDeviceInfo();
                    return t._isMounted && t.setState({
                        deviceInfo: r
                    }),
                    r
                }),
                this.fetchDeviceConfig = (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*() {
                    const {device: e} = t
                      , r = yield e.getDeviceConfig();
                    t._isMounted && t.setState({
                        deviceConfig: r
                    })
                }),
                this.fetchDeviceStorageInfo = (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*() {
                    const {device: e} = t
                      , r = yield e.getStorageInfo()
                      , {free: o, size: a} = r;
                    t._isMounted && t.setState({
                        deviceStorageSize: a / t.conversionValue,
                        deviceStorageUsed: (a - o) / t.conversionValue
                    })
                }),
                this.authenticateDevice = (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*() {
                    const {deviceInfo: e} = t.state;
                    if (null === e)
                        return null;
                    if ((0,
                    _contexts_firmware_update_firmware_update_context__WEBPACK_IMPORTED_MODULE_6__.Hm)(e.appVersion, "1.0.1747"))
                        return null;
                    if (t.state._deviceToken)
                        return t.state._deviceToken.promise;
                    const {device: r} = t
                      , {serialNumber: o} = e
                      , {accountClient: a} = t.props
                      , n = new _utils_promises__WEBPACK_IMPORTED_MODULE_5__.C;
                    let s = null;
                    t._isMounted && t.setState({
                        _deviceToken: n
                    });
                    try {
                        const e = yield a.requestDeviceChallenge(o);
                        if (e.error)
                            throw new Error(`Unable to authenticate device: ${e.error}`);
                        let i;
                        try {
                            i = yield r.deviceAuth(e.challenge)
                        } catch (e) {
                            throw new Error(`Unable to authenticate device: ${e}`)
                        }
                        const c = yield a.completeDeviceChallenge(o, i);
                        if (c.error)
                            throw new Error(`Unable to authenticate device: ${c.error}`);
                        s = c.token
                    } catch (e) {
                        return n.reject(e),
                        t._isMounted && t.setState({
                            _deviceToken: null
                        }),
                        n.promise
                    }
                    return n.resolve(s),
                    n.promise
                }),
                this.updateDeviceChargeState = (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*() {
                    const {device: e} = t
                      , {soc: r, "last-bt": o} = yield e.getChargeState();
                    return t._isMounted && t.setState({
                        deviceChargeState: r
                    }),
                    {
                        soc: r,
                        lastBt: o
                    }
                }),
                this.startChargeStatePolling = (()=>{
                    this.chargeStateInterval || (this.chargeStateInterval = setInterval(()=>this.updateDeviceChargeState(), CHARGE_POLLING_INTERVAL))
                }
                ),
                this.stopChargeStatePolling = (()=>{
                    this.chargeStateInterval && (clearInterval(this.chargeStateInterval),
                    this.chargeStateInterval = null)
                }
                ),
                this.fetchDeviceRecordedSlots = (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*() {
                    const {device: e} = t
                      , r = yield e.getRecordedSlots()
                      , o = Object.values(r);
                    t._isMounted && t.setState({
                        deviceRecordedSlots: o
                    })
                }),
                this.setCover = ((e,t)=>(0,
                _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.qP)(e, "Donda") ? _assets_images_album_art_donda_png__WEBPACK_IMPORTED_MODULE_8__ : (0,
                _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.qP)(e, "Jesus is King") ? _assets_images_album_art_jesus_is_king_png__WEBPACK_IMPORTED_MODULE_9__ : (0,
                _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.qP)(e, "Life of The Party") ? _assets_images_album_art_life_of_the_party_png__WEBPACK_IMPORTED_MODULE_11__ : (0,
                _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.qP)(e, "Wash Us In The Blood") ? _assets_images_album_art_wash_us_in_the_blood_png__WEBPACK_IMPORTED_MODULE_10__ : t && (0,
                _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.o7)(t, "RECORD") ? _assets_images_album_art_recordings_png__WEBPACK_IMPORTED_MODULE_12__ : _assets_images_album_art_blank_png__WEBPACK_IMPORTED_MODULE_7__),
                this.fetchDeviceAlbums = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*(e) {
                        const {device: r} = t
                          , o = yield r.listTracks();
                        if (e && e.aborted)
                            throw t.setDeviceTransferActive(!1),
                            new Error("Cancelled");
                        const a = o.albums.reduce((e,r)=>{
                            let o = Object.assign({}, r);
                            o.title = (0,
                            _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.o7)(o.id, "RECORD") ? "RECORDINGS" : o.title;
                            const a = t.setCover(o.title, o.id)
                              , n = Object.assign({
                                cover: a
                            }, o);
                            return _objectSpread(_objectSpread({}, e), {}, {
                                [o.id]: n
                            })
                        }
                        , {});
                        return t._isMounted && t.setState(e=>({
                            deviceAlbums: a,
                            deviceAlbumsUpdated: e.deviceAlbumsUpdated ? e.deviceAlbumsUpdated + 1 : 1
                        })),
                        a
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getDeviceFileSize = (e=>{
                    switch (e.name.split(".").pop()) {
                    case "mp3":
                    case "mpga":
                        return e.size * MAGIC_MP3_WAV_CONVERSION;
                    case "wav":
                        return e.size;
                    default:
                        return 2 * e.size
                    }
                }
                ),
                this.hasAvailableSpace = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*(e) {
                        return (yield t.getRemainingSize()) > e.bass.file.size + e.vocals.file.size + e.drums.file.size + e.other.file.size
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getRemainingSize = (0,
                _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*() {
                    const {device: e} = t
                      , r = yield e.getStorageInfo()
                      , {free: o} = r;
                    return 1e3 * o - 3 * Math.pow(1e3, 2)
                }),
                this.hasSpaceForTrack = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*(e) {
                        const {tracking: {trackEvent: r}} = t.props
                          , o = (yield t.getRemainingSize()) > t.getDeviceFileSize(e.bass) + t.getDeviceFileSize(e.vocals) + t.getDeviceFileSize(e.drums) + t.getDeviceFileSize(e.other);
                        return o || r({
                            event: "device_full_adding_new_track",
                            data: {
                                track: {
                                    title: e.title,
                                    artist: e.artist,
                                    duration: e.duration
                                }
                            }
                        }),
                        o
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.hasSpaceForAlbum = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*(e, r) {
                        if (r && r.aborted)
                            throw new Error("[hasSpaceForAlbum] Cancelled");
                        return (yield t.getRemainingSize()) > e.tracks.reduce((e,t)=>{
                            return e + Object.values(t.metadata.stem_size).reduce((e,t)=>e + t, 0)
                        }
                        , 0)
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.uploadFirmwareUpdate = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*(e) {
                        t.setDeviceTransferActive(!0);
                        const {device: r} = t
                          , {tracking: {trackEvent: o}} = t.props;
                        try {
                            yield r.uploadFirmwareUpdate(e),
                            o({
                                event: "firmware_update_success",
                                data: {
                                    file: e.name,
                                    size: e.size
                                }
                            }),
                            t.setDeviceTransferActive(!1)
                        } catch (e) {
                            throw o({
                                error: {
                                    name: "firware_update",
                                    stack: "Failed to update firmware",
                                    message: JSON.stringify(e.message || e)
                                }
                            }),
                            t.setDeviceTransferActive(!1),
                            e
                        }
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.updateDeviceConfig = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*(e) {
                        t.setDeviceTransferActive(!0);
                        const {tracking: {trackEvent: r}} = t.props;
                        try {
                            yield t.device.updateDeviceConfig(e),
                            r({
                                event: "device_config_update_success"
                            }),
                            t.setDeviceTransferActive(!1)
                        } catch (e) {
                            throw r({
                                error: {
                                    name: "device_config_update",
                                    stack: "Failed to update device config",
                                    message: JSON.stringify(e.message || e)
                                }
                            }),
                            t.setDeviceTransferActive(!1),
                            e
                        }
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getTrack = ((e,t)=>{
                    const {deviceAlbums: r} = this.state;
                    if (!(e in r))
                        return null;
                    let o = null;
                    const a = r[e]
                      , n = a.tracks.filter(e=>(0,
                    _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.O8)(e.id, t));
                    if (n.length > 0) {
                        const {id: e, title: t, colors: r, bpm: s, meta_version: i, stems_version: c} = n[0];
                        o = {
                            id: e,
                            title: t,
                            colors: r,
                            bpm: s,
                            album: a.title,
                            artist: a.artist,
                            meta_version: i || null,
                            stems_version: c || null,
                            duration: 0,
                            bass: null,
                            vocals: null,
                            drums: null,
                            other: null
                        }
                    }
                    return o
                }
                ),
                this.addTrackSimple = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*(e, r, o) {
                        const {device: a} = t;
                        let n, s = null, i = !1;
                        o && o(()=>{
                            t.setDeviceTransferActive(!1),
                            s && s.cancel(),
                            i = !0
                        }
                        );
                        try {
                            if (s = a.addTrack(e, e=>r(e)),
                            i)
                                throw new Error("Cancelled");
                            if (n = yield s.promise,
                            i)
                                throw new Error("Cancelled");
                            if (yield t.fetchDeviceAlbums(),
                            i)
                                throw new Error("Cancelled");
                            if (yield t.fetchDeviceStorageInfo(),
                            i)
                                throw new Error("Cancelled")
                        } catch (e) {
                            console.log("error", e),
                            console.log("ERROR: ", e.message)
                        } finally {
                            t.setState({
                                uploadProgress: null
                            })
                        }
                        return n
                    });
                    return function(t, r, o) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.setUploadProgressState = (e=>{
                    this.setState({
                        uploadProgress: e
                    })
                }
                ),
                this.addTrack = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*(e, r, o) {
                        if (t.setDeviceTransferActive(!0),
                        !(yield t.hasAvailableSpace(e)))
                            return console.error("No available space on device"),
                            r(null),
                            void t.setDeviceTransferActive(!1);
                        const a = yield t.addTrackSimple(e, r, o);
                        return t.setDeviceTransferActive(!1),
                        a
                    });
                    return function(t, r, o) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.editTrackMetadataSimple = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*(e, r, o) {
                        const {device: a} = t;
                        try {
                            yield a.editTrackMetadata(e, r, o)
                        } catch (e) {
                            return console.error(e),
                            t.setDeviceTransferActive(!1),
                            void t.props.tracking.trackEvent({
                                error: {
                                    name: "edit_track",
                                    stack: "Failed to edit track",
                                    message: JSON.stringify(e.message || e)
                                }
                            })
                        }
                        yield t.fetchDeviceAlbums(),
                        yield t.fetchDeviceStorageInfo()
                    });
                    return function(t, r, o) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.editTrackMetadata = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*(e, r, o) {
                        t.setDeviceTransferActive(!0),
                        yield t.editTrackMetadataSimple(e, r, o),
                        t.setDeviceTransferActive(!1)
                    });
                    return function(t, r, o) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.deleteTrack = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*(e, r, o) {
                        const {tracking: {trackEvent: a}} = t.props;
                        t.setDeviceTransferActive(!0);
                        const {device: n} = t;
                        try {
                            yield n.deleteTrack(e, r),
                            a({
                                event: "track_deleted",
                                data: {
                                    albumid: e,
                                    trackid: r
                                }
                            })
                        } catch (e) {
                            throw t.setDeviceTransferActive(!1),
                            a({
                                error: {
                                    name: "delete_track",
                                    stack: "Failed to delete track",
                                    message: JSON.stringify(e.message || e)
                                }
                            }),
                            e
                        }
                        yield t.fetchDeviceAlbums(o),
                        yield t.fetchDeviceStorageInfo(),
                        yield t.fetchDeviceRecordedSlots(),
                        t.setDeviceTransferActive(!1)
                    });
                    return function(t, r, o) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.deleteAlbum = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*(e) {
                        const {tracking: {trackEvent: r}} = t.props
                          , {deviceAlbums: o} = t.state;
                        t.setDeviceTransferActive(!0);
                        const {device: a} = t;
                        try {
                            var n;
                            yield a.deleteAlbum(e),
                            r({
                                event: "album_deleted",
                                data: {
                                    albumId: e,
                                    albumName: null === (n = o[e]) || void 0 === n ? void 0 : n.title
                                }
                            })
                        } catch (e) {
                            throw t.setDeviceTransferActive(!1),
                            r({
                                error: {
                                    name: "delete_album",
                                    stack: "Failed to delete album",
                                    message: JSON.stringify(e.message || e)
                                }
                            }),
                            e
                        }
                        yield t.fetchDeviceAlbums(),
                        t.setDeviceTransferActive(!1)
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.moveTracksSimple = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*(e) {
                        try {
                            for (let r = 0; r < e.length; r++)
                                yield t.moveTrack(e[r])
                        } catch (e) {
                            throw console.error(e),
                            t.props.tracking.trackEvent({
                                error: {
                                    name: "move_tracks",
                                    stack: "Failed to move track",
                                    message: JSON.stringify(e.message || e)
                                }
                            }),
                            t.setDeviceTransferActive(!1),
                            e
                        }
                        yield t.fetchDeviceAlbums()
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.moveTracks = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*(e) {
                        t.setDeviceTransferActive(!0),
                        yield t.moveTracksSimple(e),
                        t.setDeviceTransferActive(!1)
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.moveTrack = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*({albumOld: e, trackOld: r, albumNew: o, trackNew: a}) {
                        const {device: n} = t;
                        try {
                            yield n.moveTrack(e, r, o, a)
                        } catch (e) {
                            throw console.error(e),
                            e
                        }
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.getRecordedStem = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*(e, r=(()=>{}
                    )) {
                        const {device: o} = t;
                        try {
                            return o.downloadTrackStem("RECORD", "T1", e, r)
                        } catch (e) {
                            throw console.error(e),
                            e
                        }
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.addAlbum = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*(e, r=_kano_stem_player_webusb_build_device__WEBPACK_IMPORTED_MODULE_14__.nP, o, a) {
                        const {device: n} = t;
                        try {
                            const s = yield n.addAlbum(o || null, r, e, a);
                            return yield t.fetchDeviceAlbums(),
                            s
                        } catch (o) {
                            if (o.message && "Cancelled" !== o.message && ["jesus is king", "donda", "donda 2", "life of the party", "wash us in the blood"].includes(null === e || void 0 === e ? void 0 : e.toLowerCase())) {
                                const o = "DONDA" === e ? "A2" : "A1";
                                return yield t.deleteAlbum(o),
                                yield t.addAlbum(e, r)
                            }
                            throw console.error(o),
                            o
                        }
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.moveAlbumsSimple = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*(e) {
                        try {
                            for (let r = 0; r < e.length; r++)
                                yield t.moveAlbum(e[r])
                        } catch (e) {
                            throw console.error(e),
                            t.props.tracking.trackEvent({
                                error: {
                                    name: "move_albums",
                                    stack: "Failed to move albums",
                                    message: JSON.stringify(e.message || e)
                                }
                            }),
                            t.setDeviceTransferActive(!1),
                            e
                        }
                        yield t.fetchDeviceAlbums()
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.moveAlbums = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*(e) {
                        t.setDeviceTransferActive(!0),
                        yield t.moveAlbumsSimple(e),
                        t.setDeviceTransferActive(!1)
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.moveAlbum = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*({oldId: e, newId: r}) {
                        const {device: o} = t;
                        try {
                            yield o.renameAlbum(e, r)
                        } catch (e) {
                            throw console.error(e),
                            e
                        }
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.updateAlbumTitle = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*(e, r) {
                        const {device: o} = t;
                        try {
                            yield o.updateAlbumTitle(e, r),
                            yield t.fetchDeviceAlbums()
                        } catch (e) {
                            throw console.error(e),
                            e
                        }
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.updateAlbumVersion = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*(e, r) {
                        const {device: o} = t;
                        try {
                            yield o.updateAlbumVersion(e, r),
                            yield t.fetchDeviceAlbums()
                        } catch (e) {
                            throw console.error(e),
                            e
                        }
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.setUploadFeedback = (e=>{
                    this.setState({
                        uploadFeedback: e
                    })
                }
                ),
                this.uploadStems = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*(e, r) {
                        try {
                            t.setState({
                                uploading: "uploading",
                                uploadProgress: null,
                                uploadingTrack: e,
                                uploadFeedback: null,
                                uploadCancelled: !1
                            });
                            const o = new _utils_cancel_controller__WEBPACK_IMPORTED_MODULE_13__.f;
                            t._isMounted && t.setState({
                                cancelController: o
                            });
                            const a = yield t.addTrack(e, e=>t.setState({
                                uploadProgress: Object.assign({}, e)
                            }), o.register);
                            if (void 0 === a)
                                throw new Error("Upload cancelled (2)");
                            t.setState({
                                uploadedTrackLocation: a
                            }),
                            r.album !== t.state.deviceAlbums[a.album].title && (yield t.moveTrackToAlbum(a.album, a.id, r.album)),
                            t.setState({
                                uploading: "uploaded"
                            })
                        } catch (e) {
                            if (e.message && "Cancelled" === e.message)
                                throw t.setState({
                                    uploadProgress: null,
                                    uploading: !1,
                                    uploadFeedback: "Upload cancelled",
                                    uploadCancelled: !0
                                }),
                                t.setDeviceTransferActive(!1),
                                new Error("Cancelled");
                            if (e.message && "Upload cancelled (2)" === e.message)
                                throw t.setState({
                                    uploadProgress: null,
                                    uploading: !1,
                                    uploadCancelled: !0
                                }),
                                t.setDeviceTransferActive(!1),
                                new Error("Cancelled");
                            t.state.deviceConnected ? t.setState({
                                uploading: "error",
                                uploadFeedback: "Upload cancelled"
                            }) : t.setState({
                                uploading: "uploaded",
                                uploadFeedback: "Uploaded"
                            })
                        } finally {
                            t.setDeviceTransferActive(!1),
                            t.setState({
                                uploading: !1,
                                uploadCancelled: !1
                            })
                        }
                    });
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.resetUploadedTrackLocation = (()=>{
                    this.setState({
                        uploadedTrackLocation: null
                    })
                }
                ),
                this.moveTrackToAlbum = function() {
                    var e = (0,
                    _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_15__.Z)(function*(e, r, o) {
                        let a, n, s = Object.values(t.state.deviceAlbums).find(e=>(0,
                        _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.qP)(e.title, o));
                        if (s) {
                            const e = s.tracks.map(e=>parseInt(e.id.substring(1)));
                            a = s.id,
                            n = `T${Math.max(0, ...e) + 1}`
                        } else
                            a = yield t.addAlbum(o, void 0, void 0, "1"),
                            n = "T1";
                        return yield t.moveTracks([{
                            albumOld: e,
                            albumNew: a,
                            trackOld: r,
                            trackNew: n
                        }]),
                        {
                            albumId: a,
                            trackId: n
                        }
                    });
                    return function(t, r, o) {
                        return e.apply(this, arguments)
                    }
                }(),
                this.device = new _kano_stem_player_webusb__WEBPACK_IMPORTED_MODULE_3__.FF,
                this.device.onConnect(()=>{
                    this.onConnect()
                }
                ),
                this.device.onDisconnect(()=>{
                    this.onDisconnect()
                }
                ),
                this.activeRequests = new Map,
                this.state = {
                    deviceConnected: !1,
                    deviceAlbums: {},
                    deviceAlbumsUpdated: null,
                    deviceInfo: null,
                    deviceConfig: null,
                    deviceRecordedSlots: null,
                    deviceStorageUsed: null,
                    deviceStorageSize: null,
                    deviceChargeState: null,
                    deviceTransferActive: !1,
                    _deviceToken: null,
                    deviceUpdating: !1,
                    uploadProgress: null,
                    uploading: !1,
                    uploadedTrackLocation: null,
                    uploadFeedback: null,
                    uploadingTrack: null,
                    cancelController: null,
                    uploadCancelled: !1
                }
            }
            componentDidMount() {
                this._isMounted = !0,
                window.location.hash && "#connect" === window.location.hash && this.setState({
                    deviceConnected: !0,
                    deviceAlbums: {},
                    deviceAlbumsUpdated: null,
                    deviceInfo: {
                        appVersion: "1",
                        bluetoothVersion: "1",
                        bootloaderVersion: "1",
                        serialNumber: "1"
                    }
                }),
                this.device.findPairedDevice(),
                window.addEventListener("beforeunload", this.beforeUnloadHandler, {
                    capture: !0
                })
            }
            componentWillUnmount() {
                this.stopChargeStatePolling(),
                window.removeEventListener("beforeunload", this.beforeUnloadHandler, {
                    capture: !0
                }),
                this._isMounted = !1
            }
            render() {
                const e = {
                    webUSBClient: _objectSpread(_objectSpread({}, {
                        connect: this.connect,
                        disconnect: this.disconnect,
                        reboot: this.reboot,
                        setDeviceIsUpdating: this.setDeviceIsUpdating,
                        setDeviceTransferActive: this.setDeviceTransferActive,
                        uploadFirmwareUpdate: this.uploadFirmwareUpdate,
                        getTrack: this.getTrack,
                        addTrack: this.addTrack,
                        addTrackSimple: this.addTrackSimple,
                        editTrackMetadata: this.editTrackMetadata,
                        editTrackMetadataSimple: this.editTrackMetadataSimple,
                        deleteTrack: this.deleteTrack,
                        moveTracks: this.moveTracks,
                        moveTracksSimple: this.moveTracksSimple,
                        getRecordedStem: this.getRecordedStem,
                        updateDeviceChargeState: this.updateDeviceChargeState,
                        updateDeviceConfig: this.updateDeviceConfig,
                        startDeviceChargePolling: this.startChargeStatePolling,
                        stopDeviceChargePolling: this.stopChargeStatePolling,
                        addAlbum: this.addAlbum,
                        deleteAlbum: this.deleteAlbum,
                        moveAlbums: this.moveAlbums,
                        moveAlbumsSimple: this.moveAlbumsSimple,
                        updateAlbumTitle: this.updateAlbumTitle,
                        updateAlbumVersion: this.updateAlbumVersion,
                        setCover: this.setCover,
                        fetchDeviceAlbums: this.fetchDeviceAlbums,
                        fetchDeviceInfo: this.fetchDeviceInfo,
                        getState: ()=>this.state,
                        hasSpaceForTrack: this.hasSpaceForTrack,
                        hasSpaceForAlbum: this.hasSpaceForAlbum,
                        getRemainingSize: this.getRemainingSize,
                        getDeviceFileSize: this.getDeviceFileSize,
                        conversionValue: this.conversionValue,
                        authenticateDevice: this.authenticateDevice,
                        uploadStems: this.uploadStems,
                        handleCancelUpload: this.handleCancelUpload,
                        setUploadFeedback: this.setUploadFeedback,
                        setUploadProgressState: this.setUploadProgressState,
                        resetUploadedTrackLocation: this.resetUploadedTrackLocation
                    }), this.state)
                };
                return react__WEBPACK_IMPORTED_MODULE_1__.createElement(WebUSBContext.Provider, {
                    value: e
                }, this.props.children)
            }
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        const __TEST__WebUSBProvider = WebUSBProvider
          , _default = (0,
        _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_2__.j)({
            module: "web_usb_provider"
        })((0,
        react_router_dom__WEBPACK_IMPORTED_MODULE_16__.withRouter)((0,
        _account__WEBPACK_IMPORTED_MODULE_4__.o)(WebUSBProvider)))
          , __WEBPACK_DEFAULT_EXPORT__ = _default;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(CHARGE_POLLING_INTERVAL, "CHARGE_POLLING_INTERVAL", "/home/vsts/work/1/s/src/contexts/webusb/webusb-context.tsx"),
            e.register(MAGIC_MP3_WAV_CONVERSION, "MAGIC_MP3_WAV_CONVERSION", "/home/vsts/work/1/s/src/contexts/webusb/webusb-context.tsx"),
            e.register(calculateTrackMoves, "calculateTrackMoves", "/home/vsts/work/1/s/src/contexts/webusb/webusb-context.tsx"),
            e.register(calculateAlbumMoves, "calculateAlbumMoves", "/home/vsts/work/1/s/src/contexts/webusb/webusb-context.tsx"),
            e.register(WebUSBContext, "WebUSBContext", "/home/vsts/work/1/s/src/contexts/webusb/webusb-context.tsx"),
            e.register(WebUSBProvider, "WebUSBProvider", "/home/vsts/work/1/s/src/contexts/webusb/webusb-context.tsx"),
            e.register(__TEST__WebUSBProvider, "__TEST__WebUSBProvider", "/home/vsts/work/1/s/src/contexts/webusb/webusb-context.tsx"),
            e.register(_default, "default", "/home/vsts/work/1/s/src/contexts/webusb/webusb-context.tsx"))
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    b52edfef829e09f7985c: (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("8af190b70a6bc55c6f1b")
          , react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("63f14ac74ce296f77f4d")
          , fontfaceobserver__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("260f3680b921ede7f717")
          , fontfaceobserver__WEBPACK_IMPORTED_MODULE_2___default = __webpack_require__.n(fontfaceobserver__WEBPACK_IMPORTED_MODULE_2__)
          , react_router_dom__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__("657c5d0bc31a26770cad")
          , react_router_dom__WEBPACK_IMPORTED_MODULE_35___default = __webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_35__)
          , _utils_setThemeColor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("b61b44d5123c4032e9da")
          , _sentry_react__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__("eb88800281880750dee6")
          , _sentry_react__WEBPACK_IMPORTED_MODULE_34___default = __webpack_require__.n(_sentry_react__WEBPACK_IMPORTED_MODULE_34__)
          , _sentry_tracing__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("82d14b9db5598b921c79")
          , _kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("8a5d22dd0b24a6092d3e")
          , _utils_history__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("4f64e9a1f5202b774215")
          , _contexts_webusb__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("f60aef9fa88f4e9ce07a")
          , _contexts_trackapi__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("09e5b40f0abea70b7ff4")
          , _contexts_firmware_update__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("c1bece57111e2d76e639")
          , _contexts_notifications__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("ceede5265ca6ca2cb4b1")
          , _contexts_album_restore__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("16c6bde65fb4831cea2e")
          , _contexts_remix__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("04580fa4bddd672dfde3")
          , _contexts_stems__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("d92624744e8fb7e743e8")
          , _contexts_account__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("ad21e61587d47603cd1c")
          , _contexts_view_manager__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("3e17aee31846974e528a")
          , _containers_App__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("909d96d96697555397ee")
          , _file_loader_name_name_ext_assets_favicon_ico__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("2cc3443f170f92e6c07f")
          , file_loader_name_htaccess_htaccess__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("49c109a56bd7c2e379fd")
          , _contexts_audio_engine__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("77d9647920c06e8befd6")
          , _utils_feature_flags__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("c0326c9d650a633c92d0")
          , _utils_themes__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("957d24b63b1050799be8")
          , _assets_images_pngs_sp_product_shot_original_png__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__("4e7d0f412453ab5a3ce2")
          , _assets_video_brown_11_mov__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__("79c16640587b1d45f7d2")
          , _assets_video_brown_11_webm__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__("54a05401abd45f5271ae")
          , _assets_images_pngs_sp_product_shot_clear_png__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__("a919c400c9d519b5448e")
          , _assets_video_clear_11_mov__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__("9a6bc0a08b0ae70ba64d")
          , _assets_video_clear_11_webm__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__("39c18a378dbea19771d5")
          , _assets_images_pngs_stem2_png__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__("8ed0923a100357405e8d")
          , _assets_video_stem2_mov__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__("45732eb854ce2086c6c4")
          , _assets_video_stem2_webm__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__("57824cf347a208deb857")
          , _assets_images_pngs_stem3_png__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__("1e823c716368cec13261")
          , _assets_video_stem3_mov__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__("43f58c71e2d23d4ca2ae")
          , _assets_video_stem3_webm__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__("5ae5f712193f2ccd9912");
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const config = {
            TARGET_ENV: "staging",
            NODE_ENV: "staging",
            KB_APP_VERSION: "1.1.3179",
            KB_APP_REVISION: "9313c3477e3e37bc38126ebe1c4a27602bcd2937",
            KB_APP_NAME: "stem-player-client",
            KB_APP_TITLE: "STEMPLAYER - Staging",
            KB_APP_URL: "https://staging-stemplatform.netlify.app",
            KB_API_URL: "https://worldapi.nonprod.kano.me",
            KB_CMS_URL: "https://staging.content.kano.me",
            KB_FEED_URL: "https://feed.nonprod.kano.me",
            KB_TRACKING_URL: "https://telemetry.nonprod.kano.me/batch",
            KB_SHARING_URL: "https://staging.sharing.kano.me",
            KB_AUTH_INTEGRATION_URL: "https://b.auth.kano.me/integration.js",
            KB_AUTH_SIGNUP_URL: "https://b.auth.kano.me/index.html?env=staging#signup",
            KB_AUTH_LOGIN_URL: "https://b.auth.kano.me/index.html?env=staging#login",
            KB_KANO_WORLD_URL: "https://staging.world.kano.me",
            KB_MAKE_ART_URL: "https://staging.art.kano.me",
            KB_PIXEL_MOTION_URL: "https://staging.beta.pixel.kano.me",
            KB_ARTOPIA_URL: "https://beta.artopia.app",
            KB_ARTOPIA_ACCESSKEY_URL: "https://beta.artopia.app/?accesskey=kano-club",
            KB_KANO_CODE_URL: "https://staging.code.kano.me",
            KB_HOW_COMPUTERS_WORK_URL: "https://staging.computers.kano.me",
            KB_KANO_CREATE_URL: "https://make-p5.netlify.app/",
            KB_UWP_ROOT_PATH: "ms-appx-web:///WebApp",
            KB_STEMIFY_API_URL: "https://api.sycamore-nonprod.kano.me",
            KB_UPDATE_QUERY_ENDPOINT: "https://stemplayer-dl.sycamore-nonprod.kano.me/latest-firmware.json",
            KB_FW_ENDPOINT: "https://stemplayer-dl.sycamore-nonprod.kano.me/latest-firmware.dfu",
            KB_SHOPIFY_US_DOMAIN: "shop.sycamore-nonprod.kano.me",
            KB_SHOPIFY_US_TOKEN: "e1b1b8c1927568fe33f9bd94dae06358",
            KB_SHOPIFY_UK_DOMAIN: "gb.shop.sycamore-nonprod.kano.me",
            KB_SHOPIFY_UK_TOKEN: "e1b1b8c1927568fe33f9bd94dae06358",
            KB_SENTRY_SAMPLE_RATE: "1.0",
            KB_REPO_URL: "https://github.com/KanoComputing/stem-player"
        }
          , telemetryConfig = {
            app: config.KB_APP_NAME,
            appVersion: config.KB_APP_VERSION,
            url: config.KB_TRACKING_URL,
            env: config.TARGET_ENV,
            hasCrossDomainStorage: !1
        }
          , products = [{
            name: "STEM1",
            variants: [{
                name: "CLEAR STEM1",
                sku: "1016C",
                isAvailable: !0,
                assets: {
                    image: _assets_images_pngs_sp_product_shot_clear_png__WEBPACK_IMPORTED_MODULE_25__,
                    videoMov: _assets_video_clear_11_mov__WEBPACK_IMPORTED_MODULE_26__,
                    videoWebM: _assets_video_clear_11_webm__WEBPACK_IMPORTED_MODULE_27__
                },
                purchaseData: {
                    uk: {
                        id: "7290651115697",
                        html_id: "product-component-1660743000760",
                        price: "200 GBP",
                        moneyFormat: "%C2%A3%7B%7Bamount%7D%7D"
                    },
                    us: {
                        id: "7374962851996",
                        html_id: "product-component-1660743051424",
                        price: "200 USD",
                        moneyFormat: "%24%7B%7Bamount%7D%7D"
                    },
                    dev: {
                        id: "7610750992546",
                        html_id: "product-component-1660571250200",
                        price: "200 USD",
                        moneyFormat: "%24%7B%7Bamount%7D%7D"
                    }
                }
            }, {
                name: "TAN STEM1",
                sku: "1016",
                isAvailable: !0,
                assets: {
                    image: _assets_images_pngs_sp_product_shot_original_png__WEBPACK_IMPORTED_MODULE_22__,
                    videoMov: _assets_video_brown_11_mov__WEBPACK_IMPORTED_MODULE_23__,
                    videoWebM: _assets_video_brown_11_webm__WEBPACK_IMPORTED_MODULE_24__
                },
                purchaseData: {
                    uk: {
                        id: "6762869194929",
                        html_id: "product-component-1624464889316",
                        price: "200 GBP",
                        moneyFormat: "%C2%A3%7B%7Bamount%7D%7D"
                    },
                    us: {
                        id: "6804650524828",
                        html_id: "product-component-1624465060899",
                        price: "200 USD",
                        moneyFormat: "%24%7B%7Bamount%7D%7D"
                    },
                    dev: {
                        id: "6148012408994",
                        html_id: "product-component-1623765396005",
                        price: "200 USD",
                        moneyFormat: "%24%7B%7Bamount%7D%7D"
                    }
                }
            }]
        }, {
            name: "STEM2",
            variants: [{
                name: "STEM2",
                sku: "1017",
                isAvailable: !1,
                assets: {
                    image: _assets_images_pngs_stem2_png__WEBPACK_IMPORTED_MODULE_28__,
                    videoMov: _assets_video_stem2_mov__WEBPACK_IMPORTED_MODULE_29__,
                    videoWebM: _assets_video_stem2_webm__WEBPACK_IMPORTED_MODULE_30__
                },
                purchaseData: {
                    uk: {
                        id: "",
                        html_id: "",
                        price: "300 GBP",
                        moneyFormat: ""
                    },
                    us: {
                        id: "",
                        html_id: "",
                        price: "300 USD",
                        moneyFormat: ""
                    },
                    dev: {
                        id: "7705894944930",
                        html_id: "product-component-1666347257452",
                        price: "300 USD",
                        moneyFormat: "%24%7B%7Bamount%7D%7D"
                    }
                }
            }]
        }, {
            name: "STEM3",
            variants: [{
                name: "STEM3",
                sku: "1018",
                isAvailable: !1,
                assets: {
                    image: _assets_images_pngs_stem3_png__WEBPACK_IMPORTED_MODULE_31__,
                    videoMov: _assets_video_stem3_mov__WEBPACK_IMPORTED_MODULE_32__,
                    videoWebM: _assets_video_stem3_webm__WEBPACK_IMPORTED_MODULE_33__
                },
                purchaseData: {
                    uk: {
                        id: "",
                        html_id: "",
                        price: "600 GBP",
                        moneyFormat: ""
                    },
                    us: {
                        id: "",
                        html_id: "",
                        price: "600 USD",
                        moneyFormat: ""
                    },
                    dev: {
                        id: "7705895403682",
                        html_id: "product-component-1666347115894",
                        price: "600 USD",
                        moneyFormat: "%24%7B%7Bamount%7D%7D"
                    }
                }
            }]
        }]
          , font2Observer = new (fontfaceobserver__WEBPACK_IMPORTED_MODULE_2___default())("Helvetica Neue LT W05 65 Medium",{});
        Promise.all([font2Observer.load()]).then(()=>{
            document.body.classList.add("fontLoaded")
        }
        ),
        _sentry_react__WEBPACK_IMPORTED_MODULE_34__.init({
            dsn: "https://cceb14840d684b1baad838c0d88f5c42@o829757.ingest.sentry.io/5812480",
            integrations: [new _sentry_tracing__WEBPACK_IMPORTED_MODULE_4__.jK.BrowserTracing],
            environment: config.TARGET_ENV,
            release: `${config.KB_APP_NAME}@${config.KB_APP_VERSION}`,
            tracesSampleRate: parseFloat(config.KB_SENTRY_SAMPLE_RATE),
            beforeSend(e) {
                var t, r, o, a, n;
                const s = null === (t = e.exception) || void 0 === t ? void 0 : null === (r = t.values) || void 0 === r ? void 0 : r[0];
                return null !== s && void 0 !== s && null !== (o = s.value) && void 0 !== o && o.match(/ResizeObserver loop limit exceeded/i) ? null : null !== s && void 0 !== s && null !== (a = s.type) && void 0 !== a && a.match(/UnhandledRejection/) && null !== s && void 0 !== s && null !== (n = s.value) && void 0 !== n && n.match(/Non-Error promise rejection captured with value: undefined/) ? null : e
            }
        }),
        _utils_feature_flags__WEBPACK_IMPORTED_MODULE_20__.V.updateFromUrlParams(),
        _utils_feature_flags__WEBPACK_IMPORTED_MODULE_20__.V.hasFlag("background-shader-single-gradient") && _utils_feature_flags__WEBPACK_IMPORTED_MODULE_20__.V.clearFlag("background-shader-single-gradient"),
        _utils_feature_flags__WEBPACK_IMPORTED_MODULE_20__.V.hasFlag("background-shader-gradients") && _utils_feature_flags__WEBPACK_IMPORTED_MODULE_20__.V.clearFlag("background-shader-gradients"),
        _utils_feature_flags__WEBPACK_IMPORTED_MODULE_20__.V.hasFlag("background-shader-water") && _utils_feature_flags__WEBPACK_IMPORTED_MODULE_20__.V.clearFlag("background-shader-water"),
        (0,
        _utils_setThemeColor__WEBPACK_IMPORTED_MODULE_3__.g)(_utils_themes__WEBPACK_IMPORTED_MODULE_21__.yU.default.background),
        (0,
        _utils_themes__WEBPACK_IMPORTED_MODULE_21__.Dc)(_utils_themes__WEBPACK_IMPORTED_MODULE_21__.yU.default);
        const MOUNT_NODE = document.getElementById("app")
          , render = e=>{
            react_dom__WEBPACK_IMPORTED_MODULE_1__.render(react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_35__.Router, {
                history: _utils_history__WEBPACK_IMPORTED_MODULE_6__.Z
            }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_kano_kbc_telemetry__WEBPACK_IMPORTED_MODULE_5__.Yi, {
                providerConfig: telemetryConfig
            }, ({trackUser: e})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_account__WEBPACK_IMPORTED_MODULE_14__.u, {
                config: config
            }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_webusb__WEBPACK_IMPORTED_MODULE_7__.Ye, {
                config: config
            }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_stems__WEBPACK_IMPORTED_MODULE_13__.nZ, {
                config: config
            }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_audio_engine__WEBPACK_IMPORTED_MODULE_19__.Z, {
                config: config
            }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_remix__WEBPACK_IMPORTED_MODULE_12__.V, {
                config: config
            }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_trackapi__WEBPACK_IMPORTED_MODULE_8__.G, {
                config: config
            }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_firmware_update__WEBPACK_IMPORTED_MODULE_9__.E, {
                config: config
            }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_album_restore__WEBPACK_IMPORTED_MODULE_11__._, {
                config: config
            }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_notifications__WEBPACK_IMPORTED_MODULE_10__.JB, {
                config: config
            }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_view_manager__WEBPACK_IMPORTED_MODULE_15__.d, null, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_containers_App__WEBPACK_IMPORTED_MODULE_16__.Z, {
                config: config,
                products: products,
                trackUser: e
            }))))))))))))), e || MOUNT_NODE)
        }
        ;
        if (window.Shell) {
            class KashApp {
                constructor() {
                    this.root = void 0,
                    this.root = document.createElement("div"),
                    render(this.root)
                }
                __reactstandin__regenerateByEval(key, code) {
                    this[key] = eval(code)
                }
            }
            window.Shell.define(KashApp)
        } else
            render();
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(config, "config", "/home/vsts/work/1/s/src/index.tsx"),
            e.register(telemetryConfig, "telemetryConfig", "/home/vsts/work/1/s/src/index.tsx"),
            e.register(products, "products", "/home/vsts/work/1/s/src/index.tsx"),
            e.register(font2Observer, "font2Observer", "/home/vsts/work/1/s/src/index.tsx"),
            e.register(MOUNT_NODE, "MOUNT_NODE", "/home/vsts/work/1/s/src/index.tsx"),
            e.register(render, "render", "/home/vsts/work/1/s/src/index.tsx"))
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    "1cbf6a093bab4cc54764": (e,t,r)=>{
        "use strict";
        r.d(t, {
            T: ()=>o
        }),
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const o = (e,t,r)=>{
            const o = []
              , a = e=>{
                if (0 === e.length)
                    return;
                let n = t;
                for (const [t,s] of e.entries()) {
                    const i = `id=${s}&`;
                    if ((n += i).length >= r) {
                        n = n.replace(i, "").slice(0, -1),
                        o.push({
                            url: n,
                            items: e.slice(0, t)
                        }),
                        a(e.slice(t));
                        break
                    }
                    if (t === e.length - 1) {
                        o.push({
                            url: n.slice(0, -1),
                            items: e
                        });
                        break
                    }
                }
            }
            ;
            return a(e),
            o
        }
        ;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && e.register(o, "returnPaginatedUrls", "/home/vsts/work/1/s/src/utils/api-request-pagination.ts")
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "20096a37950a1cbbc5cd": (e,t,r)=>{
        "use strict";
        r.d(t, {
            Y: ()=>a
        }),
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const o = (e,t)=>{
            if (e.length !== t.length)
                return !1;
            for (let r = 0; r < e.length; r++)
                if (e[r] !== t[r])
                    return !1;
            return !0
        }
          , a = (e,t,r)=>{
            if (e.length !== t.length)
                return !1;
            for (let o = 0; o < e.length; o++)
                if (Math.abs(e[o] - t[o]) > r)
                    return !1;
            return !0
        }
        ;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(o, "areArraysEqual", "/home/vsts/work/1/s/src/utils/areArraysEqual.js"),
            e.register(a, "areNumArraysBasicallyEqual", "/home/vsts/work/1/s/src/utils/areArraysEqual.js"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    d6e61794281205c7e43a: (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>a
        }),
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const o = ["audio/aiff", "audio/basic", "audio/flac", "audio/x-flac", "audio/it", "audio/L24", "audio/make.my.funk", "audio/make", "audio/mid", "audio/midi", "audio/mod", "audio/mp4", "audio/m4a", "audio/x-m4a", "audio/mpeg", "audio/mpeg3", "audio/nspaudio", "audio/ogg", "audio/s3m", "audio/tsp-audio", "audio/tsplayer", "audio/vnd.qcelp", "audio/vnd.rn-realaudio", "audio/vnd.wav", "audio/voc", "audio/vorbis", "audio/voxware", "audio/wav", "audio/x-adpcm", "audio/x-aiff", "audio/x-au", "audio/x-gsm", "audio/x-jam", "audio/x-liveaudio", "audio/x-mid", "audio/x-midi", "audio/x-mod", "audio/x-mpeg-3", "audio/x-mpeg", "audio/x-mpegurl", "audio/x-mpequrl", "audio/x-nspaudio", "audio/x-pn-realaudio-plugin", "audio/x-pn-realaudio", "audio/x-psid", "audio/x-realaudio", "audio/x-twinvq-plugin", "audio/x-twinvq", "audio/x-vnd.audioexplosion.mjuicemediafile", "audio/x-voc", "audio/x-wav", "audio/x-xm", "audio/xm"]
          , a = o;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && e.register(o, "default", "/home/vsts/work/1/s/src/utils/audioMimeTypes.js")
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "557b135c7198835d5410": (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>c
        });
        var o = r("de098c4daf91477f9cbc")
          , a = r("eb88800281880750dee6");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const n = e=>new Promise(t=>setTimeout(t, e))
          , s = function() {
            var e = (0,
            o.Z)(function*(e, t) {
                const {maxRetries: r=5, retry: o=1, functionName: i=e.name} = null !== t && void 0 !== t ? t : {};
                try {
                    return yield e()
                } catch (t) {
                    var c;
                    if (null !== t && void 0 !== t && null !== (c = t.message) && void 0 !== c && c.match(/user aborted/i))
                        throw t;
                    if (o === r)
                        throw a.captureException(t),
                        new Error(`${i} has been retried ${r} times.`);
                    if (o <= r)
                        return yield n(Math.pow(o, 6)),
                        yield s(e, {
                            maxRetries: r,
                            retry: o + 1,
                            functionName: i
                        })
                }
            });
            return function(t, r) {
                return e.apply(this, arguments)
            }
        }()
          , i = s
          , c = i;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(n, "wait", "/home/vsts/work/1/s/src/utils/backOffRetry.ts"),
            e.register(s, "backOffRetry", "/home/vsts/work/1/s/src/utils/backOffRetry.ts"),
            e.register(i, "default", "/home/vsts/work/1/s/src/utils/backOffRetry.ts"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "5347e167343c470dbdfe": (e,t,r)=>{
        "use strict";
        r.d(t, {
            G6: ()=>n,
            qs: ()=>_,
            gn: ()=>d,
            nz: ()=>u,
            fq: ()=>f
        }),
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const o = !!window.opr && !!window.opr.addons || !!window.opera || navigator.userAgent.indexOf(" OPR/") >= 0
          , a = "undefined" !== typeof window.InstallTrigger
          , n = /constructor/i.test(window.HTMLElement) || function(e) {
            return "[object SafariRemoteNotification]" === (!window["safari"] || typeof window.safari !== "undefined" && window.safari.pushNotification).toString()
        }()
          , s = !!document.documentMode
          , i = !s && !!window.StyleMedia
          , c = !!window.chrome && (!!window.chrome.webstore || !!window.chrome.runtime || !!window.chrome.loadTimes)
          , l = navigator.userAgent.match(/SamsungBrowser/i)
          , _ = ()=>o ? "Opera" : l ? "Samsung" : a ? "Firefox" : n ? "Safari" : s ? "IE" : i ? "Edge" : c ? "Chrome" : void 0
          , d = ()=>!!navigator.userAgent.match(/iphone|ipod|ipad/i)
          , u = ()=>!!navigator.userAgent.match(/iphone|ipod|ipad/i) && !!navigator.userAgent.match("Version")
          , f = ()=>!!window.navigator.userAgent.match(/Trident\/7\./i);
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(o, "isOpera", "/home/vsts/work/1/s/src/utils/browser-detection.ts"),
            e.register(a, "isFirefox", "/home/vsts/work/1/s/src/utils/browser-detection.ts"),
            e.register(n, "isSafari", "/home/vsts/work/1/s/src/utils/browser-detection.ts"),
            e.register(s, "isIE", "/home/vsts/work/1/s/src/utils/browser-detection.ts"),
            e.register(i, "isEdge", "/home/vsts/work/1/s/src/utils/browser-detection.ts"),
            e.register(c, "isChrome", "/home/vsts/work/1/s/src/utils/browser-detection.ts"),
            e.register(l, "isSamsung", "/home/vsts/work/1/s/src/utils/browser-detection.ts"),
            e.register(_, "getBrowser", "/home/vsts/work/1/s/src/utils/browser-detection.ts"),
            e.register(d, "isIOS", "/home/vsts/work/1/s/src/utils/browser-detection.ts"),
            e.register(u, "isIOSSafari", "/home/vsts/work/1/s/src/utils/browser-detection.ts"),
            e.register(f, "isIE11", "/home/vsts/work/1/s/src/utils/browser-detection.ts"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "3145f0c7f3b91ffef7d2": (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            f: ()=>CancelController
        }),
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        class CancelController {
            constructor() {
                this.methods = [],
                this.cancelled = !1,
                this.register = (e=>(this.methods.push(e),
                this.cancelled))
            }
            cancel() {
                this.cancelled = !0,
                this.methods.map(e=>e())
            }
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && e.register(CancelController, "CancelController", "/home/vsts/work/1/s/src/utils/cancel-controller.ts")
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    c90b79b40c6328f03c9e: (e,t,r)=>{
        "use strict";
        r.d(t, {
            lY: ()=>d,
            ve: ()=>m,
            vq: ()=>p,
            oo: ()=>h,
            lC: ()=>b,
            dk: ()=>v,
            Dk: ()=>E
        });
        var o = r("e2161c2bb2fb866f34ce");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        function a(e) {
            var t = "0123456789abcdef"
              , r = e;
            return 0 == r || isNaN(e) ? "00" : (r = Math.round(Math.min(Math.max(0, r), 255)),
            t.charAt((r - r % 16) / 16) + t.charAt(r % 16))
        }
        function n(e) {
            return a(e[0]) + a(e[1]) + a(e[2])
        }
        function s(e) {
            return "#" == e.charAt(0) ? e.substring(1, 7) : e
        }
        function i(e) {
            var t = [];
            return t[0] = parseInt(s(e).substring(0, 2), 16),
            t[1] = parseInt(s(e).substring(2, 4), 16),
            t[2] = parseInt(s(e).substring(4, 6), 16),
            t
        }
        function c(e, t, r) {
            r /= 100;
            const o = t * Math.min(r, 1 - r) / 100
              , a = t=>{
                const a = (t + e / 30) % 12
                  , n = r - o * Math.max(Math.min(a - 3, 9 - a, 1), -1);
                return Math.round(255 * n).toString(16).padStart(2, "0")
            }
            ;
            return `#${a(0)}${a(8)}${a(4)}`
        }
        const l = e=>{
            let[t,r,o] = i(e);
            return b(t, r, o)
        }
        ;
        function _(e, t) {
            return Math.floor(Math.random() * (t - e) + e)
        }
        function d() {
            return c(_(0, 360), 100, 50)
        }
        function u() {
            const e = _(0, 360)
              , t = (e + _(55, 305)) % 360;
            return [c(e, 100, 50), c(t, 100, 50)]
        }
        function f(e, t, r) {
            var o = i(e)
              , a = i(t)
              , s = r
              , c = 0
              , l = [];
            for (let e = 0; e < s; e++) {
                var _ = [];
                c += 1 / s,
                _[0] = o[0] * c + (1 - c) * a[0],
                _[1] = o[1] * c + (1 - c) * a[1],
                _[2] = o[2] * c + (1 - c) * a[2],
                l.push("#" + n(_))
            }
            return l
        }
        const m = (e,t,r)=>{
            let o, a, n;
            if (0 == t)
                o = a = n = r;
            else {
                const s = (e,t,r)=>(r < 0 && (r += 1),
                r > 1 && (r -= 1),
                r < 1 / 6 ? e + 6 * (t - e) * r : r < .5 ? t : r < 2 / 3 ? e + (t - e) * (2 / 3 - r) * 6 : e)
                  , i = r < .5 ? r * (1 + t) : r + t - r * t
                  , c = 2 * r - i;
                o = s(c, i, e + 1 / 3),
                a = s(c, i, e),
                n = s(c, i, e - 1 / 3)
            }
            return [Math.round(255 * o), Math.round(255 * a), Math.round(255 * n)]
        }
          , p = (e,t,r)=>"#" + ((1 << 24) + (e << 16) + (t << 8) + r).toString(16).slice(1)
          , h = e=>{
            const t = parseInt(e, 16);
            return [t >> 16 & 255, t >> 8 & 255, 255 & t]
        }
          , b = (e,t,r)=>{
            let o = e / 255
              , a = t / 255
              , n = r / 255;
            const s = Math.max(o, a, n)
              , i = Math.min(o, a, n);
            let c = (s + i) / 2
              , l = (s + i) / 2
              , _ = (s + i) / 2;
            if (s == i)
                c = 0,
                l = 0;
            else {
                const e = s - i;
                switch (l = _ > .5 ? e / (2 - s - i) : e / (s + i),
                s) {
                case o:
                    c = (a - n) / e + (a < n ? 6 : 0);
                    break;
                case a:
                    c = (n - o) / e + 2;
                    break;
                case n:
                    c = (o - a) / e + 4
                }
                c /= 6
            }
            return [Math.floor(360 * c), Math.floor(100 * l), Math.floor(100 * _)]
        }
          , v = (e,t,r)=>{
            const [o,a,n] = e
              , [s,i,c] = b(o, a, n)
              , [l,_,d] = m(s / 360, i * t / 100, c * r / 100);
            return [l, _, d]
        }
          , E = (e,t,r)=>{
            return [(0,
            o.t)(e[0], t[0], r), (0,
            o.t)(e[1], t[1], r), (0,
            o.t)(e[2], t[2], r)]
        }
        ;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(a, "hex", "/home/vsts/work/1/s/src/utils/colors.ts"),
            e.register(n, "convertToHex", "/home/vsts/work/1/s/src/utils/colors.ts"),
            e.register(s, "trim", "/home/vsts/work/1/s/src/utils/colors.ts"),
            e.register(i, "hexToRGB", "/home/vsts/work/1/s/src/utils/colors.ts"),
            e.register(c, "hslToHex", "/home/vsts/work/1/s/src/utils/colors.ts"),
            e.register(l, "hexToHsl", "/home/vsts/work/1/s/src/utils/colors.ts"),
            e.register(_, "getRandomInt", "/home/vsts/work/1/s/src/utils/colors.ts"),
            e.register(d, "getBrightHexColor", "/home/vsts/work/1/s/src/utils/colors.ts"),
            e.register(u, "getRandomColorPair", "/home/vsts/work/1/s/src/utils/colors.ts"),
            e.register(f, "getColorGradient", "/home/vsts/work/1/s/src/utils/colors.ts"),
            e.register(m, "hslToRgb", "/home/vsts/work/1/s/src/utils/colors.ts"),
            e.register(p, "rgbToHex", "/home/vsts/work/1/s/src/utils/colors.ts"),
            e.register(h, "hexToRgb", "/home/vsts/work/1/s/src/utils/colors.ts"),
            e.register(b, "rgbToHsl", "/home/vsts/work/1/s/src/utils/colors.ts"),
            e.register(v, "changeSaturationAndLightnessRgb", "/home/vsts/work/1/s/src/utils/colors.ts"),
            e.register(E, "mixColors", "/home/vsts/work/1/s/src/utils/colors.ts"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    b194d90914e83db0f428: (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>n
        }),
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        function o(e, t, r, o) {
            if (o && (e *= 100,
            t = t.map(e=>100 * e),
            r = r.map(e=>100 * e)),
            e < t[0] || e > t[1])
                return NaN;
            var a = t[1] - t[0]
              , n = r[1] - r[0];
            const s = (e - t[0]) * n / a + r[0];
            return o ? s / 100 : s
        }
        const a = o
          , n = a;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(o, "convertToRange", "/home/vsts/work/1/s/src/utils/convertToRange.ts"),
            e.register(a, "default", "/home/vsts/work/1/s/src/utils/convertToRange.ts"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "4f28e23b4abf5c56b2d8": (e,t,r)=>{
        "use strict";
        r.d(t, {
            l: ()=>n
        });
        var o = r("de098c4daf91477f9cbc")
          , a = r("557b135c7198835d5410");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const n = function() {
            var e = (0,
            o.Z)(function*(e, t) {
                const r = yield(0,
                a.Z)((0,
                o.Z)(function*() {
                    return fetch(e, {
                        signal: t
                    })
                }), {
                    functionName: "downloadBlob"
                });
                if (!r.ok)
                    throw new Error("Request failed");
                return yield r.blob()
            });
            return function(t, r) {
                return e.apply(this, arguments)
            }
        }();
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && e.register(n, "downloadBlob", "/home/vsts/work/1/s/src/utils/downloadBlob.ts")
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    ae7c73bc2a0288473236: (e,t,r)=>{
        "use strict";
        r.d(t, {
            S: ()=>s
        });
        var o = r("de098c4daf91477f9cbc")
          , a = r("09bf4ee68fa3c88cf6b2")
          , n = r("4f28e23b4abf5c56b2d8");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const s = function() {
            var e = (0,
            o.Z)(function*(e, t, r) {
                const o = yield(0,
                n.l)(e, r)
                  , s = a.extension(o.type);
                return new File([o],`${t}.${s}`)
            });
            return function(t, r, o) {
                return e.apply(this, arguments)
            }
        }();
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && e.register(s, "downloadFile", "/home/vsts/work/1/s/src/utils/downloads.ts")
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    c0326c9d650a633c92d0: (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            V: ()=>featureFlags
        }),
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        const FLAGS = ["theme-light", "theme-grey", "theme-dark", "background-shader-single-gradient", "background-shader-gradients", "background-shader-ripples", "background-shader-water", "background-shader-off", "sync-user-library-to-device"]
          , LOCAL_STORAGE_KEY = "spFeatureFlags";
        class FeatureFlags {
            constructor(e, t) {
                this.flags = void 0,
                this.on = void 0,
                this.localStorageKey = void 0,
                this.flags = e,
                this.localStorageKey = t,
                this.on = [];
                const r = localStorage.getItem(this.localStorageKey);
                if (r && r.length > 0) {
                    const e = JSON.parse(r);
                    Array.isArray(e) && (this.on = e)
                }
            }
            updateFromUrlParams() {
                const e = new URLSearchParams(location.search);
                if (e.has("on")) {
                    const t = e.get("on");
                    this.setFlag(t)
                }
                if (e.has("off")) {
                    const t = e.get("off");
                    this.clearFlag(t)
                }
            }
            setFlag(e) {
                if (!this.flags.includes(e))
                    throw new Error(`Unknown feature flag ${e}`);
                this.on.includes(e) || (this.on.push(e),
                this.commitFlags())
            }
            clearFlag(e) {
                if (!this.flags.includes(e))
                    throw new Error(`Unknown feature flag ${e}`);
                this.on.includes(e) && (this.on = this.on.filter(t=>t !== e),
                this.commitFlags())
            }
            clearAll() {
                this.on = [],
                this.commitFlags()
            }
            hasFlag(e) {
                return this.flags.includes(e) && this.on.includes(e)
            }
            commitFlags() {
                localStorage.setItem(this.localStorageKey, JSON.stringify(this.on))
            }
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        const featureFlags = new FeatureFlags(FLAGS,LOCAL_STORAGE_KEY);
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(FLAGS, "FLAGS", "/home/vsts/work/1/s/src/utils/feature-flags.ts"),
            e.register(LOCAL_STORAGE_KEY, "LOCAL_STORAGE_KEY", "/home/vsts/work/1/s/src/utils/feature-flags.ts"),
            e.register(FeatureFlags, "FeatureFlags", "/home/vsts/work/1/s/src/utils/feature-flags.ts"),
            e.register(featureFlags, "featureFlags", "/home/vsts/work/1/s/src/utils/feature-flags.ts"))
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    "3c15b862d899a16e9481": (e,t,r)=>{
        "use strict";
        r.d(t, {
            vJ: ()=>o,
            ee: ()=>a,
            $r: ()=>n
        }),
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const o = e=>{
            var t;
            let r = e.metadata && e.metadata.artists && e.metadata.artists.length > 0 ? e.metadata.artists[0] : null !== (t = e.metadata) && void 0 !== t && t.artist ? e.metadata.artist : e.artist ? e.artist : "";
            return r
        }
          , a = e=>{
            var t;
            let r = null !== e && void 0 !== e && e.title ? e.title : null !== e && void 0 !== e && e.metadata && null !== e && void 0 !== e && e.metadata.title ? null === e || void 0 === e ? void 0 : null === (t = e.metadata) || void 0 === t ? void 0 : t.title : "";
            return r
        }
          , n = (e,t)=>e;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(o, "filteredTrackArtist", "/home/vsts/work/1/s/src/utils/filteredTrackMetadata.js"),
            e.register(a, "filterTrackTitle", "/home/vsts/work/1/s/src/utils/filteredTrackMetadata.js"),
            e.register(n, "filteredTrackTitle", "/home/vsts/work/1/s/src/utils/filteredTrackMetadata.js"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    da23a0dbab1fa75005eb: (e,t,r)=>{
        "use strict";
        r.d(t, {
            hA: ()=>a,
            kd: ()=>n,
            Rx: ()=>s,
            pG: ()=>i
        });
        var o = r("3f02c5877d4690b5563c");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const a = 120
          , n = 1
          , s = e=>{
            if (void 0 === e)
                return 180;
            return -1 === (0,
            o.Ee)(e, "1.0.1551") ? 180 : 250
        }
          , i = e=>{
            switch (e) {
            case 2:
                return "TWO";
            case 3:
                return "THREE";
            case 4:
                return "FOUR";
            default:
                return ""
            }
        }
        ;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(a, "DEFAULT_BPM", "/home/vsts/work/1/s/src/utils/forms.ts"),
            e.register(n, "MIN_BPM", "/home/vsts/work/1/s/src/utils/forms.ts"),
            e.register(s, "getMaxBpm", "/home/vsts/work/1/s/src/utils/forms.ts"),
            e.register(i, "numberAsWord", "/home/vsts/work/1/s/src/utils/forms.ts"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "4f64e9a1f5202b774215": (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>s
        });
        var o = r("89fa59dfd48f288c4600");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const a = (0,
        o.Z)()
          , n = a
          , s = n;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(a, "history", "/home/vsts/work/1/s/src/utils/history.ts"),
            e.register(n, "default", "/home/vsts/work/1/s/src/utils/history.ts"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    a251fa0b0449b11ba1dd: (e,t,r)=>{
        "use strict";
        r.d(t, {
            T: ()=>s
        });
        var o = r("c7b40aca13c4330396a9")
          , a = r.n(o);
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        function n() {
            return a()().replace(/-/g, "")
        }
        function s() {
            return n().substring(0, 8)
        }
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(n, "idGen", "/home/vsts/work/1/s/src/utils/ids.ts"),
            e.register(s, "shortId", "/home/vsts/work/1/s/src/utils/ids.ts"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    e2161c2bb2fb866f34ce: (e,t,r)=>{
        "use strict";
        r.d(t, {
            t: ()=>o
        }),
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        function o(e, t, r) {
            return e * (1 - r) + t * r
        }
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && e.register(o, "lerp", "/home/vsts/work/1/s/src/utils/lerp.ts")
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    a60417c8351c73d4238a: (e,t,r)=>{
        "use strict";
        r.d(t, {
            Rp: ()=>o,
            BS: ()=>n
        }),
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        function o(e, t, r) {
            if (r >= e.length) {
                let t = r - e.length + 1;
                for (; t--; )
                    e.push(void 0)
            }
            const o = e.splice(t, 1)[0];
            e.splice(r, 0, o)
        }
        const a = e=>{
            if (!e.target)
                return !1;
            let t = e.target;
            return "svg" === t.tagName ? t = e.target.parentNode : "path" === t.tagName && (t = e.target.parentNode.parentNode),
            !("BUTTON" !== t.tagName || !t.classList.contains("buy-button__play"))
        }
        ;
        function n(e, t) {
            return e && "string" === typeof e ? e.substring(0, t) : e
        }
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(o, "arrayMove", "/home/vsts/work/1/s/src/utils/misc.ts"),
            e.register(a, "clickedPlayButton", "/home/vsts/work/1/s/src/utils/misc.ts"),
            e.register(n, "maxLength", "/home/vsts/work/1/s/src/utils/misc.ts"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "33f12881a4b6c417b540": (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>a
        }),
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const o = e=>{
            window.preventScroll && e.preventDefault()
        }
          , a = o;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && e.register(o, "default", "/home/vsts/work/1/s/src/utils/preventScrollHandler.js")
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "971fd0ff834a938d5a3d": (module,__webpack_exports__,__webpack_require__)=>{
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            C: ()=>DeferredPromise
        }),
        module = __webpack_require__.hmd(module),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            e && e(module)
        }();
        var __signature__ = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        ;
        class DeferredPromise {
            constructor() {
                this.promise = void 0,
                this.reject = void 0,
                this.resolve = void 0,
                this.promise = new Promise((e,t)=>{
                    this.reject = t,
                    this.resolve = e
                }
                )
            }
            __reactstandin__regenerateByEval(key, code) {
                this[key] = eval(code)
            }
        }
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && e.register(DeferredPromise, "DeferredPromise", "/home/vsts/work/1/s/src/utils/promises.ts")
        }(),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            e && e(module)
        }()
    }
    ,
    "553c2c26a5c8a1e6fec3": (e,t,r)=>{
        "use strict";
        r.d(t, {
            s: ()=>a
        });
        var o = r("8af190b70a6bc55c6f1b");
        function a() {
            const e = (0,
            o.useRef)(!1);
            return (0,
            o.useEffect)(function() {
                return e.current = !0,
                function() {
                    e.current = !1
                }
            }, []),
            (0,
            o.useCallback)(function() {
                return e.current
            }, [e])
        }
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }(),
        ("undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default.signature : function(e) {
            return e
        }
        )(a, "useRef{mountedRef}\nuseEffect{}\nuseCallback{}"),
        function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && e.register(a, "useMounted", "/home/vsts/work/1/s/src/utils/react-is-mounted.ts")
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "63922d5ff7825dcb0b86": (e,t,r)=>{
        "use strict";
        r.d(t, {
            b3: ()=>o,
            xb: ()=>a,
            vu: ()=>n
        }),
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        function o(e) {
            var t = document.createElement("a");
            return t.href = e,
            t.host && t.host != window.location.host
        }
        function a(e) {
            return !e || 0 === e.length
        }
        function n(e) {
            return !isNaN(Number(e))
        }
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(o, "validURL", "/home/vsts/work/1/s/src/utils/regex.ts"),
            e.register(a, "isEmpty", "/home/vsts/work/1/s/src/utils/regex.ts"),
            e.register(n, "isValidBpm", "/home/vsts/work/1/s/src/utils/regex.ts"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "5a530d159ab46bd0cea7": (e,t,r)=>{
        "use strict";
        r.d(t, {
            Z: ()=>n
        }),
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const o = ()=>{
            const e = document.querySelectorAll(".ye-waveform--loading")
              , t = document.querySelectorAll(".mini-player__stems--loading")
              , r = document.querySelectorAll(".mini-player-shader__stems--loading");
            e.length > 0 && e.forEach(e=>{
                e.style.animationName = "none",
                requestAnimationFrame(()=>{
                    setTimeout(()=>{
                        e.style.animationName = ""
                    }
                    , 0)
                }
                )
            }
            ),
            t.length > 0 && t.forEach(e=>{
                e.style.animationName = "none",
                requestAnimationFrame(()=>{
                    setTimeout(()=>{
                        e.style.animationName = ""
                    }
                    , 0)
                }
                )
            }
            ),
            r.length > 0 && r.forEach(e=>{
                e.style.animationName = "none",
                requestAnimationFrame(()=>{
                    setTimeout(()=>{
                        e.style.animationName = ""
                    }
                    , 0)
                }
                )
            }
            )
        }
          , a = o
          , n = a;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(o, "restartLoadingAnimations", "/home/vsts/work/1/s/src/utils/restartLoadingAnimations.ts"),
            e.register(a, "default", "/home/vsts/work/1/s/src/utils/restartLoadingAnimations.ts"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    b61b44d5123c4032e9da: (e,t,r)=>{
        "use strict";
        r.d(t, {
            g: ()=>o
        }),
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const o = e=>{
            document.getElementsByTagName("meta").namedItem("theme-color").setAttribute("content", e)
        }
        ;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && e.register(o, "setThemeColor", "/home/vsts/work/1/s/src/utils/setThemeColor.ts")
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "957d24b63b1050799be8": (e,t,r)=>{
        "use strict";
        r.d(t, {
            yU: ()=>c,
            Dc: ()=>l
        }),
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const o = {
            background: "#747277",
            main: "#252525"
        }
          , a = {
            background: "#959595",
            main: "#252525"
        }
          , n = {
            background: "#787C88",
            main: "#252525"
        }
          , s = {
            background: "white",
            main: "#252525"
        }
          , i = {
            background: "#000000",
            main: "#525252"
        }
          , c = {
            dark_grey: o,
            grey: a,
            light: s,
            dark: i,
            default: n
        };
        function l(e) {
            document.documentElement.style.setProperty("--color-background", e.background),
            document.documentElement.style.setProperty("--color-main", e.main)
        }
        function _(e) {
            document.documentElement.style.setProperty("--color-main", e)
        }
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(o, "THEME_DARK_GREY", "/home/vsts/work/1/s/src/utils/themes.ts"),
            e.register(a, "THEME_GREY", "/home/vsts/work/1/s/src/utils/themes.ts"),
            e.register(n, "THEME_GREY2", "/home/vsts/work/1/s/src/utils/themes.ts"),
            e.register(s, "THEME_LIGHT", "/home/vsts/work/1/s/src/utils/themes.ts"),
            e.register(i, "THEME_DARK", "/home/vsts/work/1/s/src/utils/themes.ts"),
            e.register(c, "THEMES", "/home/vsts/work/1/s/src/utils/themes.ts"),
            e.register(l, "setTheme", "/home/vsts/work/1/s/src/utils/themes.ts"),
            e.register(_, "setColor", "/home/vsts/work/1/s/src/utils/themes.ts"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "6792dda0bcc4906dd1ad": (e,t,r)=>{
        "use strict";
        r.d(t, {
            $: ()=>o
        }),
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const o = (e,t,r)=>{
            var o;
            void 0 === t && (t = !1),
            void 0 === r && (r = !1),
            void 0 !== document.hidden ? o = {
                hidden: "hidden",
                visibilitychange: "visibilitychange"
            } : void 0 !== document.webkitHidden ? o = {
                hidden: "webkitHidden",
                visibilitychange: "webkitvisibilitychange"
            } : void 0 !== document.mozHidden ? o = {
                hidden: "mozHidden",
                visibilitychange: "mozvisibilitychange"
            } : void 0 !== document.msHidden && (o = {
                hidden: "msHidden",
                visibilitychange: "msvisibilitychange"
            });
            const a = (e,t,r,o,a)=>{
                for (var n = 0; n < t.length; ++n)
                    e.addEventListener(t[n], r, {
                        capture: o,
                        passive: a
                    })
            }
              , n = (e,t,r,o,a)=>{
                for (var n = 0; n < t.length; ++n)
                    e.removeEventListener(t[n], r, {
                        capture: o,
                        passive: a
                    })
            }
              , s = ()=>{}
            ;
            var i = navigator.userAgent.toLowerCase()
              , c = r || i.indexOf("iphone") >= 0 && i.indexOf("like iphone") < 0 || i.indexOf("ipad") >= 0 && i.indexOf("like ipad") < 0 || i.indexOf("ipod") >= 0 && i.indexOf("like ipod") < 0 || i.indexOf("mac os x") >= 0 && navigator.maxTouchPoints > 0;
            console.log("unmute is ios: ", c);
            var l = !0;
            const _ = ()=>{
                var e = !(!t && (o && document[o.hidden] || c && !document.hasFocus()));
                e !== l && (l = e,
                v(!1),
                f())
            }
              , d = ()=>{
                _()
            }
            ;
            o && a(document, [o.visibilitychange], d, !0, !0);
            const u = e=>{
                e && e.target !== window || _()
            }
            ;
            c && a(window, ["focus", "blur"], u, !0, !0);
            const f = ()=>{
                var t;
                l ? "running" !== e.state && "closed" !== e.state && A && (t = e.resume()) && t.then(s, s).catch(s) : "running" === e.state && (t = e.suspend()) && t.then(s, s).catch(s)
            }
              , m = e=>{
                e && e.unmute_handled || (e.unmute_handled = !0,
                f())
            }
            ;
            a(e, ["statechange"], m, !0, !0),
            e.onstatechange || (e.onstatechange = m);
            var p = null;
            function h(e, t) {
                for (var r = t; e > 1; e--)
                    r += t;
                return r
            }
            var b = "data:audio/mpeg;base64,//uQx" + h(23, "A") + "WGluZwAAAA8AAAACAAACcQCA" + h(16, "gICA") + h(66, "/") + "8AAABhTEFNRTMuMTAwA8MAAAAAAAAAABQgJAUHQQAB9AAAAnGMHkkI" + h(320, "A") + "//sQxAADgnABGiAAQBCqgCRMAAgEAH" + h(15, "/") + "7+n/9FTuQsQH//////2NG0jWUGlio5gLQTOtIoeR2WX////X4s9Atb/JRVCbBUpeRUq" + h(18, "/") + "9RUi0f2jn/+xDECgPCjAEQAABN4AAANIAAAAQVTEFNRTMuMTAw" + h(97, "V") + "Q==";
            const v = e=>{
                if (c)
                    if (l) {
                        if (e) {
                            if (!p) {
                                var t = document.createElement("div");
                                t.innerHTML = "<audio x-webkit-airplay='deny'></audio>",
                                (p = t.children.item(0)).controls = !1,
                                p.disableRemotePlayback = !0,
                                p.preload = "auto",
                                p.src = b,
                                p.loop = !0,
                                p.load()
                            }
                            if (p.paused) {
                                var r = p.play();
                                r && r.then(s, E).catch(E)
                            }
                        }
                    } else
                        E()
            }
              , E = ()=>{
                p && (p.src = "about:blank",
                p.load(),
                p = null)
            }
            ;
            var g = ["click", "contextmenu", "auxclick", "dblclick", "mousedown", "mouseup", "touchend", "keydown", "keyup"]
              , A = !1;
            const y = ()=>{
                A = !0,
                v(!0),
                f()
            }
            ;
            return a(window, g, y, !0, !0),
            {
                dispose: ()=>{
                    E(),
                    o && n(document, [o.visibilitychange], d, !0, !0),
                    c && n(window, ["focus", "blur"], u, !0, !0),
                    n(window, g, y, !0, !0),
                    n(e, ["statechange"], m, !0, !0),
                    e.onstatechange === m && (e.onstatechange = null)
                }
            }
        }
        ;
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && e.register(o, "unmute", "/home/vsts/work/1/s/src/utils/unmute.js")
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "50adafd66d905a6a5399": (e,t,r)=>{
        "use strict";
        r.d(t, {
            Xb: ()=>c,
            tJ: ()=>l,
            SJ: ()=>d
        });
        var o = r("990057777e9b2b7543e8")
          , a = r("de098c4daf91477f9cbc")
          , n = r("590e518eaa9efe3ab6d3");
        function s(e, t) {
            var r = Object.keys(e);
            if (Object.getOwnPropertySymbols) {
                var o = Object.getOwnPropertySymbols(e);
                t && (o = o.filter(function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                })),
                r.push.apply(r, o)
            }
            return r
        }
        function i(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = null != arguments[t] ? arguments[t] : {};
                t % 2 ? s(Object(r), !0).forEach(function(t) {
                    (0,
                    o.Z)(e, t, r[t])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : s(Object(r)).forEach(function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                })
            }
            return e
        }
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const c = function() {
            var e = (0,
            a.Z)(function*() {
                if (navigator && navigator.usb) {
                    const e = yield navigator.usb.getDevices();
                    return e.length > 0 && !!e.map(e=>e.productName ? e.productName : null).find(e=>"STEM PLAYER" === e.toUpperCase())
                }
                return !1
            });
            return function() {
                return e.apply(this, arguments)
            }
        }()
          , l = function() {
            var e = (0,
            a.Z)(function*(e, t, r, o, a, s) {
                const {fetchDeviceAlbums: c, deviceAlbums: l, deviceConnected: d} = s;
                if (!d)
                    return !1;
                if ("" === e.trim())
                    return !1;
                if ("" === t.trim())
                    return !1;
                if ("" === r.trim())
                    return !1;
                if (!(0,
                n.G5)(o))
                    return !1;
                if (!(0,
                n.G5)(a))
                    return !1;
                yield c();
                try {
                    const n = yield _(e, s);
                    if (null !== n) {
                        const e = n.tracks[0]
                          , c = i(i({}, e), {}, {
                            title: t,
                            artist: r,
                            colors: [o, a]
                        });
                        return yield s.editTrackMetadata(n.id, e.id, c),
                        !0
                    }
                    return !1
                } catch (e) {
                    return console.error(e),
                    !1
                }
            });
            return function(t, r, o, a, n, s) {
                return e.apply(this, arguments)
            }
        }()
          , _ = function() {
            var e = (0,
            a.Z)(function*(e, t) {
                const {fetchDeviceAlbums: r, deviceAlbums: o, deviceConnected: a} = t;
                if (!1 === a)
                    return null;
                yield r();
                const n = Object.values(o).find(t=>{
                    if (t.tracks.filter(t=>t.global_id === e).length > 0)
                        return t
                }
                );
                if (void 0 === n)
                    return null;
                const s = n.tracks.filter(t=>t.global_id === e)
                  , i = JSON.parse(JSON.stringify(n));
                return i.tracks = JSON.parse(JSON.stringify(s)),
                i
            });
            return function(t, r) {
                return e.apply(this, arguments)
            }
        }()
          , d = function() {
            var e = (0,
            a.Z)(function*(e, t, r) {
                const o = [];
                let n = !1;
                return e.forEach(function() {
                    var e = (0,
                    a.Z)(function*(e) {
                        if (void 0 !== e.deviceTrackInfoForReference && null !== e.deviceTrackInfoForReference && void 0 !== e.libraryTrackInfoForReference && null !== e.libraryTrackInfoForReference) {
                            const a = e.deviceTrackInfoForReference
                              , s = e.libraryTrackInfoForReference;
                            let c = !1;
                            const l = i({}, a);
                            s.track_title !== a.title && null !== s.track_title && (c = !0,
                            l.title = s.track_title),
                            s.artist !== a.artist && null !== s.artist && (c = !0,
                            l.artist = s.artist),
                            (s.color1 !== a.colors[0] || s.color2 !== a.colors[1] && null !== s.color1 && null !== s.color2) && (c = !0,
                            l.colors = [s.color1, s.color2]),
                            c && (n || (r(!0),
                            n = !0),
                            o.push(l),
                            yield t(l.albumId, l.trackId, l))
                        }
                    });
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }()),
                n && r(!1),
                o
            });
            return function(t, r, o) {
                return e.apply(this, arguments)
            }
        }();
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(c, "isConnectedInAnotherTab", "/home/vsts/work/1/s/src/utils/usb.ts"),
            e.register(l, "editUserTrackMetadataWithTrackId", "/home/vsts/work/1/s/src/utils/usb.ts"),
            e.register(_, "searchTrackLocationOnDevice", "/home/vsts/work/1/s/src/utils/usb.ts"),
            e.register(d, "calculateSyncUserLibrary", "/home/vsts/work/1/s/src/utils/usb.ts"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "590e518eaa9efe3ab6d3": (e,t,r)=>{
        "use strict";
        r.d(t, {
            oH: ()=>o,
            uo: ()=>a,
            G5: ()=>n
        }),
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        function o(e) {
            return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)
        }
        function a(e) {
            return !!(e.length >= 8)
        }
        function n(e) {
            if ("" === e.trim())
                return !1;
            if ("#" != e[0])
                return !1;
            if (4 != e.length && 7 != e.length)
                return !1;
            for (let t = 1; t < e.length; t++)
                if (!(e[t].charCodeAt(0) <= "0".charCodeAt(0) && e[t].charCodeAt(0) <= 9 || e[t].charCodeAt(0) >= "a".charCodeAt(0) && e[t].charCodeAt(0) <= "f".charCodeAt(0) || e[t].charCodeAt(0) >= "A".charCodeAt(0) || e[t].charCodeAt(0) <= "F".charCodeAt(0)))
                    return !1;
            return !0
        }
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(o, "validateEmail", "/home/vsts/work/1/s/src/utils/validate.ts"),
            e.register(a, "validatePassword", "/home/vsts/work/1/s/src/utils/validate.ts"),
            e.register(n, "validHexaCode", "/home/vsts/work/1/s/src/utils/validate.ts"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "238af0e74d3daf256b28": (e,t,r)=>{
        "use strict";
        r.d(t, {
            lo: ()=>a,
            f1: ()=>s,
            tX: ()=>i,
            xd: ()=>c,
            Jb: ()=>l
        });
        var o = r("e2161c2bb2fb866f34ce");
        e = r.hmd(e),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.enterModule : void 0;
            t && t(e)
        }();
        "undefined" !== typeof reactHotLoaderGlobal && reactHotLoaderGlobal.default.signature;
        const a = [.1, .1];
        function n(e) {
            const t = {};
            return Object.keys(e).map(r=>{
                t[r] = e[r].map(e=>0 === e ? e : e / 100)
            }
            ),
            t
        }
        function s(e) {
            return e.map(e=>0 === e ? e : e / 100)
        }
        function i(e, t, r, o, a) {
            if (a || 0 === r || t === r)
                return 0;
            if (e) {
                const r = Math.round(t * o);
                return r >= e.length ? 0 : e[r] / 100
            }
            return 0
        }
        function c(e, t) {
            const r = e.length / t
              , a = Math.floor(r / 10) || 1;
            let n = [];
            if (t <= 0)
                return n;
            if (!e || 0 === e.length) {
                for (let e = 0; e < t; e += 1)
                    n.push(0);
                return n
            }
            if (e.length > t)
                for (let o = 0; o < t; o += 1) {
                    const t = Math.floor(o * r)
                      , s = Math.floor(t + r);
                    let i = 0;
                    for (let r = t; r < s; r += a) {
                        const t = (e[r] - 50) / 100;
                        t > i && (i = t)
                    }
                    n.push(i)
                }
            else if (e.length < t)
                for (let r = 0; r < t; r += 1) {
                    const a = t / (e.length - 1)
                      , s = Math.floor(r / a)
                      , i = s * a
                      , c = Math.min(i + a, t - 1) - i
                      , l = (0,
                    o.t)(e[s], e[s + 1], (r - i) / c);
                    n.push(l)
                }
            else
                n = e;
            let s = 0;
            for (let e = 0; e < n.length; e += 1) {
                const t = n[e];
                t > s && (s = t)
            }
            return s > 0 ? n.map(e=>e / s) : n
        }
        function l(e) {
            return void 0 !== e && void 0 !== e.vocals.intensity
        }
        !function() {
            var e = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.default : void 0;
            e && (e.register(a, "FALLBACK_WAVEFORM_DATA", "/home/vsts/work/1/s/src/utils/waveforms.ts"),
            e.register(n, "parseFetchedWaveformData", "/home/vsts/work/1/s/src/utils/waveforms.ts"),
            e.register(s, "parseFetchedWaveformDataIndividual", "/home/vsts/work/1/s/src/utils/waveforms.ts"),
            e.register(i, "getIntensityAtMoment", "/home/vsts/work/1/s/src/utils/waveforms.ts"),
            e.register(c, "getWaveformPeaks", "/home/vsts/work/1/s/src/utils/waveforms.ts"),
            e.register(l, "isIntensityWaveform", "/home/vsts/work/1/s/src/utils/waveforms.ts"))
        }(),
        function() {
            var t = "undefined" !== typeof reactHotLoaderGlobal ? reactHotLoaderGlobal.leaveModule : void 0;
            t && t(e)
        }()
    }
    ,
    "49c109a56bd7c2e379fd": (e,t,r)=>{
        "use strict";
        r.p
    }
    ,
    "2cc3443f170f92e6c07f": (e,t,r)=>{
        "use strict";
        r.p
    }
    ,
    "5fc49946715057305344": e=>{
        "use strict";
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJMAAACTCAMAAAC9O9snAAAAM1BMVEVHcEzn5+eZmZk6Ojr///////8BAQH///////////8gICBaWlqAgIC/v79wcHDPz8+vr6/mwDFFAAAACnRSTlMA////kP//YJ/fL/cdewAAAjFJREFUeNrtm91yqzAMhCP5ZNv6l/d/2l4AJyIDLReZyZZZ3woNn7Etay18uxG2jy+29u/2cWdrn2ISk5jEdH0mMzYmB1CMiskBAImKKQEAMJiYZiRM+k5n5lMhW3eZbt1RxiftLWK6OpPVUgYXk2UAcCqmMu8txsTEuAcvTI2JqQMAsvHN8YkrFty9u93JmBTHxXR1JmuDjakCSNLm0uYv/U5Ue3ADAHQ+bV4VM8UkJmnznpJzMRn4tHmSNv+z2rzO2pxrjqeXpXQvjE9TlTYXk5jEJCYx7TC13h/phnkJ20XrvR2YjrRx7xY8esj4pl6PTM9MNQpsywDyiKYas8rfDuhL9Jg2HikmpY6no6sN05zArg+neKQ0bfKjfOK0yXc8ysZk8aX1gGlOghbP5dnFs0fTwIlMN8UOtsVjx7T0Nv/MlDZM4zEQ+7g/Dd3a/y1TjkyO54++YWo7Y5c3Y+fnx67GsbPYpdVkO6aDOb6+amyy/hId2wmRMmeeNc6udY7PBaNd004s8FI8ysg+jkyl/xoLvJQQPUp5LH/zFEwtmhTHxSQmMYlJTP/b8MbGVF72a8ilz8Sy6pynGm+ds3KtO0s5k9U2FMfFJKY3MI2UOeucXDGTuM7pTExZdc5zrfPlvpQaQXFcTJdnaj6R/V9gKRaMOJgY75Iw7nfS5id3O0ptXuj+O1QcF5OY3sDUEjLZfYSJ8N6GtPnfzVWcUZsT3r+jvKeoOC4mMYlJTO9h+gYFPa2rrt8HfgAAAABJRU5ErkJggg=="
    }
    ,
    f82e462f9208bbad1e7d: e=>{
        "use strict";
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGAQMAAABL4HDHAAAAA1BMVEUCAwX/uU74AAAADklEQVQYGWMYBaNgiAIAArwAAa44Of4AAAAASUVORK5CYII="
    }
    ,
    "5c27a08769d295c50ba7": e=>{
        "use strict";
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGAQMAAABL4HDHAAAAA1BMVEUCAwX/uU74AAAADklEQVQYGWMYBaNgiAIAArwAAa44Of4AAAAASUVORK5CYII="
    }
    ,
    fbf27e791db133ce7130: e=>{
        "use strict";
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGAQMAAABL4HDHAAAAA1BMVEUCAwX/uU74AAAADklEQVQYGWMYBaNgiAIAArwAAa44Of4AAAAASUVORK5CYII="
    }
    ,
    "6d601a08887d6ace5f82": e=>{
        "use strict";
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJMAAACTBAMAAAB4yzYmAAAAKlBMVEVHcEz////////////////////rMiP+6+n4savuSTvxZlr0hn370c71mJFl8R0cAAAABXRSTlMAQL/fn/FtsKQAAAH+SURBVGje7ZrBTsJAEIZ5B+Pdd/AFfInaBsrRoVA41oByBRM4U03UIw1oPKIE8ViVEI9i4tO43SEEWg7E/AmFzF44zPTr7rAz/+ymmQxuHByDxknm0ACNI0EJamso00OhLN/1QKgmUReECojKIJRP5KRvVsBYWX7JS9++knTeCsr8HaNQNaIGCPVMdJ2+dAaiZrgFXuDCbrR/JHF2G1UPUai8XwQKfUeEfjPUO9EAJfTBvSeJIygW+lEPKPTfOKEviNBvKvTFELWvvq4kcQQlqDUo+1W309Wh1s7pUBfPdiJfpmM2aGf7zeNnVlEzciMfn+6ifoqFvUbxtirH5XTChoAq+ow+LxtzlEnaSbkWuUdwuOvoJhqtMtcvZbDUM56u1pVllJpHZD1VP6EuwC7jC4mWRhlsZTgzjCy/vsmvX6CsOKr0b1RkbWjr6gI7iQU6OqLRe/OLBbqxsEcXHMrJ4eh2Obqx4pnl/6Opw66cK7yglbAb1oM+EV0+6odbPVbSl/hmaPEuGWlni52nT57koKAEtWZUYafUHCFPqahWLbWnVFSzPcGdUs3+jSSOoHjYfeQpdbDX6QxEAS/ogAXZqH5I4uw26hN2z5DD3X7MoEIPTOcyblYooQfe9QFvICUHd17og1sU6nzfhR77GQlK6POE+4ykHkriCEpQy6g/MGwBw1GBk80AAAAASUVORK5CYII="
    }
    ,
    a87a3620bcdc8bcede82: e=>{
        "use strict";
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACABAMAAAAxEHz4AAAAG1BMVEUAAAD///8qKirn5+dgYGAKCgqdnZ0WFhbKyspAmfw5AAAA30lEQVRo3u2YPQrCQBCFHzE/9bghpIyK9hEPoIh9CB4g8QTBG6Tw3haLWqV6mJDwvnLZGXZn386DAYQQQogRud/IBH3OxQdmBZUgMeu4I1xP0kFQkAnabGId0AnoK/BFXADsZ6K/M68DtqXxTXUBHB5cfFS6alod0Cega4BIOhrfCTvfyJMCiPa/9S2AJ4C68nsG36xPvZVc8go799VgbA1CeyEoj37PEKE5L97Szmit+axvbI2VpYgtQ2jujwnoK9BFFLJ32bvsfZh6CfY+f3/X/EDzA80PND8QQggxS95IcyVUDKO7fgAAAABJRU5ErkJggg=="
    }
    ,
    "76464ae046d8581913da": e=>{
        "use strict";
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADABAMAAACg8nE0AAAAJFBMVEUAAAD///8kJCRAQEAMDAzo6OhSUlKfn5+IiIi5ubnNzc1ubm4SKgFiAAABi0lEQVR42u3avU4CQRQF4JNlVJTq+INhadbGQhtMjLFco/ZqTGwVYmyh0JrEF5A3UJ9AfUKrhbghBiXHZeV8FQUzN+wOd+6dDGBmZmZmZmZWlLsH7fxVsi8NsEWuSgPckPVy/4Jl8kkaINxfpf4r2ZSO97XzV843WtIAp+SlNMAeuVbuAPJHJH/J8mVqc0C+Zao3/eDCq/jiV16+2zw4fNTOXyPfpLnoqPS5SF54rZDP0gDRoJGI90w3mWZlsZ2MuqWoDQBRJ58z2gAQOikAHCSjUZNVV4006/fCgH0A73z9+p0euwBueQFgh83hqEmTfjfrWJfIOlAhG/mdrQlEZAxgQLayURPpkWdZ6l8gN4EqyTSXtmOgRjJBINnPRs1EgCB/RPKXPGaZhvHL9OR3yxQIYz/+YJSZTWP3Qzv/InktDSA/Ny1/hyN/RNFLLO5wosQtzr+nbmPljbj8KEGeKv7iaHldGkB9pKY/FLR54PtFs5CLfL/IzPeLCi+8fL+o+GVqZmZmZmZm9o1PQ+tJv3eZrrkAAAAASUVORK5CYII="
    }
    ,
    "0986e48731cd117d741e": e=>{
        "use strict";
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEABAMAAACuXLVVAAAAHlBMVEUAAAD///8tLS2oqKhpaWkdHR0ODg7n5+dMTExKSkq3eRUqAAABV0lEQVR42u3Zu0pDURAF0INK1HIbIdgl4AeYRlsVCz8jYGNpsLKzEGut/F2LPIjRCFFkCK5VH+Ye7uPcYU9rAAAAAAAAbLats/t+6QZek6PK63fGSW9UuIG9JHks3MBOkpz/5ztQ/g6UfwX15wBQ7/iy9vo3yWnpBoZJt/QkTpLKs7i8HyjfQPkjKH8J6z/D8oMIKCegEFAIKAQUAgpAQCGgEFAIKAQUAPCnOk/PH/94t9ejSRty1f/ux7i8bF5nXW/pvSz+8/fHeWittc4w3dHq1uDTslmdn7RbB4tdz2Dafm0nOVndHC0vm9dZ13YmFed933BacfBlxZXLZnXWtpukt9j5jpPctdYukhyubpCXl83qbN4Gyh9B+UtY/hnWH0QAsBFMz03PTc9Nz03PAdNz03PTc9Nz03OgnIBCQCGgEFAIKAABhYBCQCGgEFAAAAAAAADwe++DMWLR3aTgHgAAAABJRU5ErkJggg=="
    }
    ,
    f79c0e8d8cc00d078e63: e=>{
        "use strict";
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYAAAAGABAMAAABW6aiMAAAAIVBMVEUAAAD///8aGhp+fn60tLQ/Pz/19fWhoaFhYWHQ0NDj4+NZRzKrAAADHklEQVR42u3dv2/TQBjGcWOT/mB7oE1JpyCgQCeCYKc0EmtDJQYmDAtsFHXoWDHQlTCwB4n/k+Hy46xWiRobHY/y/UypEuXudXzx9e71mywDAAAAAAAAAAAAAAAAAAAAAAAAAADAso5fePf/u/TJuf83JemlcQA9Sbrj2/+8lKR21zaAQpKkp95DwHkQ2AewHgL4YhvARgjg3DaAbChJHd/+Z3uS9ME4gNZQ6hwZB5AVvz77XgUAAABqaj0/tJ7L5SfSTtc4gFuS9Ns4gBNJ2jEeAeF/Yt9RwMIWAaz6KWQ/iO2/RrN99wuZ/VTCfjIHAABQh/smn/02q/1Gt3uqgX2yh326DQtbqdkvbNmnXdonvvqnHtsnf/un3wMAgKQevvHu/wPplXP/i1JqnxsHMJCkbd/+5yNJ2u3aBsDCVmrcyccYqMn+W8j+OhCuxNabZO5zIf/ZKAAAAAAA/u73z6aPKzdXXfSfTR8/Pj3rzn+b4/4sfWXj9HD66vzi9bcr22pKUUo/J43Ft7c9iVZ+WiPpz9y3eSTp6+RthtLHyRPvpN2jK9pqzIGk9riF+E75Vilpa/yi3sIUv1G01Pg2Wrku4ty0uK2mhGXaH+GP+BbPzWj5NuT4zUuVXo9Xq4eSdDc83ouyAyttNWVNs0NUucm2J0l6n2XZZDtga87bDDRbLA05me3ZQZ98HHFbjQktd6KWx6fKMOrSvfDEnGHci/q2GR2HPDy+famtxvSiw1XZdymjLg0W3v98EH1Ga9FxGH+o25faIoBrnUI3lj6Fsn9+CtkPYvuv0crFZX/pC1me7ELmP5Wwn8wBAAAAAIBroThMYhSHSYx7aFKjOExqFIdJjuIwyVEcBgAArLQWxWGSKkrvnyemOExqLGylRnEYxkBNFIdJjuIw6bnPRgEAQFLue2Tuu5T2+8TuO/X2uRL8zDsB1MTCVnLueaP+mbv2udP22esAAAB1VAr5GKqUUnIUV2W0FJcTsxwBCyvn/edY2CKAVT+F7Aex/ddopSqjJfuphP1kDgAAAAAAAAAAAAAAAAAAAAAAAAAAALX8Bd42svDeufydAAAAAElFTkSuQmCC"
    }
    ,
    b966f52c481692c934b9: e=>{
        "use strict";
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIABAMAAAAGVsnJAAAAElBMVEUAAAD///82Njbx8fHMzMyamprN2Sk8AAACnUlEQVR42u3cTU4qQRiGUYO4AATnGHQu6gL8iXM17n8tijSGVMcuatCE5D1n5k2lkO/SCu2TOjsDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgH/cvj5+Jj//m9mPl9znP1lvBjBfxg5gNft1HzuA5+0AFrFXwKyTeg1c7AbwHjqA6W4AT6EDON8N4M4AXAJ+CPo16I2Qt8I+DPk4nCf9hggAAAAkEkgIJAQSAgmBhEBCIBE6AIGEQEIgIZAQSAgkBBICieQbAgIJAAAAyCOQEEgIJAQSAgmBhEAidAACCYGEQEIgIZAQSAgkBBLJNwQEEgAAAJBHICGQEEgIJAQSAgmBROgABBICCYGEQEIgIZAQSAgkkm8ICCQAAAAAAACAUzb5enhb7v9D+UfO6oJBzbv1Foz9/Ddpx2LvEcs/c1cXDGrerbdgbKsi7OiFDtUFg+Nt3m115NBk+w3sfQdl6lJdcMB4G3brLRjbtMz7ytipumBQ827TY+eG190DXu7+B8rcrbpg8PXVvFu5YHQf3QNedV/3gsfqgiHtu5ULRte9BP9eg73ktbrgkAvs8N3KBaNbdw84777uRc/VBUPadysXGIBLwA9Bvwa9EfJW2IchH4fdEAEAAAAAAABOhaO1Ha3taG1Hazta29HajtYOHYCjtR2t7WhtR2s7WtvR2o7WdrR28g0BR2sDAABAHoGEQEIgIZAQSAgkBBKhAxBICCQEEgIJgYRAQiAhkEi+ISCQAAAAgDwCCYGEQEIgIZAQSAgkQgcgkBBICCQEEgIJgYRAQiCRfENAIAEAAAB5BBICCYGEQEIgIZAQSIQOQCAhkBBICCQEEgIJgYRAIvmGgEACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZ8A8ub2MHWEKO1AAAAAElFTkSuQmCC"
    }
    ,
    "9eb170d7c5000dac8fd6": e=>{
        "use strict";
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgBAMAAAAQtmoLAAAAIVBMVEUAAAD///+fn59dXV2Pj484ODgiIiIODg7CwsJ6enrv7+/TxUymAAAAr0lEQVRYw2NgGAWjYBQMQZDRRqIGRSESNUyUJFEDs8GgC6USdxI1OIrQWgPJTqI9IDniSE4aJCc+kpM37QFbAIkaDIVpHUpRS0cLQqxRpcnA7lLAMCmBwQgaaZxqDMyqDKzKICksgEPQgEXQgVmwgVVwATTyJBgSpQq4BAOAUtTQQLKThmGsJAy2DMROcgZiLxh0wUqyH0guZkiOB9aAQRdKo+2l0fbSKBgFo4COAAB5xh3kQnDEUQAAAABJRU5ErkJggg=="
    }
    ,
    "9f2316eeebc9c27ecc70": e=>{
        "use strict";
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGAQMAAABL4HDHAAAAA1BMVEUCAwX/uU74AAAADklEQVQYGWMYBaNgiAIAArwAAa44Of4AAAAASUVORK5CYII="
    }
    ,
    a919c400c9d519b5448e: (e,t,r)=>{
        "use strict";
        e.exports = r.p + "d47cfcd7d25bfc4b12b6.png"
    }
    ,
    "4e7d0f412453ab5a3ce2": (e,t,r)=>{
        "use strict";
        e.exports = r.p + "a212fb46ab59a379f4ae.png"
    }
    ,
    "8ed0923a100357405e8d": (e,t,r)=>{
        "use strict";
        e.exports = r.p + "cce8b0e8da4dc466c580.png"
    }
    ,
    "1e823c716368cec13261": (e,t,r)=>{
        "use strict";
        e.exports = r.p + "e4ff3fdb1e772cbf532f.png"
    }
    ,
    "79c16640587b1d45f7d2": (e,t,r)=>{
        "use strict";
        e.exports = r.p + "4d479297b872e40cb7ad.mov"
    }
    ,
    "54a05401abd45f5271ae": (e,t,r)=>{
        "use strict";
        e.exports = r.p + "4ff0dc9163f32f29321b.webm"
    }
    ,
    "9a6bc0a08b0ae70ba64d": (e,t,r)=>{
        "use strict";
        e.exports = r.p + "69cecfc9d5bf53bc9fc9.mov"
    }
    ,
    "39c18a378dbea19771d5": (e,t,r)=>{
        "use strict";
        e.exports = r.p + "350b1d1480f378b2b5aa.webm"
    }
    ,
    "45732eb854ce2086c6c4": (e,t,r)=>{
        "use strict";
        e.exports = r.p + "f91085e33bffb922a627.mov"
    }
    ,
    "57824cf347a208deb857": (e,t,r)=>{
        "use strict";
        e.exports = r.p + "6fb734305b82edbaf44a.webm"
    }
    ,
    "43f58c71e2d23d4ca2ae": (e,t,r)=>{
        "use strict";
        e.exports = r.p + "1c300d88415f77d16e1c.mov"
    }
    ,
    "5ae5f712193f2ccd9912": (e,t,r)=>{
        "use strict";
        e.exports = r.p + "ab4d6c285a156c34c179.webm"
    }
}, e=>{
    e.O(0, [179], ()=>{
        [1840, 6521, 5083, 5316, 2792, 9014, 9855, 6027, 407, 6743, 327, 5908, 9945, 2868, 5009, 9713, 4958].map(e.E)
    }
    , 5);
    var t = t=>e(e.s = t);
    e.O(0, [3593, 4244, 2015, 8142, 2017, 3617, 1216, 9025, 5105, 9371, 9990, 562], ()=>(t("5b15df55c1316f23e9d0"),
    t("b52edfef829e09f7985c")));
    e.O()
}
]);
